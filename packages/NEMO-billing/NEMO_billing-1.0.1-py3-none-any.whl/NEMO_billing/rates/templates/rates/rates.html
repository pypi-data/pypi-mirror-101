{% extends 'pagination/pagination_base.html' %}
{% block title %}Rates{% endblock %}
{% block before_pagination %}
	<h1>
		Rates
		<a class="btn btn-success pull-right" href="{% url 'create_rate' %}">New rate</a>
	</h1>
{% endblock %}
{% block pagination_content %}
	<table class="table table-bordered table-condensed table-striped table-hover thead-light">
		<thead>
			<tr>
				<th>{% include 'pagination/pagination_column.html' with order_by='type' name='Type' %}</th>
				<th>Item</th>
				{% if rate_categories_exist %}<th>{% include 'pagination/pagination_column.html' with order_by='category' name='Category' %}</th>{% endif %}
				<th>{% include 'pagination/pagination_column.html' with order_by='amount' name='Rate' %}</th>
				<th class="button-column-minimum">{% include 'pagination/pagination_column.html' with order_by='flat' name='Flat Rate' align=True  %}</th>
				<th>{% include 'pagination/pagination_column.html' with order_by='minimum_charge' name='Minimum Charge'%}</th>
				<th class="text-center button-column-minimum"></th>
			</tr>
		</thead>
		<tbody>
			{% for rate in page %}
				<tr>
					<td>{{ rate.type }}</td>
					<td>{{ rate.get_item|default_if_none:"" }}</td>
					{% if rate_categories_exist %}<td>{{ rate.category|default_if_none:"" }}</td>{% endif %}
					<td>{{ rate.amount }}</td>
					<td class="text-center"><span class="glyphicon {% if rate.flat %}glyphicon-ok success-highlight{% endif %}"></span></td>
					<td>{{ rate.minimum_charge|default_if_none:'' }}</td>
					<td><button type="button" class="btn btn-xs btn-default" title="Edit rate" onclick="window.location = '{% url 'edit_rate' rate.type.get_rate_group_type rate.id %}'"><i class="glyphicon glyphicon-pencil"></i></button></td>
				</tr>
			{% endfor %}
		</tbody>
	</table>
{% endblock %}
{% block table_empty_content %}There are currently no rates saved in NEMO.{% endblock %}