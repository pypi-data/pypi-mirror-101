(self.webpackChunk=self.webpackChunk||[]).push([["DiscoverV2Details"],{"./app/components/events/eventMetadata.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>Z});var r=n("../../../../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),a=(n("../../../../node_modules/react/index.js"),n("./app/components/charts/styles.tsx")),o=n("./app/components/dateTime.tsx"),s=n("./app/components/fileSize.tsx"),i=n("./app/components/idBadge/projectBadge.tsx"),l=n("./app/components/links/externalLink.tsx"),u=n("./app/locale.tsx"),c=n("./app/styles/space.tsx"),p=n("./app/utils/getDynamicText.tsx"),d=n("./app/utils/projects.tsx"),m=n("../../../../node_modules/@emotion/core/dist/core.browser.esm.js");function v(e){var t=e.event,n=e.organization,r=e.projectId,i="/api/0/projects/".concat(n.slug,"/").concat(r,"/events/").concat(t.eventID,"/json/");return(0,m.tZ)(f,null,(0,m.tZ)(a.OT,null,(0,u.t)("Event ID")),(0,m.tZ)(g,{"data-test-id":"event-id"},t.eventID),(0,m.tZ)(g,null,(0,m.tZ)(o.Z,{date:(0,p.Z)({value:t.dateCreated||1e3*(t.endTimestamp||0),fixed:"Dummy timestamp"})})),(0,m.tZ)(d.Z,{orgId:n.slug,slugs:[r]},(function(e){var t=e.projects.find((function(e){return e.slug===r}));return(0,m.tZ)(y,{project:t||{slug:r},avatarSize:16})})),(0,m.tZ)(h,{href:i,className:"json-link"},(0,u.t)("Preview JSON")," (",(0,m.tZ)(s.Z,{bytes:t.size}),")"))}v.displayName="EventMetadata";var f=(0,r.Z)("div",{target:"ed2kl980",label:"MetaDataID"})("margin-bottom:",(0,c.Z)(4),";"),g=(0,r.Z)("div",{target:"ed2kl981",label:"MetadataContainer"})("display:flex;justify-content:space-between;font-size:",(function(e){return e.theme.fontSizeMedium}),";"),h=(0,r.Z)(l.Z,{target:"ed2kl982",label:"MetadataJSON"})("font-size:",(function(e){return e.theme.fontSizeMedium}),";"),y=(0,r.Z)(i.Z,{target:"ed2kl983",label:"StyledProjectBadge"})("margin-bottom:",(0,c.Z)(2),";");const Z=v},"./app/components/events/eventVitals.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n("../../../../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),a=(n("../../../../node_modules/react/index.js"),n("./app/components/charts/styles.tsx")),o=n("./app/components/panels/index.tsx"),s=n("./app/components/tooltip.tsx"),i=n("./app/icons/index.tsx"),l=n("./app/locale.tsx"),u=n("./app/styles/space.tsx"),c=n("./app/utils/formatters.tsx");function p(e,t){return e&&"duration"===e.type?(0,c.g9)(t/1e3,3):t.toFixed(3)}var d=n("./app/utils/performance/vitals/constants.tsx"),m=n("../../../../node_modules/@emotion/core/dist/core.browser.esm.js");function v(e){var t,n=e.event,r=e.showSectionHeader,o=void 0===r||r,u=Object.keys(null!==(t=n.measurements)&&void 0!==t?t:{}).filter((function(e){return Boolean(d.r["measurements.".concat(e)])})).sort();if(0===u.length)return null;var c=(0,m.tZ)(g,null,u.map((function(e){return(0,m.tZ)(f,{key:e,event:n,name:e})})));return o?(0,m.tZ)(h,null,(0,m.tZ)(a.OT,null,(0,l.t)("Web Vitals"),function(e){var t;if(null===(t=e.sdk)||void 0===t||!t.version)return!1;var n=e.sdk.version;return n.startsWith("5.26.")||n.startsWith("5.27.0")||n.startsWith("5.27.1")||n.startsWith("5.27.2")}(n)&&(0,m.tZ)(x,{size:"sm"},(0,m.tZ)(s.Z,{title:(0,l.t)("These vitals were collected using an outdated SDK version and may not be accurate. To ensure accurate web vitals in new transaction events, please update your SDK to the latest version."),position:"top",containerDisplayMode:"inline-block"},(0,m.tZ)(i.FC,{size:"sm"})))),c):c}function f(e){var t,n,r,a,o=e.event,u=e.name,c=null!==(t=null===(n=o.measurements)||void 0===n?void 0:n[u].value)&&void 0!==t?t:null;if(null===c)return null;var v=d.r["measurements.".concat(u)];if(!v)return null;var f=c>=v.poorThreshold,g=p(v,c),h=p(v,null!==(r=null==v?void 0:v.poorThreshold)&&void 0!==r?r:0);return(0,m.tZ)(k,null,(0,m.tZ)(y,{failedThreshold:f},(0,m.tZ)(Z,null,null!==(a=v.name)&&void 0!==a?a:u),(0,m.tZ)(b,null,f?(0,m.tZ)(j,{size:"sm"},(0,m.tZ)(s.Z,{title:(0,l.t)("Fails threshold at %s.",h),position:"top",containerDisplayMode:"inline-block"},(0,m.tZ)(i.zC,{size:"sm"}))):null,(0,m.tZ)(S,{failedThreshold:f},g))))}f.displayName="EventVital";var g=(0,r.Z)("div",{target:"e1tznia60",label:"Measurements"})("display:grid;grid-column-gap:",(0,u.Z)(1),";"),h=(0,r.Z)("div",{target:"e1tznia61",label:"Container"})("font-size:",(function(e){return e.theme.fontSizeMedium}),";margin-bottom:",(0,u.Z)(4),";"),y=(0,r.Z)(o.s_,{target:"e1tznia62",label:"StyledPanel"})("padding:",(0,u.Z)(1)," ",(0,u.Z)(1.5),";margin-bottom:",(0,u.Z)(1),";",(function(e){return e.failedThreshold&&"border: 1px solid ".concat(e.theme.red300,";")})),Z=(0,r.Z)("div",{target:"e1tznia63",label:"Name"})(),b=(0,r.Z)("div",{target:"e1tznia64",label:"ValueRow"})({name:"70qvj9",styles:"display:flex;align-items:center;"}),x=(0,r.Z)("span",{target:"e1tznia65",label:"WarningIconContainer"})("display:inline-block;height:",(function(e){var t;return null!==(t=e.theme.iconSizes[e.size])&&void 0!==t?t:e.size}),";line-height:",(function(e){var t;return null!==(t=e.theme.iconSizes[e.size])&&void 0!==t?t:e.size}),";margin-left:",(0,u.Z)(.5),";color:",(function(e){return e.theme.red300}),";"),j=(0,r.Z)("span",{target:"e1tznia66",label:"FireIconContainer"})("display:inline-block;height:",(function(e){var t;return null!==(t=e.theme.iconSizes[e.size])&&void 0!==t?t:e.size}),";line-height:",(function(e){var t;return null!==(t=e.theme.iconSizes[e.size])&&void 0!==t?t:e.size}),";margin-right:",(0,u.Z)(.5),";color:",(function(e){return e.theme.red300}),";"),S=(0,r.Z)("span",{target:"e1tznia67",label:"Value"})("font-size:",(function(e){return e.theme.fontSizeExtraLarge}),";",(function(e){return e.failedThreshold&&"color: ".concat(e.theme.red300,";")})),k=(0,r.Z)("div",{target:"e1tznia68",label:"EventVitalContainer"})()},"./app/components/events/rootSpanStatus.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>j});var r=n("../../../../node_modules/@babel/runtime/helpers/classCallCheck.js"),a=n.n(r),o=n("../../../../node_modules/@babel/runtime/helpers/createClass.js"),s=n.n(o),i=n("../../../../node_modules/@babel/runtime/helpers/inherits.js"),l=n.n(i),u=n("../../../../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),c=n.n(u),p=n("../../../../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),d=n.n(p),m=n("../../../../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),v=n("../../../../node_modules/react/index.js"),f=n("./app/components/charts/styles.tsx"),g=n("./app/locale.tsx"),h=n("./app/styles/space.tsx"),y=n("../../../../node_modules/@emotion/core/dist/core.browser.esm.js");var Z=function(e){l()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=d()(t);if(n){var a=d()(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return c()(this,e)});function o(){return a()(this,o),r.apply(this,arguments)}return s()(o,[{key:"getTransactionEvent",value:function(){var e=this.props.event;if("transaction"===e.type)return e}},{key:"getRootSpanStatus",value:function(){var e,t,n=this.getTransactionEvent();if(!n)return"—";var r=null==n||null===(e=n.contexts)||void 0===e?void 0:e.trace;return null!==(t=null==r?void 0:r.status)&&void 0!==t?t:"—"}},{key:"getHttpStatusCode",value:function(){var e=this.props.event.tags;if(!Array.isArray(e))return"";var t=e.find((function(e){return"http.status_code"===e.key}));return t?t.value:""}},{key:"render",value:function(){if(!this.getTransactionEvent())return null;var e="".concat(this.getHttpStatusCode()," ").concat(this.getRootSpanStatus()).trim();return(0,y.tZ)(b,null,(0,y.tZ)(x,null,(0,y.tZ)(f.OT,null,(0,g.t)("Status"))),(0,y.tZ)("div",null,e))}}]),o}(v.Component);Z.displayName="RootSpanStatus";var b=(0,m.Z)("div",{target:"e1ew9dlj0",label:"Container"})("color:",(function(e){return e.theme.subText}),";font-size:",(function(e){return e.theme.fontSizeMedium}),";margin-bottom:",(0,h.Z)(4),";"),x=(0,m.Z)("div",{target:"e1ew9dlj1",label:"Header"})({name:"70qvj9",styles:"display:flex;align-items:center;"});const j=Z},"./app/components/tagsTable.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n("../../../../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),a=(n("../../../../node_modules/react/index.js"),n("./app/components/charts/styles.tsx")),o=n("./app/components/keyValueTable.tsx"),s=n("./app/components/links/link.tsx"),i=n("./app/components/tooltip.tsx"),l=n("./app/components/version.tsx"),u=n("./app/locale.tsx"),c=n("./app/styles/space.tsx"),p=n("../../../../node_modules/@emotion/core/dist/core.browser.esm.js"),d=function(e){var t=e.event,n=e.query,r=e.generateUrl,c=e.title,d=void 0===c?(0,u.t)("Tag Details"):c,v=t.tags;return(0,p.tZ)(m,null,(0,p.tZ)(a.OT,null,d),(0,p.tZ)(o.v,null,v.map((function(e){var t=n.includes("".concat(e.key,":")),a=t?void 0:r(e),c=function(){switch(e.key){case"release":return(0,p.tZ)(l.Z,{version:e.value,anchor:!1,withPackage:!0});default:return e.value}};return(0,p.tZ)(o.G,{key:e.key,keyName:e.key,value:t?(0,p.tZ)(i.Z,{title:(0,u.t)("This tag is in the current filter conditions")},(0,p.tZ)("span",null,c())):(0,p.tZ)(s.Z,{to:a||""},c())})}))))};d.displayName="TagsTable";var m=(0,r.Z)("div",{target:"e69p5ie0",label:"StyledTagsTable"})("margin-bottom:",(0,c.Z)(3),";");const v=d},"./app/views/eventsV2/breadcrumb.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var r=n("../../../../node_modules/@babel/runtime/helpers/defineProperty.js"),a=n.n(r),o=n("../../../../node_modules/@babel/runtime/helpers/classCallCheck.js"),s=n.n(o),i=n("../../../../node_modules/@babel/runtime/helpers/createClass.js"),l=n.n(i),u=n("../../../../node_modules/@babel/runtime/helpers/inherits.js"),c=n.n(u),p=n("../../../../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),d=n.n(p),m=n("../../../../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),v=n.n(m),f=n("../../../../node_modules/react/index.js"),g=n("./app/components/breadcrumbs.tsx"),h=n("./app/locale.tsx"),y=n("./app/utils/discover/urls.tsx"),Z=n("../../../../node_modules/@emotion/core/dist/core.browser.esm.js");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j=function(e){c()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=v()(t);if(n){var a=v()(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return d()(this,e)});function a(){return s()(this,a),r.apply(this,arguments)}return l()(a,[{key:"getCrumbs",value:function(){var e=[],t=this.props,n=t.eventView,r=t.event,a=t.organization,o=t.location,s=a.features.includes("discover-query")?{pathname:(0,y.zR)(a),query:x(x(x({},o.query),n.generateBlankQueryStringObject()),n.getGlobalSelectionQuery())}:null;return e.push({to:s,label:(0,h.t)("Discover")}),n&&n.isValid()&&e.push({to:n.getResultsViewUrlTarget(a.slug),label:n.name||""}),r&&e.push({label:(0,h.t)("Event Detail")}),e}},{key:"render",value:function(){return(0,Z.tZ)(g.Z,{crumbs:this.getCrumbs()})}}]),a}(f.Component);j.displayName="DiscoverBreadcrumb",j.defaultProps={event:void 0};const S=j},"./app/views/eventsV2/eventDetails/index.tsx":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Ve});var r=n("../../../../node_modules/@babel/runtime/helpers/classCallCheck.js"),a=n.n(r),o=n("../../../../node_modules/@babel/runtime/helpers/createClass.js"),s=n.n(o),i=n("../../../../node_modules/@babel/runtime/helpers/inherits.js"),l=n.n(i),u=n("../../../../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),c=n.n(u),p=n("../../../../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),d=n.n(p),m=n("../../../../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),v=n("../../../../node_modules/react/index.js"),f=n("./app/components/lightWeightNoProjectMessage.tsx"),g=n("./app/components/sentryDocumentTitle.tsx"),h=n("./app/locale.tsx"),y=n("./app/styles/organization.tsx"),Z=n("./app/utils/discover/eventView.tsx"),b=n("./app/utils/withOrganization.tsx"),x=n("../../../../node_modules/@babel/runtime/regenerator/index.js"),j=n.n(x),S=n("../../../../node_modules/@babel/runtime/helpers/asyncToGenerator.js"),k=n.n(S),T=n("../../../../node_modules/@babel/runtime/helpers/defineProperty.js"),w=n.n(T),z=n("../../../../node_modules/@babel/runtime/helpers/get.js"),D=n.n(z),O=n("./app/actionCreators/events.tsx"),_=n("./app/components/acl/feature.tsx"),C=n("./app/components/asyncComponent.tsx"),I=n("./app/components/button.tsx"),P=n("./app/components/buttonBar.tsx"),E=n("./app/components/errors/notFound.tsx"),R=n("./app/components/eventOrGroupTitle.tsx"),B=n("./app/components/events/eventEntries.tsx"),V=n("./app/components/events/eventMessage.tsx"),q=n("./app/components/events/eventMetadata.tsx"),M=n("./app/components/events/eventVitals.tsx"),N=n("./app/components/events/interfaces/spans/context.tsx"),F=n("./app/components/events/opsBreakdown.tsx"),H=n("./app/components/events/rootSpanStatus.tsx"),U=n("./app/components/fileSize.tsx"),W=n("./app/components/layouts/thirds.tsx"),A=n("./app/components/loadingError.tsx"),L=n("./app/components/loadingIndicator.tsx"),Q=n("./app/components/tagsTable.tsx"),G=n("./app/icons/index.tsx"),J=n("./app/styles/space.tsx"),K=n("./app/utils/analytics.tsx"),X=n("./app/utils/discover/fields.tsx"),$=n("./app/utils/discover/urls.tsx"),Y=n("./app/utils/events.tsx"),ee=n("./app/utils/performance/quickTrace/quickTraceContext.tsx"),te=n("./app/utils/performance/quickTrace/quickTraceQuery.tsx"),ne=n("./app/utils/performance/quickTrace/utils.tsx"),re=n("./app/utils/projects.tsx"),ae=n("./app/views/performance/transactionDetails/eventMetas.tsx"),oe=n("./app/views/performance/transactionSummary/utils.tsx"),se=n("./app/views/eventsV2/breadcrumb.tsx"),ie=n("./app/views/eventsV2/utils.tsx"),le=n("./app/components/alert.tsx"),ue=n("./app/components/charts/styles.tsx"),ce=n("./app/components/group/times.tsx"),pe=n("./app/components/idBadge/projectBadge.tsx"),de=n("./app/components/links/link.tsx"),me=n("./app/components/placeholder.tsx"),ve=n("./app/components/seenByList.tsx"),fe=n("./app/components/shortId.tsx"),ge=n("./app/components/stream/groupChart.tsx"),he=n("../../../../node_modules/@emotion/core/dist/core.browser.esm.js");var ye=function(e){l()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=d()(t);if(n){var a=d()(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return c()(this,e)});function o(){return a()(this,o),r.apply(this,arguments)}return s()(o,[{key:"getEndpoints",value:function(){var e=this.props.groupId;return[["group","/issues/".concat(e,"/")]]}},{key:"renderLoading",value:function(){return(0,he.tZ)(me.Z,{height:"120px",bottomGutter:2})}},{key:"renderError",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.state.errors,a=Object.values(r).find((function(e){return e&&404===e.status}));return a?(0,he.tZ)(le.Z,{type:"warning",icon:(0,he.tZ)(G.FC,{size:"md"})},(0,h.t)("The linked issue cannot be found. It may have been deleted, or merged.")):D()(d()(o.prototype),"renderError",this).call(this,e,t,n)}},{key:"renderBody",value:function(){var e=this.props.eventId,t=this.state.group,n="".concat(t.permalink,"events/").concat(e,"/");return(0,he.tZ)(Ze,null,(0,he.tZ)(ue.OT,null,(0,h.t)("Event Issue")),(0,he.tZ)(be,null,(0,he.tZ)(xe,null,(0,he.tZ)(je,{to:n,"data-test-id":"linked-issue"},(0,he.tZ)(Te,{shortId:t.shortId,avatar:(0,he.tZ)(pe.Z,{project:t.project,avatarSize:16,hideName:!0})})),(0,he.tZ)(ke,{seenBy:t.seenBy,maxVisibleAvatars:5})),(0,he.tZ)(Se,null,(0,he.tZ)(ge.Z,{statsPeriod:"30d",data:t,height:56})),(0,he.tZ)(we,null,(0,he.tZ)(ce.Z,{lastSeen:t.lastSeen,firstSeen:t.firstSeen}))))}}]),o}(C.Z),Ze=(0,m.Z)("div",{target:"e1aotpux0",label:"Section"})("margin-bottom:",(0,J.Z)(4),";"),be=(0,m.Z)("div",{target:"e1aotpux1",label:"StyledIssueCard"})("border:1px solid ",(function(e){return e.theme.border}),";border-radius:",(function(e){return e.theme.borderRadius}),";"),xe=(0,m.Z)("div",{target:"e1aotpux2",label:"IssueCardHeader"})("display:flex;align-items:center;justify-content:space-between;padding:",(0,J.Z)(1),";"),je=(0,m.Z)(de.Z,{target:"e1aotpux3",label:"StyledLink"})({name:"1fn0841",styles:"justify-content:flex-start;"}),Se=(0,m.Z)("div",{target:"e1aotpux4",label:"IssueCardBody"})("background:",(function(e){return e.theme.backgroundSecondary}),";padding-top:",(0,J.Z)(1),";"),ke=(0,m.Z)(ve.Z,{target:"e1aotpux5",label:"StyledSeenByList"})({name:"1uk1gs8",styles:"margin:0;"}),Te=(0,m.Z)(fe.Z,{target:"e1aotpux6",label:"StyledShortId"})("font-size:",(function(e){return e.theme.fontSizeMedium}),";color:",(function(e){return e.theme.textColor}),";"),we=(0,m.Z)("div",{target:"e1aotpux7",label:"IssueCardFooter"})("color:",(function(e){return e.theme.gray300}),";font-size:",(function(e){return e.theme.fontSizeSmall}),";padding:",(0,J.Z)(.5)," ",(0,J.Z)(1),";");const ze=ye;function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _e=function(e){l()(i,e);var t,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d()(n);if(r){var a=d()(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return c()(this,e)});function i(){var e;a()(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).state={loading:!0,reloading:!1,error:!1,errors:[],event:void 0,isSidebarVisible:!0,traceSize:void 0},e.toggleSidebar=function(){e.setState({isSidebarVisible:!e.state.isSidebarVisible})},e.generateTagKey=function(e){return e.key in X.wZ?"tags[".concat(e.key,"]"):e.key},e.generateTagUrl=function(t){var n=e.props,r=n.eventView,a=n.organization,o=e.state.event;if(!o)return"";var s=Oe({},o);s.id&&delete s.id;var i=e.generateTagKey(t);return(0,ie.Bn)(r,w()({},i,t.value),s).getResultsViewUrlTarget(a.slug)},e.getEventSlug=function(){var t=e.props.params.eventSlug;return"string"==typeof t?t.trim():""},e}return s()(i,[{key:"componentDidUpdate",value:function(e,t){var n,r,a,o,s,l=this.state.event;l&&(null===(n=l.contexts)||void 0===n||null===(r=n.trace)||void 0===r?void 0:r.trace_id)!==(null==t||null===(a=t.event)||void 0===a||null===(o=a.contexts)||void 0===o||null===(s=o.trace)||void 0===s?void 0:s.trace_id)&&this.fetchTotal(),D()(d()(i.prototype),"componentDidUpdate",this).call(this,e,t)}},{key:"getEndpoints",value:function(){var e=this.props,t=e.organization,n=e.params,r=e.location,a=e.eventView,o=n.eventSlug,s=a.getEventsAPIPayload(r);return s.field=[],[["event","/organizations/".concat(t.slug,"/events/").concat(o,"/"),{query:s}]]}},{key:"projectId",get:function(){return this.props.eventSlug.split(":")[0]}},{key:"fetchTotal",value:(t=k()(j().mark((function e(){var t,n,r,a,o,s,i,l,u,c,p,d,m;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.props,o=a.location,s=a.organization,i=this.state.event){e.next=4;break}return e.abrupt("return");case 4:if(l=null!==(t=null===(n=i.contexts)||void 0===n||null===(r=n.trace)||void 0===r?void 0:r.trace_id)&&void 0!==t?t:null){e.next=7;break}return e.abrupt("return");case 7:return u=(0,ne.$J)(i),c=u.start,p=u.end,(d=(0,ne._Z)({start:c,end:p})).query="trace:".concat(l),e.next=12,(0,O.JE)(this.api,s.slug,d.getEventsAPIPayload(o));case 12:m=e.sent,this.setState({traceSize:m});case 14:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"renderBody",value:function(){var e=this.state.event;return e?this.renderContent(e):(0,he.tZ)(E.Z,null)}},{key:"renderContent",value:function(e){var t,n=this,r=this.props,a=r.organization,o=r.location,s=r.eventView,i=this.state.isSidebarVisible;(0,K.ec)({eventKey:"discover_v2.event_details",eventName:"Discoverv2: Opened Event Details",event_type:e.type,organization_id:parseInt(a.id,10)});var l=null===(t=e.tags.find((function(e){return"transaction"===e.key})))||void 0===t?void 0:t.value,u="transaction"===e.type&&l?(0,oe.e1)({orgSlug:a.slug,transaction:l,projectID:e.projectID,query:o.query}):null,c="/api/0/projects/".concat(a.slug,"/").concat(this.projectId,"/events/").concat(e.eventID,"/json/"),p=function(t){return(0,he.tZ)(v.Fragment,null,(0,he.tZ)(W.h4,null,(0,he.tZ)(W.oB,null,(0,he.tZ)(se.Z,{eventView:s,event:e,organization:a,location:o}),(0,he.tZ)(Ce,{event:e})),(0,he.tZ)(W.kP,null,(0,he.tZ)(P.Z,{gap:1},(0,he.tZ)(I.ZP,{onClick:n.toggleSidebar},i?"Hide Details":"Show Details"),t&&(0,he.tZ)(I.ZP,{icon:(0,he.tZ)(G.V$,null),href:c,external:!0},(0,h.t)("JSON")," (",(0,he.tZ)(U.Z,{bytes:e.size}),")"),u&&(0,he.tZ)(_.Z,{organization:a,features:["performance-view"]},(function(e){var t=e.hasFeature;return(0,he.tZ)(I.ZP,{disabled:!t,priority:"primary",to:u},(0,h.t)("Go to Summary"))}))))),(0,he.tZ)(W.uT,null,t&&(0,he.tZ)(W.or,{fullWidth:!0},(0,he.tZ)(ae.Z,{quickTrace:t,event:e,organization:a,projectId:n.projectId,location:o,traceSize:n.state.traceSize,errorDest:"discover",transactionDest:"discover"})),(0,he.tZ)(W.or,{fullWidth:!i},(0,he.tZ)(re.Z,{orgId:a.slug,slugs:[n.projectId]},(function(r){var i=r.projects;return r.initiallyLoaded?(0,he.tZ)(N.z,{value:{getViewChildTransactionTarget:function(e){return{pathname:(0,$.lS)({eventSlug:e.eventSlug,orgSlug:a.slug}),query:s.generateQueryStringObject()}}}},(0,he.tZ)(ee.z,{value:t},(0,he.tZ)(B.j,{organization:a,event:e,project:i[0],location:o,showExampleCommit:!1,showTagSummary:!1,api:n.api}))):(0,he.tZ)(L.Z,null)}))),i&&(0,he.tZ)(W.MF,null,void 0===t&&(0,he.tZ)(v.Fragment,null,(0,he.tZ)(q.Z,{event:e,organization:a,projectId:n.projectId}),(0,he.tZ)(H.Z,{event:e}),(0,he.tZ)(F.Z,{event:e})),(0,he.tZ)(M.Z,{event:e}),e.groupID&&(0,he.tZ)(ze,{groupId:e.groupID,eventId:e.eventID}),(0,he.tZ)(Q.Z,{generateUrl:n.generateTagUrl,event:e,query:s.query}))))};return a.features.includes("trace-view-quick")||a.features.includes("trace-view-summary")?(0,he.tZ)(te.Z,{event:e,location:o,orgSlug:a.slug},(function(e){return p(e)})):p()}},{key:"renderError",value:function(e){var t=Object.values(this.state.errors).find((function(e){return e&&404===e.status})),n=Object.values(this.state.errors).find((function(e){return e&&403===e.status}));return t?(0,he.tZ)(E.Z,null):n?(0,he.tZ)(A.Z,{message:(0,h.t)("You do not have permission to view that event.")}):D()(d()(i.prototype),"renderError",this).call(this,e,!0,!0)}},{key:"renderComponent",value:function(){var e=this.props,t=e.eventView,n=e.organization,r=this.state.event,a=this.getEventSlug().split(":")[0],o=(0,ie.zt)({eventView:t,event:r,organization:n});return(0,he.tZ)(g.Z,{title:o,orgSlug:n.slug,projectSlug:a},D()(d()(i.prototype),"renderComponent",this).call(this))}}]),i}(C.Z),Ce=function(e){var t=e.event,n=(0,Y.FC)(t);return(0,he.tZ)(Ie,{"data-test-id":"event-header"},(0,he.tZ)(Pe,null,(0,he.tZ)(R.Z,{data:t})),n&&(0,he.tZ)(Ee,null,(0,he.tZ)(V.Z,{message:n})))};Ce.displayName="EventHeader";var Ie=(0,m.Z)("div",{target:"e60qfln0",label:"EventHeaderContainer"})("max-width:",(function(e){return e.theme.breakpoints[0]}),";"),Pe=(0,m.Z)("div",{target:"e60qfln1",label:"TitleWrapper"})("font-size:",(function(e){return e.theme.headerFontSize}),";margin-top:20px;"),Ee=(0,m.Z)("div",{target:"e60qfln2",label:"MessageWrapper"})("margin-top:",(0,J.Z)(1),";");const Re=_e;var Be=function(e){l()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=d()(t);if(n){var a=d()(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return c()(this,e)});function o(){var e;a()(this,o);for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return(e=r.call.apply(r,[this].concat(n))).getEventSlug=function(){var t=e.props.params.eventSlug;return"string"==typeof t?t.trim():""},e.getEventView=function(){var t=e.props.location;return Z.ZP.fromLocation(t)},e.getDocumentTitle=function(e){return"string"==typeof e&&String(e).trim().length>0?[String(e).trim(),(0,h.t)("Discover")]:[(0,h.t)("Discover")]},e}return s()(o,[{key:"render",value:function(){var e=this.props,t=e.organization,n=e.location,r=e.params,a=this.getEventView(),o=this.getEventSlug(),s=this.getDocumentTitle(a.name).join(" - "),i=o.split(":")[0];return(0,he.tZ)(g.Z,{title:s,orgSlug:t.slug,projectSlug:i},(0,he.tZ)(qe,null,(0,he.tZ)(f.Z,{organization:t},(0,he.tZ)(Re,{organization:t,location:n,params:r,eventView:a,eventSlug:o}))))}}]),o}(v.Component);Be.displayName="EventDetails";const Ve=(0,b.Z)(Be);var qe=(0,m.Z)(y.JH,{target:"e1i20vgd0",label:"StyledPageContent"})({name:"y8aj3r",styles:"padding:0;"})},"./app/views/performance/transactionDetails/eventMetas.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>z});var r=n("../../../../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),a=n("../../../../node_modules/react/index.js"),o=n("./app/components/dateTime.tsx"),s=n("./app/components/idBadge/projectBadge.tsx"),i=n("./app/components/timeSince.tsx"),l=n("./app/locale.tsx"),u=n("./app/styles/space.tsx"),c=n("./app/utils/events.tsx"),p=n("./app/utils/formatters.tsx"),d=n("./app/utils/performance/quickTrace/utils.tsx"),m=n("./app/utils/projects.tsx"),v=n("./app/components/errorBoundary.tsx"),f=n("./app/components/links/link.tsx"),g=n("./app/components/placeholder.tsx"),h=n("./app/components/quickTrace/index.tsx"),y=n("./app/components/quickTrace/utils.tsx"),Z=n("./app/utils/analytics.tsx"),b=n("./app/views/performance/transactionDetails/styles.tsx"),x=n("../../../../node_modules/@emotion/core/dist/core.browser.esm.js");function j(e){var t,n,r,a=e.event,o=e.location,s=e.organization,i=e.quickTrace,u=i.isLoading,p=i.error,d=i.trace,m=i.type,j=e.traceSize,S=e.errorDest,k=e.transactionDest,T=null!==(t=null===(n=a.contexts)||void 0===n||null===(r=n.trace)||void 0===r?void 0:r.trace_id)&&void 0!==t?t:null,w=(0,y.aV)(a,s),z=null===T?null:(0,l.t)("Trace ID: %s (%s events)",(0,c.XQ)(T),j||"?"),D=u?(0,x.tZ)(g.Z,{height:"24px"}):p||null===d?"—":(0,x.tZ)(v.Z,{mini:!0},(0,x.tZ)(h.Z,{event:a,quickTrace:{type:m,trace:d},location:o,organization:s,anchor:"right",errorDest:S,transactionDest:k}));return(0,x.tZ)(b.U,{headingText:(0,l.t)("Quick Trace"),beta:!0,tooltipText:(0,l.t)("A minified version of the full trace."),bodyText:D,subtext:null===T?"—":(0,x.tZ)(f.Z,{to:w,onClick:function(){return function(e){(0,Z.ec)({eventKey:"quick_trace.trace_id.clicked",eventName:"Quick Trace: Trace ID clicked",organization_id:parseInt(e.id,10),source:"events"})}(s)}},z)})}function S(e){var t,n,r,a=e.event,u=e.organization,v=e.projectId,f=e.location,g=e.traceSize,h=e.quickTrace,y=e.errorDest,Z=e.transactionDest,S=(0,d.hp)(a)?"transaction":"event",z=(0,x.tZ)(m.Z,{orgId:u.slug,slugs:[v]},(function(e){var t=e.projects.find((function(e){return e.slug===v}));return(0,x.tZ)(s.Z,{project:t||{slug:v},avatarSize:16})})),D=(0,x.tZ)(i.Z,{date:a.dateCreated||1e3*(a.endTimestamp||0)}),O=(0,x.tZ)(w,{event:a});return(0,x.tZ)(k,{type:S},(0,x.tZ)(b.U,{headingText:(0,l.t)("Event ID"),tooltipText:(0,l.t)("The unique ID assigned to this %s.",S),bodyText:(0,c.XQ)(a.eventID),subtext:z}),(0,d.hp)(a)?(0,x.tZ)(b.U,{headingText:(0,l.t)("Event Duration"),tooltipText:(0,l.t)("The time elapsed between the start and end of this transaction."),bodyText:(0,p.g9)(a.endTimestamp-a.startTimestamp,2,!0),subtext:D}):(0,x.tZ)(b.U,{headingText:(0,l.t)("Created"),tooltipText:(0,l.t)("The time at which this event was created."),bodyText:D,subtext:(0,x.tZ)(o.Z,{date:a.dateCreated})}),(0,d.hp)(a)&&(0,x.tZ)(b.U,{headingText:(0,l.t)("Status"),tooltipText:(0,l.t)("The status of this transaction indicating if it succeeded or otherwise."),bodyText:null!==(t=null===(n=a.contexts)||void 0===n||null===(r=n.trace)||void 0===r?void 0:r.status)&&void 0!==t?t:"—",subtext:O}),(0,x.tZ)(T,null,(0,x.tZ)(j,{event:a,organization:u,location:f,quickTrace:h,errorDest:y,transactionDest:Z,traceSize:g})))}j.displayName="QuickTraceMeta",S.displayName="EventMetas";var k=(0,r.Z)("div",{target:"e1n7b05k0",label:"EventDetailHeader"})("display:grid;grid-template-columns:repeat(",(function(e){return"transaction"===e.type?3:2}),",1fr);grid-template-rows:repeat(2,auto);grid-gap:",(0,u.Z)(2),";margin-bottom:",(0,u.Z)(2),";@media (min-width:",(function(e){return e.theme.breakpoints[1]}),"){margin-bottom:0;}@media (min-width:",(function(e){return e.theme.breakpoints[2]}),"){",(function(e){return"transaction"===e.type?"grid-template-columns: minmax(160px, 1fr) minmax(160px, 1fr) minmax(160px, 1fr) 6fr;":"grid-template-columns: minmax(160px, 1fr) minmax(200px, 1fr) 6fr;"}),";grid-row-gap:0;}"),T=(0,r.Z)("div",{target:"e1n7b05k1",label:"QuickTraceContainer"})("grid-column:1/4;@media (min-width:",(function(e){return e.theme.breakpoints[2]}),"){justify-self:flex-end;min-width:325px;grid-column:unset;}");function w(e){var t=e.event.tags,n=(0,x.tZ)(a.Fragment,null,"—");if(!Array.isArray(t))return n;var r=t.find((function(e){return"http.status_code"===e.key}));return r?(0,x.tZ)(a.Fragment,null,"HTTP ",r.value):n}w.displayName="HttpStatus";const z=S},"./app/views/performance/transactionDetails/styles.tsx":(e,t,n)=>{"use strict";n.d(t,{U:()=>u});var r=n("../../../../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),a=(n("../../../../node_modules/react/index.js"),n("./app/components/charts/styles.tsx")),o=n("./app/components/featureBadge.tsx"),s=n("./app/components/questionTooltip.tsx"),i=n("./app/styles/space.tsx"),l=n("../../../../node_modules/@emotion/core/dist/core.browser.esm.js");function u(e){var t=e.headingText,n=e.tooltipText,r=e.bodyText,a=e.subtext,o=e.beta;return(0,l.tZ)(c,null,(0,l.tZ)(p,null,t,(0,l.tZ)(s.Z,{position:"top",size:"sm",containerDisplayMode:"block",title:n}),o&&(0,l.tZ)(m,{type:"beta"})),(0,l.tZ)(d,null,r),(0,l.tZ)(v,null,a))}u.displayName="MetaData";var c=(0,r.Z)("div",{target:"e16499nx0",label:"HeaderInfo"})({name:"1ry9wb5",styles:"height:78px;"}),p=(0,r.Z)(a.OT,{target:"e16499nx1",label:"StyledSectionHeading"})({name:"1uk1gs8",styles:"margin:0;"}),d=(0,r.Z)("div",{target:"e16499nx2",label:"SectionBody"})("font-size:",(function(e){return e.theme.fontSizeExtraLarge}),";padding:",(0,i.Z)(.5)," 0;max-height:32px;"),m=(0,r.Z)(o.Z,{target:"e16499nx3",label:"StyledFeatureBadge"})({name:"1uk1gs8",styles:"margin:0;"}),v=(0,r.Z)("div",{target:"e16499nx4",label:"SectionSubtext"})("color:",(function(e){return"error"===e.type?e.theme.error:e.theme.subText}),";font-size:",(function(e){return e.theme.fontSizeMedium}),";")}}]);
//# sourceMappingURL=DiscoverV2Details.js.map