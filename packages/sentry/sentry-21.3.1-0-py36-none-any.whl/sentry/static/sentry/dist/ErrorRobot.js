(self.webpackChunk=self.webpackChunk||[]).push([["ErrorRobot"],{"./app/components/errorRobot.tsx":(e,t,r)=>{"use strict";r.r(t),r.d(t,{ErrorRobot:()=>R,default:()=>E});var n=r("../../../../node_modules/@babel/runtime/regenerator/index.js"),a=r.n(n),s=r("../../../../node_modules/@babel/runtime/helpers/asyncToGenerator.js"),o=r.n(s),i=r("../../../../node_modules/@babel/runtime/helpers/classCallCheck.js"),l=r.n(i),u=r("../../../../node_modules/@babel/runtime/helpers/createClass.js"),c=r.n(u),p=r("../../../../node_modules/@babel/runtime/helpers/inherits.js"),d=r.n(p),m=r("../../../../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),b=r.n(m),h=r("../../../../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),f=r.n(h),g=r("../../../../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),v=r("../../../../node_modules/react/index.js"),x=r("../../../../node_modules/react-router/es/index.js"),y=r("./images/spot/sentry-robot.png"),k=r.n(y),w=r("./app/components/button.tsx"),j=r("./app/locale.tsx"),_=r("./app/styles/space.tsx"),Z=r("./app/utils.tsx"),C=r("./app/utils/withApi.tsx"),S=r("./app/views/onboarding/createSampleEventButton.tsx"),I=r("../../../../node_modules/@emotion/core/dist/core.browser.esm.js");var R=function(e){d()(i,e);var t,r,n,s=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f()(r);if(n){var a=f()(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return b()(this,e)});function i(){var e;l()(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=s.call.apply(s,[this].concat(r))).state={error:!1,loading:!1,sampleIssueId:e.props.sampleIssueId},e}return c()(i,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"fetchData",value:(t=o()(a().mark((function e(){var t,r,n,s,o,i,l,u,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,r=t.org,n=t.project,s=this.state.sampleIssueId,n){e.next=4;break}return e.abrupt("return");case 4:if(!(0,Z.ri)(s)){e.next=6;break}return e.abrupt("return");case 6:return o="/projects/".concat(r.slug,"/").concat(n.slug,"/issues/"),this.setState({loading:!0}),e.prev=8,e.next=11,this.props.api.requestPromise(o,{method:"GET",data:{limit:1}});case 11:i=e.sent,this.setState({sampleIssueId:i.length>0&&i[0].id||""}),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(8),c=null===(l=null===e.t0||void 0===e.t0||null===(u=e.t0.responseJSON)||void 0===u?void 0:u.detail)||void 0===l||l,this.setState({error:c});case 19:this.setState({loading:!1});case 20:case"end":return e.stop()}}),e,this,[[8,15]])}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this.state,t=e.loading,r=e.error,n=e.sampleIssueId,a=this.props,s=a.org,o=a.project,i=a.gradient,l=o&&!t&&!r&&n?(0,I.tZ)("p",null,(0,I.tZ)(x.Link,{to:"/".concat(s.slug,"/").concat(o.slug,"/issues/").concat(n,"/?sample")},(0,j.t)("Or see your sample event"))):(0,I.tZ)("p",null,(0,I.tZ)(S.Z,{priority:"link",project:o,source:"issues_list",disabled:!o,title:o?void 0:(0,j.t)("Select a project to create a sample event")},(0,j.t)("Create a sample event")));return(0,I.tZ)(P,{"data-test-id":"awaiting-events",className:"awaiting-events",gradient:i},(0,I.tZ)(z,{"aria-hidden":!0},(0,I.tZ)(T,null)),(0,I.tZ)(B,null,(0,I.tZ)("h3",null,(0,j.t)("Waiting for eventsâ€¦")),(0,I.tZ)("p",null,(0,j._N)("Our error robot is waiting to [strike:devour] receive your first event.",{strike:(0,I.tZ)(O,null)})),(0,I.tZ)("p",null,o&&(0,I.tZ)(w.ZP,{"data-test-id":"install-instructions",priority:"primary",to:"/".concat(s.slug,"/").concat(o.slug,"/getting-started/").concat(o.platform||"")},(0,j.t)("Installation Instructions"))),l))}}]),i}(v.Component);R.displayName="ErrorRobot";const E=(0,C.Z)(R);var P=(0,g.Z)("div",{target:"el1b5da0",label:"ErrorRobotWrapper"})("display:flex;justify-content:center;font-size:",(function(e){return e.theme.fontSizeExtraLarge}),";box-shadow:inset 0 1px 3px rgba(0,0,0,0.08);border-radius:0 0 3px 3px;padding:40px ",(0,_.Z)(3)," ",(0,_.Z)(3),";min-height:260px;@media (max-width:",(function(e){return e.theme.breakpoints[0]}),"){flex-direction:column;align-items:center;padding:",(0,_.Z)(3),";text-align:center;}"),z=(0,g.Z)("div",{target:"el1b5da1",label:"Robot"})("display:block;position:relative;width:220px;height:260px;background:url(",k(),");background-size:cover;@media (max-width:",(function(e){return e.theme.breakpoints[0]}),"){width:110px;height:130px;}"),T=(0,g.Z)("span",{target:"el1b5da2",label:"Eye"})("width:12px;height:12px;border-radius:50%;position:absolute;top:70px;left:81px;transform:translateZ(0);animation:blink-eye 0.6s infinite;@media (max-width:",(function(e){return e.theme.breakpoints[0]}),"){width:6px;height:6px;top:35px;left:41px;}@keyframes blink-eye{0%{background:#e03e2f;box-shadow:0 0 10px #e03e2f;}50%{background:#4a4d67;box-shadow:none;}100%{background:#e03e2f;box-shadow:0 0 10px #e03e2f;}}"),B=(0,g.Z)("div",{target:"el1b5da3",label:"MessageContainer"})("align-self:center;max-width:480px;margin-left:40px;@media (max-width:",(function(e){return e.theme.breakpoints[0]}),"){margin:0;}"),O=(0,g.Z)("span",{target:"el1b5da4",label:"Strikethrough"})({name:"4jky3p",styles:"text-decoration:line-through;"})},"./app/views/onboarding/createSampleEventButton.tsx":(e,t,r)=>{"use strict";r.d(t,{Z:()=>D});var n=r("../../../../node_modules/@babel/runtime/helpers/extends.js"),a=r.n(n),s=r("../../../../node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),o=r.n(s),i=r("../../../../node_modules/@babel/runtime/regenerator/index.js"),l=r.n(i),u=r("../../../../node_modules/@babel/runtime/helpers/classCallCheck.js"),c=r.n(u),p=r("../../../../node_modules/@babel/runtime/helpers/createClass.js"),d=r.n(p),m=r("../../../../node_modules/@babel/runtime/helpers/inherits.js"),b=r.n(m),h=r("../../../../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),f=r.n(h),g=r("../../../../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),v=r.n(g),x=r("../../../../node_modules/@babel/runtime/helpers/asyncToGenerator.js"),y=r.n(x),k=r("../../../../node_modules/react/index.js"),w=r("../../../../node_modules/react-router/es/index.js"),j=r("../../../../node_modules/@sentry/minimal/esm/index.js"),_=r("../../../../node_modules/@sentry/types/esm/severity.js"),Z=r("./app/actionCreators/indicator.tsx"),C=r("./app/components/button.tsx"),S=r("./app/locale.tsx"),I=r("./app/utils/analytics.tsx"),R=r("./app/utils/withApi.tsx"),E=r("./app/utils/withOrganization.tsx"),P=r("../../../../node_modules/@emotion/core/dist/core.browser.esm.js");var z=1e3;function T(e,t){return B.apply(this,arguments)}function B(){return(B=y()(l().mark((function e(t,r){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n>15)){e.next=4;break}return e.abrupt("return",{eventCreated:!1,retries:n-1});case 4:return e.next=6,new Promise((function(e){return setTimeout(e,z)}));case 6:return e.prev=6,e.next=9,t.requestPromise("/issues/".concat(r,"/events/latest/"));case 9:return e.abrupt("return",{eventCreated:!0,retries:n});case 12:e.prev=12,e.t0=e.catch(6),++n;case 15:e.next=1;break;case 17:case"end":return e.stop()}}),e,null,[[6,12]])})))).apply(this,arguments)}var O=function(e){b()(s,e);var t,r,n=(t=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=v()(t);if(r){var a=v()(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return f()(this,e)});function s(){var e;c()(this,s);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return(e=n.call.apply(n,[this].concat(r))).state={creating:!1},e.createSampleGroup=y()(l().mark((function t(){var r,n,a,s,o,i,u,c,p,d,m,b;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.props,n=r.api,a=r.organization,s=r.project){t.next=3;break}return t.abrupt("return");case 3:return(0,Z.E3)((0,S.t)("Processing sample event..."),{duration:15e3}),e.setState({creating:!0}),t.prev=5,i="/projects/".concat(a.slug,"/").concat(s.slug,"/create-sample/"),t.next=9,n.requestPromise(i,{method:"POST"});case 9:o=t.sent,t.next=19;break;case 12:return t.prev=12,t.t0=t.catch(5),j.$e((function(e){e.setExtra("error",t.t0),j.Tb(new Error("Failed to create sample event"))})),e.setState({creating:!1}),(0,Z.B8)(),(0,Z.Iw)((0,S.t)("Failed to create a new sample event")),t.abrupt("return");case 19:return u=performance.now(),t.next=22,T(n,o.groupID);case 22:if(c=t.sent,p=c.eventCreated,d=c.retries,m=performance.now(),(0,Z.B8)(),e.setState({creating:!1}),b=Math.ceil(m-u),e.recordAnalytics({eventCreated:p,retries:d,duration:b}),p){t.next=34;break}return(0,Z.Iw)((0,S.t)("Failed to load sample event")),j.$e((function(e){e.setTag("groupID",o.groupID),e.setTag("platform",s.platform||""),e.setTag("interval",z.toString()),e.setTag("retries",d.toString()),e.setTag("duration",b.toString()),e.setLevel(_.z.Warning),j.uT("Failed to load sample event")})),t.abrupt("return");case 34:w.browserHistory.push("/organizations/".concat(a.slug,"/issues/").concat(o.groupID,"/"));case 35:case"end":return t.stop()}}),t,null,[[5,12]])}))),e}return d()(s,[{key:"componentDidMount",value:function(){var e=this.props,t=e.organization,r=e.project,n=e.source;r&&(0,I.qJ)({eventKey:"sample_event.button_viewed",org_id:t.id,project_id:r.id,source:n})}},{key:"recordAnalytics",value:function(e){var t=e.eventCreated,r=e.retries,n=e.duration,a=this.props,s=a.organization,o=a.project,i=a.source;if(o){var l="sample_event.".concat(t?"created":"failed"),u="Sample Event ".concat(t?"Created":"Failed");(0,I.ec)({eventKey:l,eventName:u,organization_id:s.id,project_id:o.id,platform:o.platform||"",interval:z,retries:r,duration:n,source:i})}}},{key:"render",value:function(){var e=this.props,t=(e.api,e.organization,e.project,e.source,o()(e,["api","organization","project","source"])),r=this.state.creating;return(0,P.tZ)(C.ZP,a()({},t,{"data-test-id":"create-sample-event",disabled:t.disabled||r,onClick:this.createSampleGroup}))}}]),s}(k.Component);O.displayName="CreateSampleEventButton";const D=(0,R.Z)((0,E.Z)(O))},"./images/spot/sentry-robot.png":(e,t,r)=>{e.exports=r.p+"spot/sentry-robot.a95c7b.png"}}]);
//# sourceMappingURL=ErrorRobot.js.map