(self.webpackChunk=self.webpackChunk||[]).push([["CreateOwnershipRuleModal"],{"./app/components/modals/createOwnershipRuleModal.tsx":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>O,modalCss:()=>_});var o=n("../../../../node_modules/@babel/runtime/helpers/extends.js"),l=n.n(o),r=n("../../../../node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),s=n.n(r),a=n("../../../../node_modules/react/index.js"),u=n("../../../../node_modules/@emotion/core/dist/core.browser.esm.js"),i=n("./app/locale.tsx"),c=n("./app/utils/theme.tsx"),d=n("../../../../node_modules/@babel/runtime/helpers/classCallCheck.js"),p=n.n(d),f=n("../../../../node_modules/@babel/runtime/helpers/createClass.js"),m=n.n(f),v=n("../../../../node_modules/@babel/runtime/helpers/inherits.js"),h=n.n(v),b=n("../../../../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),w=n.n(b),y=n("../../../../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),g=n.n(y),j=n("../../../../node_modules/lodash/uniq.js"),C=n.n(j),x=n("./app/components/asyncComponent.tsx"),k=n("./app/views/settings/project/projectOwnership/ownerInput.tsx");const R=function(e){h()(r,e);var t,n,o=(t=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,o=g()(t);if(n){var l=g()(this).constructor;e=Reflect.construct(o,arguments,l)}else e=o.apply(this,arguments);return w()(this,e)});function r(){return p()(this,r),o.apply(this,arguments)}return m()(r,[{key:"getEndpoints",value:function(){var e=this.props,t=e.organization,n=e.project,o=e.issueId;return[["ownership","/projects/".concat(t.slug,"/").concat(n.slug,"/ownership/")],["urlTagData","/issues/".concat(o,"/tags/url/"),{},{allowError:function(e){return 404===e.status}}],["eventData","/issues/".concat(o,"/events/latest/")]]}},{key:"renderBody",value:function(){var e=this.state,t=e.ownership,n=e.urlTagData,o=e.eventData;if(!t&&!n&&!o)return null;var r,s,c,d,p,f,m,v=n?n.topValues.sort((function(e,t){return e.count-t.count})).map((function(e){return e.value})).slice(0,5):[],h=(null==o?void 0:o.entries).find((function(e){var t=e.type;return["exception","stacktrace"].includes(t)})),b=[];"exception"===(null==h?void 0:h.type)&&(b=null!==(r=null==h||null===(s=h.data)||void 0===s||null===(c=s.values)||void 0===c||null===(d=c[0])||void 0===d||null===(p=d.stacktrace)||void 0===p?void 0:p.frames)&&void 0!==r?r:[]),"stacktrace"===(null==h?void 0:h.type)&&(b=null!==(f=null==h||null===(m=h.data)||void 0===m?void 0:m.frames)&&void 0!==f?f:[]);var w=b.filter((function(e){return e.inApp}));w.length>0&&(b=w);var y=C()(b.map((function(e){return e.filename||e.absPath||""}))).filter((function(e){return e})).slice(0,30);return(0,u.tZ)(a.Fragment,null,(0,u.tZ)("p",null,(0,i.t)("Match against Issue Data: (globbing syntax *, ? supported)")),(0,u.tZ)(k.Z,l()({},this.props,{initialText:(null==t?void 0:t.raw)||"",urls:v,paths:y})))}}]),r}(x.Z);var Z=function(e){var t=e.Body,n=e.Header,o=e.closeModal,r=s()(e,["Body","Header","closeModal"]);return(0,u.tZ)(a.Fragment,null,(0,u.tZ)(n,{closeButton:!0,onHide:o},(0,i.t)("Create Ownership Rule")),(0,u.tZ)(t,null,(0,u.tZ)(R,l()({},r,{onSave:function(){var e;null===(e=r.onClose)||void 0===e||e.call(r),window.setTimeout(o,2e3)}}))))};Z.displayName="CreateOwnershipRuleModal";var _=(0,u.iv)("@media (min-width:",c.ZP.breakpoints[0],"){.modal-dialog{width:80%;margin-left:-40%;}}.modal-content{overflow:initial;};label:modalCss;");const O=Z}}]);
//# sourceMappingURL=CreateOwnershipRuleModal.js.map