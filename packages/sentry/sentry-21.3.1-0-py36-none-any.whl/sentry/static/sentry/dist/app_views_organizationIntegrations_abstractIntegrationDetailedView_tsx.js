(self.webpackChunk=self.webpackChunk||[]).push([["app_views_organizationIntegrations_abstractIntegrationDetailedView_tsx"],{"./app/views/organizationIntegrations/abstractIntegrationDetailedView.tsx":(t,e,n)=>{"use strict";n.d(e,{Z:()=>ft});var r=n("../../../../node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),o=n.n(r),a=n("../../../../node_modules/@babel/runtime/helpers/extends.js"),i=n.n(a),s=n("../../../../node_modules/@babel/runtime/helpers/defineProperty.js"),l=n.n(s),u=n("../../../../node_modules/@babel/runtime/helpers/classCallCheck.js"),c=n.n(u),p=n("../../../../node_modules/@babel/runtime/helpers/createClass.js"),d=n.n(p),g=n("../../../../node_modules/@babel/runtime/helpers/inherits.js"),f=n.n(g),m=n("../../../../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),h=n.n(m),y=n("../../../../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),v=n.n(y),b=n("../../../../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),Z=n("../../../../node_modules/react/index.js"),w=n("../../../../node_modules/lodash/startCase.js"),k=n.n(w),S=n("./app/components/acl/access.tsx"),x=n("./app/components/alert.tsx"),O=n("./app/components/asyncComponent.tsx"),I=n("./app/components/links/externalLink.tsx"),j=n("./app/components/panels/index.tsx"),C=n("./app/components/tag.tsx"),R=n("./app/components/tooltip.tsx"),_=n("./app/icons/index.tsx"),P=n("./app/locale.tsx"),q=n("./app/plugins/components/pluginIcon.tsx"),z=n("./app/styles/space.tsx"),D=n("./app/utils/integrationUtil.tsx"),T=n("./app/utils/marked.tsx"),E=n("./app/views/settings/components/emptyMessage.tsx"),N=n("./app/actionCreators/modal.tsx"),B=n("./app/components/button.tsx"),M=n("./app/actionCreators/indicator.tsx"),A=n("./app/views/settings/components/forms/textareaField.tsx"),L=n("./app/views/settings/components/text/textBlock.tsx"),F=n("../../../../node_modules/@emotion/core/dist/core.browser.esm.js");function H(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function W(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?H(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var V=function(t){f()(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=v()(e);if(n){var o=v()(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return h()(this,t)});function o(){var t;c()(this,o);for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return(t=r.call.apply(r,[this].concat(n))).state=W(W({},t.getDefaultState()),{},{isSending:!1,message:""}),t.sendRequest=function(){var e=t.props,n=e.organization,r=e.slug,o=e.type,a=t.state.message;(0,D.pd)("integrations.request_install",{integration_type:o,integration:r},n);var i="/organizations/".concat(n.slug,"/integration-requests/");t.api.request(i,{method:"POST",data:{providerSlug:r,providerType:o,message:a},success:t.handleSubmitSuccess,error:t.handleSubmitError})},t.handleSubmitSuccess=function(){var e=t.props,n=e.closeModal,r=e.onSuccess;(0,M.S9)((0,P.t)("Request successfully sent.")),t.setState({isSending:!1}),r(),n()},t.handleSubmitError=function(){(0,M.Iw)("Error sending the request"),t.setState({isSending:!1})},t}return d()(o,[{key:"render",value:function(){var t=this,e=this.props,n=e.Header,r=e.Body,o=e.Footer,a=e.name,i=this.state.isSending?(0,P.t)("Sending Request"):(0,P.t)("Send Request");return(0,F.tZ)(Z.Fragment,null,(0,F.tZ)(n,null,(0,F.tZ)("h4",null,(0,P.t)("Request %s Installation",a))),(0,F.tZ)(r,null,(0,F.tZ)(L.Z,null,(0,P.t)("Looks like your organization owner, manager, or admin needs to install %s. Want to send them a request?",a)),(0,F.tZ)(L.Z,null,(0,P.t)("(Optional) You’ve got good reasons for installing the %s Integration. Share them with your organization owner.",a)),(0,F.tZ)(A.Z,{inline:!1,flexibleControlStateSize:!0,stacked:!0,name:"message",type:"string",onChange:function(e){return t.setState({message:e})},placeholder:(0,P.t)("Optional message…")}),(0,F.tZ)(L.Z,null,(0,P.t)("When you click “Send Request”, we’ll email your request to your organization’s owners. So just keep that in mind."))),(0,F.tZ)(o,null,(0,F.tZ)(B.ZP,{onClick:this.sendRequest},i)))}}]),o}(O.Z);V.displayName="RequestIntegrationModal";var Y=function(t){f()(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=v()(e);if(n){var o=v()(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return h()(this,t)});function o(){var t;c()(this,o);for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return(t=r.call.apply(r,[this].concat(n))).state={isOpen:!1,isSent:!1},t}return d()(o,[{key:"openRequestModal",value:function(){var t=this;this.setState({isOpen:!0}),(0,N.openModal)((function(e){return(0,F.tZ)(V,i()({},t.props,e,{onSuccess:function(){return t.setState({isSent:!0})}}))}),{onClose:function(){return t.setState({isOpen:!1})}})}},{key:"render",value:function(){var t,e=this,n=this.state,r=n.isOpen,o=n.isSent;return t=r?(0,P.t)("Requesting Installation"):o?(0,P.t)("Installation Requested"):(0,P.t)("Request Installation"),(0,F.tZ)(G,{"data-test-id":"request-integration-button",disabled:r||o,onClick:function(){return e.openRequestModal()},priority:"primary",size:"small"},t)}}]),o}(Z.Component);Y.displayName="RequestIntegrationButton";var G=(0,b.Z)(B.ZP,{target:"e17ey73o0",label:"StyledRequestIntegrationButton"})("margin-left:",(0,z.Z)(1),";"),U=n("./app/views/organizationIntegrations/integrationStatus.tsx");function J(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function K(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?J(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Q=function(t){f()(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=v()(e);if(n){var o=v()(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return h()(this,t)});function o(){var t;c()(this,o);for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return(t=r.call.apply(r,[this].concat(n))).tabs=["overview","configurations"],t.onTabChange=function(e){t.trackIntegrationEvent("integrations.integration_tab_clicked",{integration_tab:e}),t.setState({tab:e})},t.trackIntegrationEvent=function(e,n){n=n||{};var r=K({view:"integrations_directory_integration_detail",integration:t.integrationSlug,integration_type:t.integrationType,already_installed:"Not Installed"!==t.installationStatus},n);(0,D.pd)(e,r,t.props.organization)},t}return d()(o,[{key:"componentDidMount",value:function(){var t="configurations"===this.props.location.query.tab?"configurations":"overview";this.setState({tab:t})}},{key:"onLoadAllEndpointsSuccess",value:function(){this.trackIntegrationEvent("integrations.integration_viewed",{integration_tab:this.state.tab})}},{key:"integrationType",get:function(){throw new Error("Not implemented")}},{key:"description",get:function(){throw new Error("Not implemented")}},{key:"author",get:function(){throw new Error("Not implemented")}},{key:"alerts",get:function(){return[]}},{key:"resourceLinks",get:function(){throw new Error("Not implemented")}},{key:"installationStatus",get:function(){throw new Error("Not implemented")}},{key:"integrationName",get:function(){throw new Error("Not implemented")}},{key:"featureData",get:function(){throw new Error("Not implemented")}},{key:"getIcon",value:function(t){switch(t){case"View Source":return(0,F.tZ)(_.FI,null);case"Report Issue":return(0,F.tZ)(_.Uv,null);case"Documentation":case"Splunk Setup Instructions":case"Trello Setup Instructions":return(0,F.tZ)(_.OH,null);default:return(0,F.tZ)(_.RM,null)}}},{key:"getTabDisplay",value:function(t){return t}},{key:"renderTopButton",value:function(t,e){throw new Error("Not implemented")}},{key:"renderPermissions",value:function(){return null}},{key:"renderEmptyConfigurations",value:function(){return(0,F.tZ)(j.s_,null,(0,F.tZ)(E.Z,{title:(0,P.t)("You haven't set anything up yet"),description:(0,P.t)("But that doesn’t have to be the case for long! Add an installation to get started."),action:this.renderAddInstallButton(!0)}))}},{key:"renderConfigurations",value:function(){throw new Error("Not implemented")}},{key:"integrationSlug",get:function(){return this.props.params.integrationSlug}},{key:"featureProps",get:function(){return{organization:this.props.organization,features:this.featureData.map((function(t){return{featureGate:t.featureGate,description:(0,F.tZ)(it,{dangerouslySetInnerHTML:{__html:(0,T.A)(t.description)}})}}))}}},{key:"cleanTags",value:function(){return(0,D.CP)(this.featureData)}},{key:"renderRequestIntegrationButton",value:function(){return(0,F.tZ)(Y,{organization:this.props.organization,name:this.integrationName,slug:this.integrationSlug,type:this.integrationType})}},{key:"renderAddInstallButton",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.props.organization,r=(0,D.bh)(),o=r.IntegrationDirectoryFeatures;return(0,F.tZ)(o,this.featureProps,(function(r){var o=r.disabled,a=r.disabledReason;return(0,F.tZ)(dt,null,(0,F.tZ)(S.Z,{organization:n,access:["org:integrations"]},(function(n){var r=n.hasAccess;return(0,F.tZ)(R.Z,{title:(0,P.t)("You must be an organization owner, manager or admin to install this."),disabled:r},!e&&o?(0,F.tZ)("div",null):t.renderTopButton(o,r))})),o&&(0,F.tZ)(at,{reason:a}))}))}},{key:"renderTopSection",value:function(){var t=this.cleanTags();return(0,F.tZ)(X,null,(0,F.tZ)(q.ZP,{pluginId:this.integrationSlug,size:50}),(0,F.tZ)(nt,null,(0,F.tZ)(X,null,(0,F.tZ)(rt,null,this.integrationName),(0,F.tZ)(pt,null,this.installationStatus&&(0,F.tZ)(U.Z,{status:this.installationStatus}))),(0,F.tZ)(X,null,t.map((function(t){return(0,F.tZ)(et,{key:t},k()(t))})))),this.renderAddInstallButton())}},{key:"renderTabs",value:function(){var t=this;return(0,F.tZ)("ul",{className:"nav nav-tabs border-bottom",style:{paddingTop:"30px"}},this.tabs.map((function(e){return(0,F.tZ)("li",{key:e,className:t.state.tab===e?"active":"",onClick:function(){return t.onTabChange(e)}},(0,F.tZ)(tt,null,(0,P.t)(t.getTabDisplay(e))))})))}},{key:"renderInformationCard",value:function(){var t=this,e=(0,D.bh)().IntegrationDirectoryFeatureList;return(0,F.tZ)(Z.Fragment,null,(0,F.tZ)(X,null,(0,F.tZ)($,null,(0,F.tZ)(st,{dangerouslySetInnerHTML:{__html:(0,T.Z)(this.description)}}),(0,F.tZ)(e,i()({},this.featureProps,{provider:{key:this.props.params.integrationSlug}})),this.renderPermissions(),this.alerts.map((function(t,e){return(0,F.tZ)(x.Z,{key:e,type:t.type,icon:t.icon},(0,F.tZ)("span",{dangerouslySetInnerHTML:{__html:(0,T.A)(t.text)}}))}))),(0,F.tZ)(lt,null,!!this.author&&(0,F.tZ)(ut,null,(0,F.tZ)(gt,null,(0,P.t)("Created By")),(0,F.tZ)("div",null,this.author)),this.resourceLinks.map((function(e){var n=e.title,r=e.url;return(0,F.tZ)(ct,{key:r},t.getIcon(n),(0,F.tZ)(I.Z,{href:r},(0,P.t)(n)))})))))}},{key:"renderBody",value:function(){return(0,F.tZ)(Z.Fragment,null,this.renderTopSection(),this.renderTabs(),"overview"===this.state.tab?this.renderInformationCard():this.renderConfigurations())}}]),o}(O.Z),X=(0,b.Z)("div",{target:"eensvro0",label:"Flex"})({name:"k008qs",styles:"display:flex;"}),$=(0,b.Z)("div",{target:"eensvro1",label:"FlexContainer"})({name:"1rr4qq7",styles:"flex:1;"}),tt=(0,b.Z)("a",{target:"eensvro2",label:"CapitalizedLink"})({name:"10iahqc",styles:"text-transform:capitalize;"}),et=(0,b.Z)(C.Z,{target:"eensvro3",label:"StyledTag"})("text-transform:none;&:not(:first-child){margin-left:",(0,z.Z)(.5),";}"),nt=(0,b.Z)("div",{target:"eensvro4",label:"NameContainer"})("display:flex;align-items:flex-start;flex-direction:column;justify-content:center;padding-left:",(0,z.Z)(2),";"),rt=(0,b.Z)("div",{target:"eensvro5",label:"Name"})("font-weight:bold;font-size:1.4em;margin-bottom:",(0,z.Z)(1),";"),ot=(0,b.Z)(_.bM,{target:"eensvro6",label:"IconCloseCircle"})("color:",(function(t){return t.theme.red300}),";margin-right:",(0,z.Z)(1),";"),at=(0,b.Z)((function(t){var e=t.reason,n=o()(t,["reason"]);return(0,F.tZ)("div",i()({style:{display:"flex",alignItems:"center"}},n),(0,F.tZ)(ot,{isCircled:!0}),(0,F.tZ)("span",null,e))}),{target:"eensvro7",label:"DisabledNotice"})("padding-top:",(0,z.Z)(.5),";font-size:0.9em;"),it=(0,b.Z)("span",{target:"eensvro8",label:"FeatureListItem"})({name:"1wsccn1",styles:"line-height:24px;"}),st=(0,b.Z)("div",{target:"eensvro9",label:"Description"})("font-size:1.5rem;line-height:2.1rem;margin-bottom:",(0,z.Z)(2),";li{margin-bottom:6px;}"),lt=(0,b.Z)(X,{target:"eensvro10",label:"Metadata"})("display:grid;grid-auto-rows:max-content;grid-auto-flow:row;grid-gap:",(0,z.Z)(2),";font-size:0.9em;margin-left:",(0,z.Z)(4),";margin-right:100px;"),ut=(0,b.Z)("div",{target:"eensvro11",label:"AuthorInfo"})("margin-bottom:",(0,z.Z)(3),";"),ct=(0,b.Z)("div",{target:"eensvro12",label:"ExternalLinkContainer"})("display:grid;grid-template-columns:max-content 1fr;grid-gap:",(0,z.Z)(1),";align-items:center;"),pt=(0,b.Z)("div",{target:"eensvro13",label:"StatusWrapper"})("margin-bottom:",(0,z.Z)(1),";padding-left:",(0,z.Z)(2),";line-height:1.5em;"),dt=(0,b.Z)("div",{target:"eensvro14",label:"DisableWrapper"})({name:"13g0myw",styles:"margin-left:auto;align-self:center;display:flex;flex-direction:column;align-items:center;"}),gt=(0,b.Z)("div",{target:"eensvro15",label:"CreatedContainer"})("text-transform:uppercase;padding-bottom:",(0,z.Z)(1),";color:",(function(t){return t.theme.gray300}),";font-weight:600;font-size:12px;");const ft=Q}}]);
//# sourceMappingURL=app_views_organizationIntegrations_abstractIntegrationDetailedView_tsx.js.map