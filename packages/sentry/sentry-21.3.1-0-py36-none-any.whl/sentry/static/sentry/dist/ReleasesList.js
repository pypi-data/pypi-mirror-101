(self.webpackChunk=self.webpackChunk||[]).push([["ReleasesList"],{"./app/components/searchBar.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>O});var r=n("../../../../node_modules/@babel/runtime/helpers/classCallCheck.js"),o=n.n(r),a=n("../../../../node_modules/@babel/runtime/helpers/createClass.js"),s=n.n(a),i=n("../../../../node_modules/@babel/runtime/helpers/inherits.js"),l=n.n(i),u=n("../../../../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),c=n.n(u),p=n("../../../../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),d=n.n(p),h=n("../../../../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),f=n("../../../../node_modules/react/index.js"),m=n("../../../../node_modules/classnames/index.js"),g=n.n(m),y=n("./app/components/button.tsx"),Z=n("./app/icons/index.tsx"),v=n("./app/icons/iconClose.tsx"),b=n("./app/locale.tsx"),S=n("./app/utils/callIfFunction.tsx"),x=n("./app/views/settings/components/forms/controls/input.tsx"),w=n("../../../../node_modules/@emotion/core/dist/core.browser.esm.js");var R=function(e){l()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=d()(t);if(n){var o=d()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return c()(this,e)});function a(){var e;o()(this,a);for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return(e=r.call.apply(r,[this].concat(n))).state={query:e.props.query||e.props.defaultQuery,dropdownVisible:!1},e.searchInputRef=f.createRef(),e.blur=function(){e.searchInputRef.current&&e.searchInputRef.current.blur()},e.onSubmit=function(t){t.preventDefault(),e.blur(),e.props.onSearch(e.state.query)},e.clearSearch=function(){e.setState({query:e.props.defaultQuery},(function(){e.props.onSearch(e.state.query),(0,S.g)(e.props.onChange,e.state.query)}))},e.onQueryFocus=function(){e.setState({dropdownVisible:!0})},e.onQueryBlur=function(){e.setState({dropdownVisible:!1})},e.onQueryChange=function(t){var n=t.target.value;e.setState({query:n}),(0,S.g)(e.props.onChange,n)},e}return s()(a,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.query!==this.props.query&&this.setState({query:e.query})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.width;return(0,w.tZ)("div",{className:g()("search",t)},(0,w.tZ)("form",{className:"form-horizontal",onSubmit:this.onSubmit},(0,w.tZ)("div",null,(0,w.tZ)(j,{type:"text",className:"search-input",placeholder:this.props.placeholder,name:"query",ref:this.searchInputRef,autoComplete:"off",value:this.state.query,onBlur:this.onQueryBlur,onChange:this.onQueryChange,width:n}),(0,w.tZ)(C,{className:"search-input-icon",size:"sm",color:"gray300"}),this.state.query!==this.props.defaultQuery&&(0,w.tZ)(k,{type:"button",className:"search-clear-form",priority:"link",onClick:this.clearSearch,size:"xsmall",icon:(0,w.tZ)(v.b,null),label:(0,b.t)("Clear")}))))}}]),a}(f.PureComponent);R.displayName="SearchBar",R.defaultProps={query:"",defaultQuery:"",onSearch:function(){}};var j=(0,h.Z)(x.Z,{target:"e5a9jdx0",label:"StyledInput"})("width:",(function(e){return e.width?e.width:void 0}),";&.focus-visible{box-shadow:inset 0 2px 0 rgba(0,0,0,0.04),0 0 6px rgba(177,171,225,0.3);border-color:#a598b2;outline:none;}"),C=(0,h.Z)(Z.jV,{target:"e5a9jdx1",label:"StyledIconSearch"})({name:"nte755",styles:"position:absolute;top:50%;transform:translateY(-50%);left:14px;"}),k=(0,h.Z)(y.ZP,{target:"e5a9jdx2",label:"SearchClearButton"})("position:absolute;top:50%;height:16px;transform:translateY(-50%);right:10px;font-size:",(function(e){return e.theme.fontSizeLarge}),";color:",(function(e){return e.theme.gray200}),";&:hover{color:",(function(e){return e.theme.gray300}),";}");const O=R},"./app/views/releases/list/index.tsx":(e,t,n)=>{"use strict";n.r(t),n.d(t,{ReleasesList:()=>At,default:()=>Tt});var r=n("../../../../node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r),a=n("../../../../node_modules/@babel/runtime/helpers/classCallCheck.js"),s=n.n(a),i=n("../../../../node_modules/@babel/runtime/helpers/createClass.js"),l=n.n(i),u=n("../../../../node_modules/@babel/runtime/helpers/get.js"),c=n.n(u),p=n("../../../../node_modules/@babel/runtime/helpers/inherits.js"),d=n.n(p),h=n("../../../../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),f=n.n(h),m=n("../../../../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),g=n.n(m),y=n("../../../../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),Z=n("../../../../node_modules/react/index.js"),v=n("../../../../node_modules/react-lazyload/lib/index.js"),b=n("../../../../node_modules/lodash/pick.js"),S=n.n(b),x=n("./app/components/acl/feature.tsx"),w=n("./app/components/emptyStateWarning.tsx"),R=n("./app/components/lightWeightNoProjectMessage.tsx"),j=n("./app/components/loadingIndicator.tsx"),C=n("./app/components/organizations/globalSelectionHeader/index.tsx"),k=n("./app/components/organizations/timeRangeSelector/utils.tsx"),O=n("./app/components/pageHeading.tsx"),P=n("./app/components/pagination.tsx"),z=n("./app/components/searchBar.tsx"),E=n("./app/constants/index.tsx"),_=n("./app/constants/globalSelectionHeader.tsx"),q=n("./app/locale.tsx"),D=n("./app/styles/organization.tsx"),A=n("./app/styles/space.tsx"),I=n("./app/types/index.tsx"),T=n("./app/utils.tsx"),H=n("./app/utils/routeTitle.tsx"),N=n("./app/utils/withGlobalSelection.tsx"),B=n("./app/utils/withOrganization.tsx"),L=n("./app/views/asyncView.tsx"),Y=n("./app/views/releases/detail/overview/releaseArchivedNotice.tsx"),U=n("./app/views/releases/utils/releaseHealthRequest.tsx"),V=n("./app/components/assistant/guideAnchor.tsx"),F=n("./app/components/globalSelectionLink.tsx"),W=n("./app/components/panels/index.tsx"),Q=n("./app/components/avatar/avatarList.tsx"),M=n("../../../../node_modules/@emotion/core/dist/core.browser.esm.js"),$=function(e){var t=e.release,n=e.withHeading,r=void 0===n||n,o=t.commitCount||0,a=t.authors&&t.authors.length||0;if(0===o)return null;var s=[(0,q.tn)("%s commit","%s commits",o),(0,q.t)("by"),(0,q.tn)("%s author","%s authors",a)].join(" ");return(0,M.tZ)("div",{className:"release-stats"},r&&(0,M.tZ)(G,null,s),(0,M.tZ)("span",{style:{display:"inline-block"}},(0,M.tZ)(Q.Z,{users:t.authors,avatarSize:25,typeMembers:"authors"})))};$.displayName="ReleaseStats";var G=(0,y.Z)("div",{target:"e1j648yn0",label:"ReleaseSummaryHeading"})("color:",(function(e){return e.theme.gray300}),";font-size:",(function(e){return e.theme.fontSizeSmall}),";line-height:1.2;font-weight:600;text-transform:uppercase;margin-bottom:",(0,A.Z)(.5),";");const J=$;var K=n("./app/components/textOverflow.tsx"),X=n("./app/components/timeSince.tsx"),ee=n("./app/components/version.tsx"),te=n("./app/styles/overflowEllipsis.tsx"),ne=n("../../../../node_modules/@babel/runtime/helpers/slicedToArray.js"),re=n.n(ne),oe=n("../../../../node_modules/lodash/partition.js"),ae=n.n(oe),se=n("./app/components/tooltip.tsx"),ie=n("./app/components/button.tsx"),le=n("./app/components/collapsible.tsx"),ue=n("./app/components/count.tsx"),ce=n("./app/components/idBadge/projectBadge.tsx"),pe=n("./app/components/notAvailable.tsx"),de=n("./app/components/placeholder.tsx"),he=n("./app/views/releases/utils/index.tsx"),fe=n("./app/views/releases/list/crashFree.tsx"),me=n("../../../../node_modules/emotion-theming/dist/emotion-theming.browser.esm.js"),ge=n("./app/components/charts/miniBarChart.tsx"),ye=n("./app/views/releases/list/utils.tsx");var Ze=function(e){d()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=g()(t);if(n){var o=g()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function o(){var e;s()(this,o);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return(e=r.call.apply(r,[this].concat(n))).formatTooltip=function(t){var n=e.props.activeDisplay===ye.zY.USERS?(0,q.tn)("user","users",t):(0,q.tn)("session","sessions",t);return"".concat(t.toLocaleString()," ").concat(n)},e}return l()(o,[{key:"render",value:function(){var e=this.props,t=e.height,n=e.data,r=e.theme;return(0,M.tZ)(v.ZP,{debounce:50,height:t},(0,M.tZ)(ge.Z,{series:n,height:t,isGroupedByDate:!0,showTimeInTooltip:!0,hideDelay:50,tooltipFormatter:this.formatTooltip,colors:[r.purple300,r.gray200]}))}}]),o}(Z.Component);Ze.displayName="HealthStatsChart",Ze.defaultProps={height:24};const ve=(0,me.Zz)(Ze);var be=n("./app/components/links/link.tsx");function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var we=function(e){var t,n=e.location,r=e.selection,o=n.query.healthStatsPeriod||I.$A.TWENTY_FOUR_HOURS,a=n.pathname,s=n.query;return(0,M.tZ)(Re,null,r.datetime.period!==I.$A.TWENTY_FOUR_HOURS&&(0,M.tZ)(je,{to:{pathname:a,query:xe(xe({},s),{},{healthStatsPeriod:I.$A.TWENTY_FOUR_HOURS})},selected:o===I.$A.TWENTY_FOUR_HOURS},(0,q.t)("24h")),(0,M.tZ)(je,{to:{pathname:a,query:xe(xe({},s),{},{healthStatsPeriod:I.$A.AUTO})},selected:o===I.$A.AUTO},r.datetime.start?(0,q.t)("Custom"):null!==(t=r.datetime.period)&&void 0!==t?t:(0,q.t)("14d")))};we.displayName="HealthStatsPeriod";var Re=(0,y.Z)("div",{target:"encpuiz0",label:"Wrapper"})("display:grid;grid-auto-flow:column;grid-column-gap:",(0,A.Z)(.75),";flex:1;justify-content:flex-end;text-align:right;margin-left:",(0,A.Z)(.5),";"),je=(0,y.Z)(be.Z,{target:"encpuiz1",label:"Period"})("color:",(function(e){return e.selected?e.theme.gray400:e.theme.gray300}),";&:hover,&:focus{color:",(function(e){return e.selected?e.theme.gray400:e.theme.gray300}),";}");const Ce=(0,N.Z)(we);var ke=n("./app/views/releases/list/releaseAdoption.tsx");const Oe=(0,y.Z)(W.V9,{target:"ekkjozw0",label:"Header"})("border-top-left-radius:0;padding:",(0,A.Z)(1.5)," ",(0,A.Z)(2),";font-size:",(function(e){return e.theme.fontSizeSmall}),";");var Pe=n("./app/views/releases/list/releaseHealth/projectLink.tsx"),ze=function(e){var t=e.projects,n=e.releaseVersion,r=e.location,o=e.organization,a=e.activeDisplay,s=e.showPlaceholders,i=e.isTopRelease,l=e.getHealthData;return(0,M.tZ)(Z.Fragment,null,(0,M.tZ)(Oe,null,(0,M.tZ)(Ie,null,(0,M.tZ)(Te,null,(0,q.t)("Project Name")),(0,M.tZ)(Ne,null,(0,M.tZ)(V.Z,{target:"release_adoption",position:"bottom",disabled:!(i&&window.innerWidth>=800)},(0,q.t)("Adoption"))),(0,M.tZ)(Le,null,(0,q.t)("Crash Free Rate")),(0,M.tZ)(Ye,null,(0,M.tZ)("span",null,(0,q.t)("Count")),(0,M.tZ)(Ce,{location:r})),(0,M.tZ)(Ue,null,(0,q.t)("Crashes")),(0,M.tZ)(He,null,(0,q.t)("New Issues")),(0,M.tZ)(Ve,null))),(0,M.tZ)(_e,null,(0,M.tZ)(le.Z,{expandButton:function(e){var t=e.onExpand,n=e.numberOfCollapsedItems;return(0,M.tZ)(qe,null,(0,M.tZ)(ie.ZP,{priority:"primary",size:"xsmall",onClick:t},(0,q._N)("Show [numberOfCollapsedItems] More",{numberOfCollapsedItems:n})))},collapseButton:function(e){var t=e.onCollapse;return(0,M.tZ)(De,null,(0,M.tZ)(ie.ZP,{priority:"primary",size:"xsmall",onClick:t},(0,q.t)("Collapse")))}},t.map((function(e,t){var u=e.id,c=e.slug,p=e.newGroups,d=l.getCrashCount(n,u,ye.zY.SESSIONS),h=l.getCrashFreeRate(n,u,a),f=l.get24hCountByRelease(n,u,a),m=l.get24hCountByProject(u,a),g=l.getTimeSeries(n,u,a),y=l.getAdoption(n,u,a),Z=(null==g?void 0:g[0].data.length)>7&&g[0].data.some((function(e){return e.value>0}));return(0,M.tZ)(Ae,{key:"".concat(n,"-").concat(c,"-health")},(0,M.tZ)(Ie,null,(0,M.tZ)(Te,null,(0,M.tZ)(ce.Z,{project:e,avatarSize:16})),(0,M.tZ)(Ne,null,s?(0,M.tZ)(We,{width:"150px"}):m?(0,M.tZ)(Be,null,(0,M.tZ)(ke.Z,{adoption:null!=y?y:0,releaseCount:null!=f?f:0,projectCount:null!=m?m:0,displayOption:a}),(0,M.tZ)(ue.Z,{value:null!=f?f:0})):(0,M.tZ)(pe.Z,null)),(0,M.tZ)(Le,null,s?(0,M.tZ)(We,{width:"60px"}):(0,T.ri)(h)?(0,M.tZ)(fe.Z,{percent:h}):(0,M.tZ)(pe.Z,null)),(0,M.tZ)(Ye,null,s?(0,M.tZ)(We,null):Z?(0,M.tZ)(Fe,null,(0,M.tZ)(ve,{data:g,height:20,activeDisplay:a})):(0,M.tZ)(pe.Z,null)),(0,M.tZ)(Ue,null,s?(0,M.tZ)(We,{width:"30px"}):(0,T.ri)(d)?(0,M.tZ)(se.Z,{title:(0,q.t)("Open in Issues")},(0,M.tZ)(F.Z,{to:(0,he.eY)(o.slug,e.id,n)},(0,M.tZ)(ue.Z,{value:d}))):(0,M.tZ)(pe.Z,null)),(0,M.tZ)(He,null,(0,M.tZ)(se.Z,{title:(0,q.t)("Open in Issues")},(0,M.tZ)(F.Z,{to:(0,he.PS)(o.slug,e.id,n)},(0,M.tZ)(ue.Z,{value:p||0})))),(0,M.tZ)(Ve,null,(0,M.tZ)(V.Z,{disabled:!i||0!==t,target:"view_release"},(0,M.tZ)(Pe.Z,{orgSlug:o.slug,project:e,releaseVersion:n,location:r})))))})))))};ze.displayName="Content";const Ee=ze;var _e=(0,y.Z)("div",{target:"e18frqa60",label:"ProjectRows"})({name:"79elbk",styles:"position:relative;"}),qe=(0,y.Z)("div",{target:"e18frqa61",label:"ExpandButtonWrapper"})("position:absolute;width:100%;bottom:0;display:flex;align-items:center;justify-content:center;background-image:linear-gradient( 180deg,hsla(0,0%,100%,0.15) 0,",(function(e){return e.theme.white})," );background-repeat:repeat-x;border-bottom:",(0,A.Z)(1)," solid ",(function(e){return e.theme.white}),";border-top:",(0,A.Z)(1)," solid transparent;border-bottom-right-radius:",(function(e){return e.theme.borderRadius}),";@media (max-width:",(function(e){return e.theme.breakpoints[1]}),"){border-bottom-left-radius:",(function(e){return e.theme.borderRadius}),";}"),De=(0,y.Z)("div",{target:"e18frqa62",label:"CollapseButtonWrapper"})({name:"1rf6xii",styles:"display:flex;align-items:center;justify-content:center;height:41px;"}),Ae=(0,y.Z)(W.Lv,{target:"e18frqa63",label:"ProjectRow"})("padding:",(0,A.Z)(1)," ",(0,A.Z)(2),";@media (min-width:",(function(e){return e.theme.breakpoints[1]}),"){font-size:",(function(e){return e.theme.fontSizeMedium}),";}"),Ie=(0,y.Z)("div",{target:"e18frqa64",label:"Layout"})("display:grid;grid-template-columns:1fr 1.4fr 0.6fr 0.7fr;grid-column-gap:",(0,A.Z)(1),";align-items:center;width:100%;@media (min-width:",(function(e){return e.theme.breakpoints[0]}),"){grid-template-columns:1fr 1fr 1fr 0.5fr 0.5fr 0.5fr;}@media (min-width:",(function(e){return e.theme.breakpoints[1]}),"){grid-template-columns:1fr 0.8fr 1fr 0.5fr 0.5fr 0.6fr;}@media (min-width:",(function(e){return e.theme.breakpoints[3]}),"){grid-template-columns:1fr 0.8fr 1fr 1fr 0.5fr 0.5fr 0.5fr;}"),Te=(0,y.Z)("div",{target:"e18frqa65",label:"Column"})(te.Z,";line-height:20px;"),He=(0,y.Z)(Te,{target:"e18frqa66",label:"NewIssuesColumn"})("@media (min-width:",(function(e){return e.theme.breakpoints[0]}),"){text-align:right;}"),Ne=(0,y.Z)(Te,{target:"e18frqa67",label:"AdoptionColumn"})("display:none;@media (min-width:",(function(e){return e.theme.breakpoints[0]}),"){display:flex;overflow:visible;}"),Be=(0,y.Z)("span",{target:"e18frqa68",label:"AdoptionWrapper"})("display:inline-grid;grid-template-columns:70px 1fr;grid-gap:",(0,A.Z)(1),";align-items:center;@media (min-width:",(function(e){return e.theme.breakpoints[3]}),"){grid-template-columns:90px 1fr;}"),Le=(0,y.Z)(Te,{target:"e18frqa69",label:"CrashFreeRateColumn"})("@media (min-width:",(function(e){return e.theme.breakpoints[0]}),"){text-align:center;}"),Ye=(0,y.Z)(Te,{target:"e18frqa610",label:"CountColumn"})("display:none;@media (min-width:",(function(e){return e.theme.breakpoints[3]}),"){display:flex;overflow:visible;}"),Ue=(0,y.Z)(Te,{target:"e18frqa611",label:"CrashesColumn"})("display:none;@media (min-width:",(function(e){return e.theme.breakpoints[0]}),"){display:block;text-align:right;}"),Ve=(0,y.Z)(Te,{target:"e18frqa612",label:"ViewColumn"})({name:"s2uf1z",styles:"text-align:right;"}),Fe=(0,y.Z)("div",{target:"e18frqa613",label:"ChartWrapper"})("flex:1;g > .barchart-rect{background:",(function(e){return e.theme.gray200}),";fill:",(function(e){return e.theme.gray200}),";}"),We=(0,y.Z)(de.Z,{target:"e18frqa614",label:"StyledPlaceholder"})("height:15px;display:inline-block;position:relative;top:",(0,A.Z)(.25),";");var Qe=function(e){d()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=g()(t);if(n){var o=g()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function o(){return s()(this,o),r.apply(this,arguments)}return l()(o,[{key:"shouldComponentUpdate",value:function(e){return!this.props.reloading||!e.reloading}},{key:"render",value:function(){var e,t,n=this.props,r=n.release,o=n.organization,a=n.activeDisplay,s=n.location,i=n.showPlaceholders,l=n.selection,u=n.isTopRelease,c=n.getHealthData,p=ae()(r.projects.sort((function(e,t){return e.slug.localeCompare(t.slug)})),(function(e){return!(l.projects.length>0&&!l.projects.includes(-1))||l.projects.includes(e.id)})),d=re()(p,2),h=d[0],f=d[1];return(0,M.tZ)(Z.Fragment,null,(0,M.tZ)(Ee,{organization:o,activeDisplay:a,releaseVersion:r.version,projects:h,location:s,showPlaceholders:i,isTopRelease:u,getHealthData:c}),f.length>0&&(0,M.tZ)(Me,null,(0,M.tZ)(se.Z,{title:(e=f.map((function(e){return e.slug})).slice(0,5),t=f.length-e.length,t&&e.push((0,q.tn)("and %s more","and %s more",t)),e.join(", "))},(0,M.tZ)(K.Z,null,1===f.length?(0,q._N)("[number:1] hidden project",{number:(0,M.tZ)("strong",null)}):(0,q._N)("[number] hidden projects",{number:(0,M.tZ)("strong",null,f.length)})))))}}]),o}(Z.Component);Qe.displayName="ReleaseHealth";var Me=(0,y.Z)("div",{target:"e1ln5gku0",label:"HiddenProjectsMessage"})("display:flex;align-items:center;font-size:",(function(e){return e.theme.fontSizeSmall}),";padding:0 ",(0,A.Z)(2),";border-top:1px solid ",(function(e){return e.theme.border}),";overflow:hidden;height:24px;line-height:24px;color:",(function(e){return e.theme.gray300}),";background-color:",(function(e){return e.theme.backgroundSecondary}),";border-bottom-right-radius:",(function(e){return e.theme.borderRadius}),";@media (max-width:",(function(e){return e.theme.breakpoints[1]}),"){border-bottom-left-radius:",(function(e){return e.theme.borderRadius}),";}");const $e=Qe;function Ge(e,t){return 1===e.projects.length?e.projects[0].id:1===t.projects.length&&e.projects.map((function(e){return e.id})).includes(t.projects[0])?t.projects[0]:void 0}var Je=function(e){var t=e.release,n=e.organization,r=e.activeDisplay,o=e.location,a=e.reloading,s=e.selection,i=e.showHealthPlaceholders,l=e.isTopRelease,u=e.getHealthData,c=t.version,p=t.commitCount,d=t.lastDeploy,h=t.dateCreated,f=t.versionInfo;return(0,M.tZ)(et,{reloading:a?1:0},(0,M.tZ)(tt,null,(0,M.tZ)(at,null,(0,M.tZ)(F.Z,{to:{pathname:"/organizations/".concat(n.slug,"/releases/").concat(encodeURIComponent(c),"/"),query:{project:Ge(t,s)}}},(0,M.tZ)(V.Z,{disabled:!l,target:"release_version"},(0,M.tZ)(Ke,null,(0,M.tZ)(Xe,{version:c,tooltipRawVersion:!0,anchor:!1})))),p>0&&(0,M.tZ)(J,{release:t,withHeading:!1})),(0,M.tZ)(nt,null,(null==f?void 0:f.package)&&(0,M.tZ)(rt,{ellipsisDirection:"left"},f.package),(0,M.tZ)(X.Z,{date:(null==d?void 0:d.dateFinished)||h}),(null==d?void 0:d.dateFinished)&&" | ".concat(d.environment))),(0,M.tZ)(ot,null,(0,M.tZ)($e,{release:t,organization:n,activeDisplay:r,location:o,showPlaceholders:i,reloading:a,selection:s,isTopRelease:l,getHealthData:u})))};Je.displayName="ReleaseCard";var Ke=(0,y.Z)("div",{target:"eo08ki40",label:"VersionWrapper"})({name:"70qvj9",styles:"display:flex;align-items:center;"}),Xe=(0,y.Z)(ee.Z,{target:"eo08ki41",label:"StyledVersion"})(te.Z,";"),et=(0,y.Z)(W.s_,{target:"eo08ki42",label:"StyledPanel"})("opacity:",(function(e){return e.reloading?.5:1}),";pointer-events:",(function(e){return e.reloading?"none":"auto"}),";@media (min-width:",(function(e){return e.theme.breakpoints[1]}),"){display:flex;}"),tt=(0,y.Z)("div",{target:"eo08ki43",label:"ReleaseInfo"})("padding:",(0,A.Z)(1.5)," ",(0,A.Z)(2),";flex-shrink:0;@media (min-width:",(function(e){return e.theme.breakpoints[1]}),"){border-right:1px solid ",(function(e){return e.theme.border}),";min-width:260px;width:22%;max-width:300px;}"),nt=(0,y.Z)("div",{target:"eo08ki44",label:"ReleaseInfoSubheader"})("font-size:",(function(e){return e.theme.fontSizeSmall}),";color:",(function(e){return e.theme.gray400}),";"),rt=(0,y.Z)(K.Z,{target:"eo08ki45",label:"PackageName"})("font-size:",(function(e){return e.theme.fontSizeMedium}),";color:",(function(e){return e.theme.textColor}),";"),ot=(0,y.Z)("div",{target:"eo08ki46",label:"ReleaseProjects"})("border-top:1px solid ",(function(e){return e.theme.border}),";flex-grow:1;display:grid;@media (min-width:",(function(e){return e.theme.breakpoints[1]}),"){border-top:none;}"),at=(0,y.Z)("div",{target:"eo08ki47",label:"ReleaseInfoHeader"})("font-size:",(function(e){return e.theme.fontSizeExtraLarge}),";display:grid;grid-template-columns:minmax(0,1fr) max-content;grid-gap:",(0,A.Z)(2),";align-items:center;");const st=Je;var it=n("./app/components/dropdownControl.tsx"),lt=function(e){var t,n=e.label,r=e.options,o=e.selected,a=e.onSelect,s=e.className,i=Object.entries(r),l=null===(t=i.find((function(e){var t=re()(e,2),n=t[0];return t[1],n===o})))||void 0===t?void 0:t[1];return(0,M.tZ)(it.ZP,{buttonProps:{prefix:n},label:l,className:s},i.map((function(e){var t=re()(e,2),n=t[0],r=t[1];return(0,M.tZ)(it.hP,{key:n,onSelect:a,eventKey:n,isActive:o===n},r)})))};lt.displayName="ReleaseListDropdown";const ut=lt;var ct,pt=(ct={},o()(ct,ye.zY.SESSIONS,(0,q.t)("Sessions")),o()(ct,ye.zY.USERS,(0,q.t)("Users")),ct);function dt(e){var t=e.selected,n=e.onSelect;return(0,M.tZ)(mt,{label:(0,q.t)("Display"),options:pt,selected:t,onSelect:n})}dt.displayName="ReleaseListDisplayOptions";const ht=dt;var ft,mt=(0,y.Z)(ut,{target:"ex105vx0",label:"StyledReleaseListDropdown"})("z-index:1;@media (max-width:",(function(e){return e.theme.breakpoints[2]}),"){order:3;}"),gt=n("./app/views/releases/list/releaseLanding.tsx"),yt=(ft={},o()(ft,ye.Y7.DATE,(0,q.t)("Date Created")),o()(ft,ye.Y7.SESSIONS,(0,q.t)("Total Sessions")),o()(ft,ye.Y7.USERS_24_HOURS,(0,q.t)("Active Users")),o()(ft,ye.Y7.CRASH_FREE_USERS,(0,q.t)("Crash Free Users")),o()(ft,ye.Y7.CRASH_FREE_SESSIONS,(0,q.t)("Crash Free Sessions")),ft);function Zt(e){var t=e.selected,n=e.onSelect;return(0,M.tZ)(St,{label:(0,q.t)("Sort By"),options:yt,selected:t,onSelect:n})}Zt.displayName="ReleaseListSortOptions";const vt=Zt;var bt,St=(0,y.Z)(ut,{target:"e132gm890",label:"StyledReleaseListDropdown"})("z-index:2;@media (max-width:",(function(e){return e.theme.breakpoints[2]}),"){order:2;}"),xt=(bt={},o()(bt,ye.L4.ACTIVE,(0,q.t)("Active")),o()(bt,ye.L4.ARCHIVED,(0,q.t)("Archived")),bt);function wt(e){var t=e.selected,n=e.onSelect;return(0,M.tZ)(jt,{label:(0,q.t)("Status"),options:xt,selected:t,onSelect:n})}wt.displayName="ReleaseListStatusOptions";const Rt=wt;var jt=(0,y.Z)(ut,{target:"ewz79kc0",label:"StyledReleaseListDropdown"})("z-index:3;@media (max-width:",(function(e){return e.theme.breakpoints[2]}),"){order:1;}"),Ct=n("./app/components/charts/styles.tsx"),kt=n("./app/utils/withApi.tsx"),Ot=n("./app/views/projectDetail/charts/projectBaseSessionsChart.tsx"),Pt=n("./app/views/projectDetail/projectCharts.tsx"),zt=n("./app/views/releases/utils/sessionTerm.tsx");var Et=function(e){d()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=g()(t);if(n){var o=g()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function o(){var e;s()(this,o);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return(e=r.call.apply(r,[this].concat(n))).state={totalValues:null},e.handleTotalValuesChange=function(t){t!==e.state.totalValues&&e.setState({totalValues:t})},e}return l()(o,[{key:"render",value:function(){var e=this.props,t=e.api,n=e.router,r=e.organization,o=this.state.totalValues;return(0,M.tZ)(W.s_,null,(0,M.tZ)(Ct.BO,null,(0,M.tZ)(Ot.Z,{title:(0,q.t)("Crash Free Sessions"),help:(0,zt.RE)(zt._k.STABILITY,null),router:n,api:t,organization:r,onTotalValuesChange:this.handleTotalValuesChange,displayMode:Pt.D.STABILITY})),(0,M.tZ)(Ct.xx,null,(0,M.tZ)(Ct.m2,null,(0,M.tZ)(Ct.OT,null,(0,q.t)("Total Sessions")),(0,M.tZ)(Ct.uN,null,"number"==typeof o?o.toLocaleString():"—"))))}}]),o}(Z.Component);Et.displayName="ReleasesStabilityChart";const _t=(0,kt.Z)(Et);function qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qt(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var At=function(e){d()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=g()(t);if(n){var o=g()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function o(){var e;s()(this,o);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return(e=r.call.apply(r,[this].concat(n))).shouldReload=!0,e.handleSearch=function(t){var n=e.props,r=n.location;n.router.push(Dt(Dt({},r),{},{query:Dt(Dt({},r.query),{},{cursor:void 0,query:t})}))},e.handleSortBy=function(t){var n=e.props,r=n.location;n.router.push(Dt(Dt({},r),{},{query:Dt(Dt({},r.query),{},{cursor:void 0,sort:t})}))},e.handleDisplay=function(t){var n=e.props,r=n.location;n.router.push(Dt(Dt({},r),{},{query:Dt(Dt({},r.query),{},{cursor:void 0,display:t})}))},e.handleStatus=function(t){var n=e.props,r=n.location;n.router.push(Dt(Dt({},r),{},{query:Dt(Dt({},r.query),{},{cursor:void 0,status:t})}))},e}return l()(o,[{key:"getTitle",value:function(){return(0,H.Z)((0,q.t)("Releases"),this.props.organization.slug,!1)}},{key:"getEndpoints",value:function(){var e=this.props,t=e.organization,n=e.location,r=n.query.statsPeriod,o=this.getSort(),a=this.getStatus(),s=Dt(Dt({},S()(n.query,["project","environment","cursor","query","sort"])),{},{summaryStatsPeriod:r,per_page:20,flatten:o===ye.Y7.DATE?0:1,status:a===ye.L4.ARCHIVED?I.dE.Archived:I.dE.Active});return[["releases","/organizations/".concat(t.slug,"/releases/"),{query:s}]]}},{key:"componentDidUpdate",value:function(e,t){c()(g()(o.prototype),"componentDidUpdate",this).call(this,e,t),t.releases!==this.state.releases&&(0,v.be)()}},{key:"getQuery",value:function(){var e=this.props.location.query.query;return"string"==typeof e?e:void 0}},{key:"getSort",value:function(){switch(this.props.location.query.sort){case ye.Y7.CRASH_FREE_USERS:return ye.Y7.CRASH_FREE_USERS;case ye.Y7.CRASH_FREE_SESSIONS:return ye.Y7.CRASH_FREE_SESSIONS;case ye.Y7.SESSIONS:return ye.Y7.SESSIONS;case ye.Y7.USERS_24_HOURS:return ye.Y7.USERS_24_HOURS;default:return ye.Y7.DATE}}},{key:"getDisplay",value:function(){switch(this.props.location.query.display){case ye.zY.USERS:return ye.zY.USERS;default:return ye.zY.SESSIONS}}},{key:"getStatus",value:function(){switch(this.props.location.query.status){case ye.L4.ARCHIVED:return ye.L4.ARCHIVED;default:return ye.L4.ACTIVE}}},{key:"shouldShowLoadingIndicator",value:function(){var e=this.state,t=e.loading,n=e.releases,r=e.reloading;return t&&!r||t&&!(null!=n&&n.length)}},{key:"renderLoading",value:function(){return this.renderBody()}},{key:"renderEmptyMessage",value:function(){var e=this.props,t=e.location,n=e.organization,r=e.selection,o=t.query.statsPeriod,a=this.getQuery(),s=this.getSort(),i=this.getStatus();if(a&&a.length)return(0,M.tZ)(w.Z,{small:!0},"".concat((0,q.t)("There are no releases that match"),": '").concat(a,"'."));if(s===ye.Y7.USERS_24_HOURS)return(0,M.tZ)(w.Z,{small:!0},(0,q.t)("There are no releases with active user data (users in the last 24 hours)."));if(s!==ye.Y7.DATE){var l=(0,k.T)(o||E.GY).toLowerCase();return(0,M.tZ)(w.Z,{small:!0},"".concat((0,q.t)("There are no releases with data in the")," ").concat(l,"."))}return i===ye.L4.ARCHIVED?(0,M.tZ)(w.Z,{small:!0},(0,q.t)("There are no archived releases.")):(0,T.ri)(o)&&"14d"!==o?(0,M.tZ)(w.Z,{small:!0},(0,q.t)("There are no releases.")):(0,M.tZ)(gt.Z,{organization:n,projectId:r.projects.filter((function(e){return e!==_.mP}))[0]})}},{key:"renderInnerBody",value:function(e){var t=this.props,n=t.location,r=t.selection,o=t.organization,a=this.state,s=a.releases,i=a.reloading,l=a.releasesPageLinks;return this.shouldShowLoadingIndicator()?(0,M.tZ)(j.Z,null):null!=s&&s.length?(0,M.tZ)(U.Z,{releases:s.map((function(e){return e.version})),organization:o,selection:r,location:n,display:[this.getDisplay()],releasesReloading:i,healthStatsPeriod:n.query.healthStatsPeriod},(function(t){var a=t.isHealthLoading,u=t.getHealthData;return(0,M.tZ)(Z.Fragment,null,s.map((function(t,s){return(0,M.tZ)(st,{key:"".concat(t.version,"-").concat(t.projects[0].slug),activeDisplay:e,release:t,organization:o,location:n,selection:r,reloading:i,showHealthPlaceholders:a,isTopRelease:0===s,getHealthData:u})})),(0,M.tZ)(P.Z,{pageLinks:l}))})):this.renderEmptyMessage()}},{key:"renderBody",value:function(){var e=this.props,t=e.organization,n=e.location,r=e.router,o=e.selection,a=this.state,s=a.releases,i=a.reloading,l=this.getSort(),u=this.getStatus(),c=this.getDisplay();return(0,M.tZ)(C.Z,{showAbsolute:!1,timeRangeHint:(0,q.t)("Changing this date range will recalculate the release metrics.")},(0,M.tZ)(D.JH,null,(0,M.tZ)(R.Z,{organization:t},(0,M.tZ)(D.mr,null,(0,M.tZ)(O.Z,null,(0,q.t)("Releases"))),(0,M.tZ)(x.Z,{features:["releases-top-charts"],organization:t},1===o.projects.length&&!o.projects.includes(_.mP)&&(0,M.tZ)(_t,{location:n,organization:t,router:r})),(0,M.tZ)(It,null,(0,M.tZ)(z.Z,{placeholder:(0,q.t)("Search"),onSearch:this.handleSearch,query:this.getQuery()}),(0,M.tZ)(Rt,{selected:u,onSelect:this.handleStatus}),(0,M.tZ)(vt,{selected:l,onSelect:this.handleSortBy}),(0,M.tZ)(ht,{selected:c,onSelect:this.handleDisplay})),!i&&u===ye.L4.ARCHIVED&&!(null==s||!s.length)&&(0,M.tZ)(Y.Z,{multi:!0}),this.renderInnerBody(c))))}}]),o}(L.Z),It=(0,y.Z)("div",{target:"e1p382tv0",label:"SortAndFilterWrapper"})("display:inline-grid;grid-gap:",(0,A.Z)(2),";margin-bottom:",(0,A.Z)(2),";@media (min-width:",(function(e){return e.theme.breakpoints[1]}),"){grid-template-columns:1fr repeat(3,auto);}");const Tt=(0,B.Z)((0,N.Z)(At))}}]);
//# sourceMappingURL=ReleasesList.js.map