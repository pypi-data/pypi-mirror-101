(self.webpackChunk=self.webpackChunk||[]).push([["PerformanceTransactionDetails"],{"./app/components/events/eventMetadata.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n("../../../../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),o=(n("../../../../node_modules/react/index.js"),n("./app/components/charts/styles.tsx")),a=n("./app/components/dateTime.tsx"),s=n("./app/components/fileSize.tsx"),i=n("./app/components/idBadge/projectBadge.tsx"),l=n("./app/components/links/externalLink.tsx"),u=n("./app/locale.tsx"),c=n("./app/styles/space.tsx"),p=n("./app/utils/getDynamicText.tsx"),d=n("./app/utils/projects.tsx"),m=n("../../../../node_modules/@emotion/core/dist/core.browser.esm.js");function v(e){var t=e.event,n=e.organization,r=e.projectId,i="/api/0/projects/".concat(n.slug,"/").concat(r,"/events/").concat(t.eventID,"/json/");return(0,m.tZ)(f,null,(0,m.tZ)(o.OT,null,(0,u.t)("Event ID")),(0,m.tZ)(g,{"data-test-id":"event-id"},t.eventID),(0,m.tZ)(g,null,(0,m.tZ)(a.Z,{date:(0,p.Z)({value:t.dateCreated||1e3*(t.endTimestamp||0),fixed:"Dummy timestamp"})})),(0,m.tZ)(d.Z,{orgId:n.slug,slugs:[r]},(function(e){var t=e.projects.find((function(e){return e.slug===r}));return(0,m.tZ)(h,{project:t||{slug:r},avatarSize:16})})),(0,m.tZ)(y,{href:i,className:"json-link"},(0,u.t)("Preview JSON")," (",(0,m.tZ)(s.Z,{bytes:t.size}),")"))}v.displayName="EventMetadata";var f=(0,r.Z)("div",{target:"ed2kl980",label:"MetaDataID"})("margin-bottom:",(0,c.Z)(4),";"),g=(0,r.Z)("div",{target:"ed2kl981",label:"MetadataContainer"})("display:flex;justify-content:space-between;font-size:",(function(e){return e.theme.fontSizeMedium}),";"),y=(0,r.Z)(l.Z,{target:"ed2kl982",label:"MetadataJSON"})("font-size:",(function(e){return e.theme.fontSizeMedium}),";"),h=(0,r.Z)(i.Z,{target:"ed2kl983",label:"StyledProjectBadge"})("margin-bottom:",(0,c.Z)(2),";");const b=v},"./app/components/events/eventVitals.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n("../../../../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),o=(n("../../../../node_modules/react/index.js"),n("./app/components/charts/styles.tsx")),a=n("./app/components/panels/index.tsx"),s=n("./app/components/tooltip.tsx"),i=n("./app/icons/index.tsx"),l=n("./app/locale.tsx"),u=n("./app/styles/space.tsx"),c=n("./app/utils/formatters.tsx");function p(e,t){return e&&"duration"===e.type?(0,c.g9)(t/1e3,3):t.toFixed(3)}var d=n("./app/utils/performance/vitals/constants.tsx"),m=n("../../../../node_modules/@emotion/core/dist/core.browser.esm.js");function v(e){var t,n=e.event,r=e.showSectionHeader,a=void 0===r||r,u=Object.keys(null!==(t=n.measurements)&&void 0!==t?t:{}).filter((function(e){return Boolean(d.r["measurements.".concat(e)])})).sort();if(0===u.length)return null;var c=(0,m.tZ)(g,null,u.map((function(e){return(0,m.tZ)(f,{key:e,event:n,name:e})})));return a?(0,m.tZ)(y,null,(0,m.tZ)(o.OT,null,(0,l.t)("Web Vitals"),function(e){var t;if(null===(t=e.sdk)||void 0===t||!t.version)return!1;var n=e.sdk.version;return n.startsWith("5.26.")||n.startsWith("5.27.0")||n.startsWith("5.27.1")||n.startsWith("5.27.2")}(n)&&(0,m.tZ)(Z,{size:"sm"},(0,m.tZ)(s.Z,{title:(0,l.t)("These vitals were collected using an outdated SDK version and may not be accurate. To ensure accurate web vitals in new transaction events, please update your SDK to the latest version."),position:"top",containerDisplayMode:"inline-block"},(0,m.tZ)(i.FC,{size:"sm"})))),c):c}function f(e){var t,n,r,o,a=e.event,u=e.name,c=null!==(t=null===(n=a.measurements)||void 0===n?void 0:n[u].value)&&void 0!==t?t:null;if(null===c)return null;var v=d.r["measurements.".concat(u)];if(!v)return null;var f=c>=v.poorThreshold,g=p(v,c),y=p(v,null!==(r=null==v?void 0:v.poorThreshold)&&void 0!==r?r:0);return(0,m.tZ)(T,null,(0,m.tZ)(h,{failedThreshold:f},(0,m.tZ)(b,null,null!==(o=v.name)&&void 0!==o?o:u),(0,m.tZ)(x,null,f?(0,m.tZ)(j,{size:"sm"},(0,m.tZ)(s.Z,{title:(0,l.t)("Fails threshold at %s.",y),position:"top",containerDisplayMode:"inline-block"},(0,m.tZ)(i.zC,{size:"sm"}))):null,(0,m.tZ)(S,{failedThreshold:f},g))))}f.displayName="EventVital";var g=(0,r.Z)("div",{target:"e1tznia60",label:"Measurements"})("display:grid;grid-column-gap:",(0,u.Z)(1),";"),y=(0,r.Z)("div",{target:"e1tznia61",label:"Container"})("font-size:",(function(e){return e.theme.fontSizeMedium}),";margin-bottom:",(0,u.Z)(4),";"),h=(0,r.Z)(a.s_,{target:"e1tznia62",label:"StyledPanel"})("padding:",(0,u.Z)(1)," ",(0,u.Z)(1.5),";margin-bottom:",(0,u.Z)(1),";",(function(e){return e.failedThreshold&&"border: 1px solid ".concat(e.theme.red300,";")})),b=(0,r.Z)("div",{target:"e1tznia63",label:"Name"})(),x=(0,r.Z)("div",{target:"e1tznia64",label:"ValueRow"})({name:"70qvj9",styles:"display:flex;align-items:center;"}),Z=(0,r.Z)("span",{target:"e1tznia65",label:"WarningIconContainer"})("display:inline-block;height:",(function(e){var t;return null!==(t=e.theme.iconSizes[e.size])&&void 0!==t?t:e.size}),";line-height:",(function(e){var t;return null!==(t=e.theme.iconSizes[e.size])&&void 0!==t?t:e.size}),";margin-left:",(0,u.Z)(.5),";color:",(function(e){return e.theme.red300}),";"),j=(0,r.Z)("span",{target:"e1tznia66",label:"FireIconContainer"})("display:inline-block;height:",(function(e){var t;return null!==(t=e.theme.iconSizes[e.size])&&void 0!==t?t:e.size}),";line-height:",(function(e){var t;return null!==(t=e.theme.iconSizes[e.size])&&void 0!==t?t:e.size}),";margin-right:",(0,u.Z)(.5),";color:",(function(e){return e.theme.red300}),";"),S=(0,r.Z)("span",{target:"e1tznia67",label:"Value"})("font-size:",(function(e){return e.theme.fontSizeExtraLarge}),";",(function(e){return e.failedThreshold&&"color: ".concat(e.theme.red300,";")})),T=(0,r.Z)("div",{target:"e1tznia68",label:"EventVitalContainer"})()},"./app/components/events/rootSpanStatus.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>j});var r=n("../../../../node_modules/@babel/runtime/helpers/classCallCheck.js"),o=n.n(r),a=n("../../../../node_modules/@babel/runtime/helpers/createClass.js"),s=n.n(a),i=n("../../../../node_modules/@babel/runtime/helpers/inherits.js"),l=n.n(i),u=n("../../../../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),c=n.n(u),p=n("../../../../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),d=n.n(p),m=n("../../../../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),v=n("../../../../node_modules/react/index.js"),f=n("./app/components/charts/styles.tsx"),g=n("./app/locale.tsx"),y=n("./app/styles/space.tsx"),h=n("../../../../node_modules/@emotion/core/dist/core.browser.esm.js");var b=function(e){l()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=d()(t);if(n){var o=d()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return c()(this,e)});function a(){return o()(this,a),r.apply(this,arguments)}return s()(a,[{key:"getTransactionEvent",value:function(){var e=this.props.event;if("transaction"===e.type)return e}},{key:"getRootSpanStatus",value:function(){var e,t,n=this.getTransactionEvent();if(!n)return"—";var r=null==n||null===(e=n.contexts)||void 0===e?void 0:e.trace;return null!==(t=null==r?void 0:r.status)&&void 0!==t?t:"—"}},{key:"getHttpStatusCode",value:function(){var e=this.props.event.tags;if(!Array.isArray(e))return"";var t=e.find((function(e){return"http.status_code"===e.key}));return t?t.value:""}},{key:"render",value:function(){if(!this.getTransactionEvent())return null;var e="".concat(this.getHttpStatusCode()," ").concat(this.getRootSpanStatus()).trim();return(0,h.tZ)(x,null,(0,h.tZ)(Z,null,(0,h.tZ)(f.OT,null,(0,g.t)("Status"))),(0,h.tZ)("div",null,e))}}]),a}(v.Component);b.displayName="RootSpanStatus";var x=(0,m.Z)("div",{target:"e1ew9dlj0",label:"Container"})("color:",(function(e){return e.theme.subText}),";font-size:",(function(e){return e.theme.fontSizeMedium}),";margin-bottom:",(0,y.Z)(4),";"),Z=(0,m.Z)("div",{target:"e1ew9dlj1",label:"Header"})({name:"70qvj9",styles:"display:flex;align-items:center;"});const j=b},"./app/components/tagsTable.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n("../../../../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),o=(n("../../../../node_modules/react/index.js"),n("./app/components/charts/styles.tsx")),a=n("./app/components/keyValueTable.tsx"),s=n("./app/components/links/link.tsx"),i=n("./app/components/tooltip.tsx"),l=n("./app/components/version.tsx"),u=n("./app/locale.tsx"),c=n("./app/styles/space.tsx"),p=n("../../../../node_modules/@emotion/core/dist/core.browser.esm.js"),d=function(e){var t=e.event,n=e.query,r=e.generateUrl,c=e.title,d=void 0===c?(0,u.t)("Tag Details"):c,v=t.tags;return(0,p.tZ)(m,null,(0,p.tZ)(o.OT,null,d),(0,p.tZ)(a.v,null,v.map((function(e){var t=n.includes("".concat(e.key,":")),o=t?void 0:r(e),c=function(){switch(e.key){case"release":return(0,p.tZ)(l.Z,{version:e.value,anchor:!1,withPackage:!0});default:return e.value}};return(0,p.tZ)(a.G,{key:e.key,keyName:e.key,value:t?(0,p.tZ)(i.Z,{title:(0,u.t)("This tag is in the current filter conditions")},(0,p.tZ)("span",null,c())):(0,p.tZ)(s.Z,{to:o||""},c())})}))))};d.displayName="TagsTable";var m=(0,r.Z)("div",{target:"e69p5ie0",label:"StyledTagsTable"})("margin-bottom:",(0,c.Z)(3),";");const v=d},"./app/views/performance/breadcrumb.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var r=n("../../../../node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r),a=n("../../../../node_modules/@babel/runtime/helpers/classCallCheck.js"),s=n.n(a),i=n("../../../../node_modules/@babel/runtime/helpers/createClass.js"),l=n.n(i),u=n("../../../../node_modules/@babel/runtime/helpers/inherits.js"),c=n.n(u),p=n("../../../../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),d=n.n(p),m=n("../../../../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),v=n.n(m),f=n("../../../../node_modules/react/index.js"),g=n("./app/components/breadcrumbs.tsx"),y=n("./app/locale.tsx"),h=n("./app/utils/queryString.tsx"),b=n("./app/views/performance/transactionSummary/utils.tsx"),x=n("./app/views/performance/transactionVitals/utils.tsx"),Z=n("./app/views/performance/vitalDetail/utils.tsx"),j=n("./app/views/performance/utils.tsx"),S=n("../../../../node_modules/@emotion/core/dist/core.browser.esm.js");function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var z=function(e){c()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=v()(t);if(n){var o=v()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return d()(this,e)});function o(){return s()(this,o),r.apply(this,arguments)}return l()(o,[{key:"getCrumbs",value:function(){var e=[],t=this.props,n=t.organization,r=t.location,o=t.transactionName,a=t.vitalName,s=t.eventSlug,i=t.traceSlug,l=t.transactionComparison,u=t.realUserMonitoring,c={pathname:(0,j.de)(n),query:k(k({},r.query),{},{transaction:void 0})};if(e.push({to:c,label:(0,y.t)("Performance"),preserveGlobalSelection:!0}),a){var p=(0,Z.i4)({orgSlug:n.slug,vitalName:"fcp",projectID:(0,h.ro)(r.query.project),query:r.query});e.push({to:p,label:(0,y.t)("Vital Detail"),preserveGlobalSelection:!0})}else if(o)if(u){var d=(0,x.Pl)({orgSlug:n.slug,transaction:o,projectID:(0,h.ro)(r.query.project),query:r.query});e.push({to:d,label:(0,y.t)("Web Vitals"),preserveGlobalSelection:!0})}else{var m=(0,b.e1)({orgSlug:n.slug,transaction:o,projectID:(0,h.ro)(r.query.project),query:r.query});e.push({to:m,label:(0,y.t)("Transaction Summary"),preserveGlobalSelection:!0})}return o&&s?e.push({to:"",label:(0,y.t)("Event Details")}):l?e.push({to:"",label:(0,y.t)("Compare to Baseline")}):i&&e.push({to:"",label:(0,y.t)("Trace View")}),e}},{key:"render",value:function(){return(0,S.tZ)(g.Z,{crumbs:this.getCrumbs()})}}]),o}(f.Component);z.displayName="Breadcrumb";const w=z},"./app/views/performance/transactionDetails/eventMetas.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var r=n("../../../../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),o=n("../../../../node_modules/react/index.js"),a=n("./app/components/dateTime.tsx"),s=n("./app/components/idBadge/projectBadge.tsx"),i=n("./app/components/timeSince.tsx"),l=n("./app/locale.tsx"),u=n("./app/styles/space.tsx"),c=n("./app/utils/events.tsx"),p=n("./app/utils/formatters.tsx"),d=n("./app/utils/performance/quickTrace/utils.tsx"),m=n("./app/utils/projects.tsx"),v=n("./app/components/errorBoundary.tsx"),f=n("./app/components/links/link.tsx"),g=n("./app/components/placeholder.tsx"),y=n("./app/components/quickTrace/index.tsx"),h=n("./app/components/quickTrace/utils.tsx"),b=n("./app/utils/analytics.tsx"),x=n("./app/views/performance/transactionDetails/styles.tsx"),Z=n("../../../../node_modules/@emotion/core/dist/core.browser.esm.js");function j(e){var t,n,r,o=e.event,a=e.location,s=e.organization,i=e.quickTrace,u=i.isLoading,p=i.error,d=i.trace,m=i.type,j=e.traceSize,S=e.errorDest,T=e.transactionDest,k=null!==(t=null===(n=o.contexts)||void 0===n||null===(r=n.trace)||void 0===r?void 0:r.trace_id)&&void 0!==t?t:null,z=(0,h.aV)(o,s),w=null===k?null:(0,l.t)("Trace ID: %s (%s events)",(0,c.XQ)(k),j||"?"),D=u?(0,Z.tZ)(g.Z,{height:"24px"}):p||null===d?"—":(0,Z.tZ)(v.Z,{mini:!0},(0,Z.tZ)(y.Z,{event:o,quickTrace:{type:m,trace:d},location:a,organization:s,anchor:"right",errorDest:S,transactionDest:T}));return(0,Z.tZ)(x.U,{headingText:(0,l.t)("Quick Trace"),beta:!0,tooltipText:(0,l.t)("A minified version of the full trace."),bodyText:D,subtext:null===k?"—":(0,Z.tZ)(f.Z,{to:z,onClick:function(){return function(e){(0,b.ec)({eventKey:"quick_trace.trace_id.clicked",eventName:"Quick Trace: Trace ID clicked",organization_id:parseInt(e.id,10),source:"events"})}(s)}},w)})}function S(e){var t,n,r,o=e.event,u=e.organization,v=e.projectId,f=e.location,g=e.traceSize,y=e.quickTrace,h=e.errorDest,b=e.transactionDest,S=(0,d.hp)(o)?"transaction":"event",w=(0,Z.tZ)(m.Z,{orgId:u.slug,slugs:[v]},(function(e){var t=e.projects.find((function(e){return e.slug===v}));return(0,Z.tZ)(s.Z,{project:t||{slug:v},avatarSize:16})})),D=(0,Z.tZ)(i.Z,{date:o.dateCreated||1e3*(o.endTimestamp||0)}),_=(0,Z.tZ)(z,{event:o});return(0,Z.tZ)(T,{type:S},(0,Z.tZ)(x.U,{headingText:(0,l.t)("Event ID"),tooltipText:(0,l.t)("The unique ID assigned to this %s.",S),bodyText:(0,c.XQ)(o.eventID),subtext:w}),(0,d.hp)(o)?(0,Z.tZ)(x.U,{headingText:(0,l.t)("Event Duration"),tooltipText:(0,l.t)("The time elapsed between the start and end of this transaction."),bodyText:(0,p.g9)(o.endTimestamp-o.startTimestamp,2,!0),subtext:D}):(0,Z.tZ)(x.U,{headingText:(0,l.t)("Created"),tooltipText:(0,l.t)("The time at which this event was created."),bodyText:D,subtext:(0,Z.tZ)(a.Z,{date:o.dateCreated})}),(0,d.hp)(o)&&(0,Z.tZ)(x.U,{headingText:(0,l.t)("Status"),tooltipText:(0,l.t)("The status of this transaction indicating if it succeeded or otherwise."),bodyText:null!==(t=null===(n=o.contexts)||void 0===n||null===(r=n.trace)||void 0===r?void 0:r.status)&&void 0!==t?t:"—",subtext:_}),(0,Z.tZ)(k,null,(0,Z.tZ)(j,{event:o,organization:u,location:f,quickTrace:y,errorDest:h,transactionDest:b,traceSize:g})))}j.displayName="QuickTraceMeta",S.displayName="EventMetas";var T=(0,r.Z)("div",{target:"e1n7b05k0",label:"EventDetailHeader"})("display:grid;grid-template-columns:repeat(",(function(e){return"transaction"===e.type?3:2}),",1fr);grid-template-rows:repeat(2,auto);grid-gap:",(0,u.Z)(2),";margin-bottom:",(0,u.Z)(2),";@media (min-width:",(function(e){return e.theme.breakpoints[1]}),"){margin-bottom:0;}@media (min-width:",(function(e){return e.theme.breakpoints[2]}),"){",(function(e){return"transaction"===e.type?"grid-template-columns: minmax(160px, 1fr) minmax(160px, 1fr) minmax(160px, 1fr) 6fr;":"grid-template-columns: minmax(160px, 1fr) minmax(200px, 1fr) 6fr;"}),";grid-row-gap:0;}"),k=(0,r.Z)("div",{target:"e1n7b05k1",label:"QuickTraceContainer"})("grid-column:1/4;@media (min-width:",(function(e){return e.theme.breakpoints[2]}),"){justify-self:flex-end;min-width:325px;grid-column:unset;}");function z(e){var t=e.event.tags,n=(0,Z.tZ)(o.Fragment,null,"—");if(!Array.isArray(t))return n;var r=t.find((function(e){return"http.status_code"===e.key}));return r?(0,Z.tZ)(o.Fragment,null,"HTTP ",r.value):n}z.displayName="HttpStatus";const w=S},"./app/views/performance/transactionDetails/index.tsx":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>ae});var r=n("../../../../node_modules/@babel/runtime/helpers/classCallCheck.js"),o=n.n(r),a=n("../../../../node_modules/@babel/runtime/helpers/createClass.js"),s=n.n(a),i=n("../../../../node_modules/@babel/runtime/helpers/inherits.js"),l=n.n(i),u=n("../../../../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),c=n.n(u),p=n("../../../../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),d=n.n(p),m=n("../../../../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),v=n("../../../../node_modules/react/index.js"),f=n("./app/components/lightWeightNoProjectMessage.tsx"),g=n("./app/components/sentryDocumentTitle.tsx"),y=n("./app/locale.tsx"),h=n("./app/styles/organization.tsx"),b=n("./app/utils/withOrganization.tsx"),x=n("../../../../node_modules/@babel/runtime/regenerator/index.js"),Z=n.n(x),j=n("../../../../node_modules/@babel/runtime/helpers/asyncToGenerator.js"),S=n.n(j),T=n("../../../../node_modules/@babel/runtime/helpers/defineProperty.js"),k=n.n(T),z=n("../../../../node_modules/@babel/runtime/helpers/get.js"),w=n.n(z),D=n("./app/actionCreators/events.tsx"),_=n("./app/components/asyncComponent.tsx"),O=n("./app/components/button.tsx"),q=n("./app/components/buttonBar.tsx"),C=n("./app/components/errors/notFound.tsx"),P=n("./app/components/events/eventEntries.tsx"),I=n("./app/components/events/eventMetadata.tsx"),E=n("./app/components/events/eventVitals.tsx"),N=n("./app/components/events/interfaces/spans/context.tsx"),R=n("./app/components/events/opsBreakdown.tsx"),M=n("./app/components/events/rootSpanStatus.tsx"),B=n("./app/components/fileSize.tsx"),V=n("./app/components/layouts/thirds.tsx"),U=n("./app/components/loadingError.tsx"),A=n("./app/components/tagsTable.tsx"),H=n("./app/icons/index.tsx"),F=n("./app/utils/analytics.tsx"),W=n("./app/utils/performance/quickTrace/quickTraceContext.tsx"),Q=n("./app/utils/performance/quickTrace/quickTraceQuery.tsx"),G=n("./app/utils/performance/quickTrace/utils.tsx"),J=n("./app/utils/projects.tsx"),L=n("./app/utils/queryString.tsx"),K=n("./app/views/performance/breadcrumb.tsx"),X=n("./app/views/performance/transactionSummary/utils.tsx"),$=n("./app/views/performance/utils.tsx"),Y=n("./app/views/performance/transactionDetails/eventMetas.tsx"),ee=n("../../../../node_modules/@emotion/core/dist/core.browser.esm.js");function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const re=function(e){l()(i,e);var t,n,r,a=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d()(n);if(r){var o=d()(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return c()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=a.call.apply(a,[this].concat(n))).state={loading:!0,reloading:!1,error:!1,errors:[],event:void 0,isSidebarVisible:!0,traceSize:void 0},e.toggleSidebar=function(){e.setState({isSidebarVisible:!e.state.isSidebarVisible})},e.generateTagUrl=function(t){var n=e.props,r=n.location,o=n.organization,a=e.state.event;if(!a)return"";var s=(0,L.ro)(r.query.query,""),i=ne(ne({},r.query),{},{query:(0,L.os)(s,t.key,t.value)});return(0,X.e1)({orgSlug:o.slug,transaction:a.title,projectID:(0,L.ro)(r.query.project),query:i})},e}return s()(i,[{key:"componentDidUpdate",value:function(e,t){var n,r,o,a,s,l=this.state.event;l&&(null===(n=l.contexts)||void 0===n||null===(r=n.trace)||void 0===r?void 0:r.trace_id)!==(null==t||null===(o=t.event)||void 0===o||null===(a=o.contexts)||void 0===a||null===(s=a.trace)||void 0===s?void 0:s.trace_id)&&this.fetchTotal(),w()(d()(i.prototype),"componentDidUpdate",this).call(this,e,t)}},{key:"getEndpoints",value:function(){var e=this.props,t=e.organization,n=e.params.eventSlug;return[["event","/organizations/".concat(t.slug,"/events/").concat(n,"/")]]}},{key:"projectId",get:function(){return this.props.eventSlug.split(":")[0]}},{key:"fetchTotal",value:(t=S()(Z().mark((function e(){var t,n,r,o,a,s,i,l,u,c,p,d,m;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=this.props,a=o.location,s=o.organization,i=this.state.event){e.next=4;break}return e.abrupt("return");case 4:if(l=null!==(t=null===(n=i.contexts)||void 0===n||null===(r=n.trace)||void 0===r?void 0:r.trace_id)&&void 0!==t?t:null){e.next=7;break}return e.abrupt("return");case 7:return u=(0,G.$J)(i),c=u.start,p=u.end,(d=(0,G._Z)({start:c,end:p})).query="trace:".concat(l),e.next=12,(0,D.JE)(this.api,s.slug,d.getEventsAPIPayload(a));case 12:m=e.sent,this.setState({traceSize:m});case 14:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"renderBody",value:function(){var e=this.state.event;return e?this.renderContent(e):(0,ee.tZ)(C.Z,null)}},{key:"renderContent",value:function(e){var t=this,n=this.props,r=n.organization,o=n.location,a=n.eventSlug;(0,F.ec)({eventKey:"performance.event_details",eventName:"Performance: Opened Event Details",event_type:e.type,organization_id:parseInt(r.id,10)});var s=this.state.isSidebarVisible,i=e.title,l=(0,L.ro)(o.query.query,""),u="/api/0/projects/".concat(r.slug,"/").concat(this.projectId,"/events/").concat(e.eventID,"/json/"),c=function(n){return(0,ee.tZ)(v.Fragment,null,(0,ee.tZ)(V.h4,null,(0,ee.tZ)(V.oB,null,(0,ee.tZ)(K.Z,{organization:r,location:o,transactionName:i,eventSlug:a}),(0,ee.tZ)(V.Dx,{"data-test-id":"event-header"},e.title)),(0,ee.tZ)(V.kP,null,(0,ee.tZ)(q.Z,{gap:1},(0,ee.tZ)(O.ZP,{onClick:t.toggleSidebar},s?"Hide Details":"Show Details"),n&&(0,ee.tZ)(O.ZP,{icon:(0,ee.tZ)(H.V$,null),href:u,external:!0},(0,y.t)("JSON")," (",(0,ee.tZ)(B.Z,{bytes:e.size}),")")))),(0,ee.tZ)(V.uT,null,n&&(0,ee.tZ)(V.or,{fullWidth:!0},(0,ee.tZ)(Y.Z,{quickTrace:n,event:e,organization:r,projectId:t.projectId,location:o,errorDest:"issue",traceSize:t.state.traceSize,transactionDest:"performance"})),(0,ee.tZ)(V.or,{fullWidth:!s},(0,ee.tZ)(J.Z,{orgId:r.slug,slugs:[t.projectId]},(function(a){var s=a.projects;return(0,ee.tZ)(N.z,{value:{getViewChildTransactionTarget:function(e){return(0,$.DD)(r,e.eventSlug,e.transaction,o.query)}}},(0,ee.tZ)(W.z,{value:n},(0,ee.tZ)(P.j,{organization:r,event:e,project:s[0],showExampleCommit:!1,showTagSummary:!1,location:o,api:t.api})))}))),s&&(0,ee.tZ)(V.MF,null,void 0===n&&(0,ee.tZ)(v.Fragment,null,(0,ee.tZ)(I.Z,{event:e,organization:r,projectId:t.projectId}),(0,ee.tZ)(M.Z,{event:e}),(0,ee.tZ)(R.Z,{event:e})),(0,ee.tZ)(E.Z,{event:e}),(0,ee.tZ)(A.Z,{event:e,query:l,generateUrl:t.generateTagUrl}))))};return r.features.includes("trace-view-quick")||r.features.includes("trace-view-summary")?(0,ee.tZ)(Q.Z,{event:e,location:o,orgSlug:r.slug},(function(e){return c(e)})):c()}},{key:"renderError",value:function(e){var t=Object.values(this.state.errors).find((function(e){return e&&404===e.status})),n=Object.values(this.state.errors).find((function(e){return e&&403===e.status}));return t?(0,ee.tZ)(C.Z,null):n?(0,ee.tZ)(U.Z,{message:(0,y.t)("You do not have permission to view that event.")}):w()(d()(i.prototype),"renderError",this).call(this,e,!0,!0)}},{key:"renderComponent",value:function(){var e=this.props.organization;return(0,ee.tZ)(g.Z,{title:(0,y.t)("Performance - Event Details"),orgSlug:e.slug},w()(d()(i.prototype),"renderComponent",this).call(this))}}]),i}(_.Z);var oe=function(e){l()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=d()(t);if(n){var o=d()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return c()(this,e)});function a(){var e;o()(this,a);for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return(e=r.call.apply(r,[this].concat(n))).getEventSlug=function(){var t=e.props.params.eventSlug;return"string"==typeof t?t.trim():""},e}return s()(a,[{key:"render",value:function(){var e=this.props,t=e.organization,n=e.location,r=e.params,o=(0,y.t)("Performance Details"),a=this.getEventSlug(),s=a.split(":")[0];return(0,ee.tZ)(g.Z,{title:o,orgSlug:t.slug,projectSlug:s},(0,ee.tZ)(se,null,(0,ee.tZ)(f.Z,{organization:t},(0,ee.tZ)(re,{organization:t,location:n,params:r,eventSlug:a}))))}}]),a}(v.Component);oe.displayName="EventDetails";const ae=(0,b.Z)(oe);var se=(0,m.Z)(h.JH,{target:"e1l3jbk80",label:"StyledPageContent"})({name:"y8aj3r",styles:"padding:0;"})},"./app/views/performance/transactionDetails/styles.tsx":(e,t,n)=>{"use strict";n.d(t,{U:()=>u});var r=n("../../../../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),o=(n("../../../../node_modules/react/index.js"),n("./app/components/charts/styles.tsx")),a=n("./app/components/featureBadge.tsx"),s=n("./app/components/questionTooltip.tsx"),i=n("./app/styles/space.tsx"),l=n("../../../../node_modules/@emotion/core/dist/core.browser.esm.js");function u(e){var t=e.headingText,n=e.tooltipText,r=e.bodyText,o=e.subtext,a=e.beta;return(0,l.tZ)(c,null,(0,l.tZ)(p,null,t,(0,l.tZ)(s.Z,{position:"top",size:"sm",containerDisplayMode:"block",title:n}),a&&(0,l.tZ)(m,{type:"beta"})),(0,l.tZ)(d,null,r),(0,l.tZ)(v,null,o))}u.displayName="MetaData";var c=(0,r.Z)("div",{target:"e16499nx0",label:"HeaderInfo"})({name:"1ry9wb5",styles:"height:78px;"}),p=(0,r.Z)(o.OT,{target:"e16499nx1",label:"StyledSectionHeading"})({name:"1uk1gs8",styles:"margin:0;"}),d=(0,r.Z)("div",{target:"e16499nx2",label:"SectionBody"})("font-size:",(function(e){return e.theme.fontSizeExtraLarge}),";padding:",(0,i.Z)(.5)," 0;max-height:32px;"),m=(0,r.Z)(a.Z,{target:"e16499nx3",label:"StyledFeatureBadge"})({name:"1uk1gs8",styles:"margin:0;"}),v=(0,r.Z)("div",{target:"e16499nx4",label:"SectionSubtext"})("color:",(function(e){return"error"===e.type?e.theme.error:e.theme.subText}),";font-size:",(function(e){return e.theme.fontSizeMedium}),";")},"./app/views/performance/transactionVitals/utils.tsx":(e,t,n)=>{"use strict";n.d(t,{Pl:()=>o,oZ:()=>a,eH:()=>s,L0:()=>i,jb:()=>l});var r=n("./app/utils/performance/histogram/utils.tsx");function o(e){var t,n=e.orgSlug,r=e.transaction,o=e.projectID,a=e.query;return{pathname:(t={orgSlug:n},"/organizations/".concat(t.orgSlug,"/performance/summary/vitals/")),query:{transaction:r,project:o,environment:a.environment,statsPeriod:a.statsPeriod,start:a.start,end:a.end,query:a.query}}}function a(e,t){var n=(0,r.te)(e);return!e.length||t>=e[e.length-1].bin+n?null:t<e[0].bin?-1:Math.floor((t-e[0].bin)/n)}function s(e){if(e.length<2)return null;for(var t=0;t<e.length;t++)for(var n=e[t],r=t+1;r<e.length;r++){var o=e[r];if(n.bin!==o.bin&&n.count!==o.count)return{point1:{x:t,y:Math.min(n.count,o.count)},point2:{x:r,y:Math.max(n.count,o.count)}}}return{point1:{x:0,y:0},point2:{x:1,y:1}}}function i(e,t){var n=e.convertToPixel({xAxisIndex:0,yAxisIndex:0},[t.point1.x,t.point1.y]);if(isNaN(null==n?void 0:n[0])||isNaN(null==n?void 0:n[1]))return null;var r=e.convertToPixel({xAxisIndex:0,yAxisIndex:0},[t.point2.x,t.point2.y]);return isNaN(null==r?void 0:r[0])||isNaN(null==r?void 0:r[1])?null:{point1:{x:n[0],y:n[1]},point2:{x:r[0],y:r[1]}}}function l(e,t,n){if(t.point1.x===t.point2.x||t.point1.y===t.point2.y||n.point1.x===n.point2.x||n.point1.y===n.point2.y)return null;var r=(e.x-t.point1.x)/(t.point2.x-t.point1.x),o=(e.y-t.point1.y)/(t.point2.y-t.point1.y);return{x:n.point1.x+(n.point2.x-n.point1.x)*r,y:n.point1.y+(n.point2.y-n.point1.y)*o}}}}]);
//# sourceMappingURL=PerformanceTransactionDetails.js.map