(self.webpackChunk=self.webpackChunk||[]).push([["DebugImageDetails"],{"./app/components/events/interfaces/debugMeta-v2/debugImageDetails/index.tsx":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>_t,modalCss:()=>Bt});var a=n("../../../../node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),r=n.n(a),i=n("../../../../node_modules/@babel/runtime/helpers/toConsumableArray.js"),o=n.n(i),s=n("../../../../node_modules/@babel/runtime/helpers/slicedToArray.js"),l=n.n(s),u=n("../../../../node_modules/@babel/runtime/helpers/defineProperty.js"),d=n.n(u),c=n("../../../../node_modules/@babel/runtime/regenerator/index.js"),p=n.n(c),m=n("../../../../node_modules/@babel/runtime/helpers/asyncToGenerator.js"),f=n.n(m),g=n("../../../../node_modules/@babel/runtime/helpers/classCallCheck.js"),b=n.n(g),h=n("../../../../node_modules/@babel/runtime/helpers/createClass.js"),y=n.n(h),Z=n("../../../../node_modules/@babel/runtime/helpers/get.js"),v=n.n(Z),w=n("../../../../node_modules/@babel/runtime/helpers/inherits.js"),S=n.n(w),x=n("../../../../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),k=n.n(x),D=n("../../../../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),O=n.n(D),j=n("../../../../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),C=n("../../../../node_modules/react/index.js"),_=n("../../../../node_modules/@emotion/core/dist/core.browser.esm.js"),E=n("../../../../node_modules/lodash/partition.js"),F=n.n(E),T=n("../../../../node_modules/lodash/sortBy.js"),R=n.n(T),B=n("./app/actionCreators/indicator.tsx"),P=n("./app/components/alertLink.tsx"),I=n("./app/components/asyncComponent.tsx"),z=n("./app/components/button.tsx"),N=n("./app/components/buttonBar.tsx"),L=n("./app/locale.tsx"),U=n("./app/styles/space.tsx"),A=n("./app/types/debugFiles.tsx"),M=n("./app/types/debugImage.tsx"),W=n("./app/utils/displayReprocessEventAction.tsx"),q=n("./app/utils/theme.tsx"),K=n("./app/views/settings/projectDebugFiles/utils.tsx"),G=n("./app/components/events/interfaces/debugMeta-v2/utils.tsx"),J=n("../../../../node_modules/@babel/runtime/helpers/extends.js"),Y=n.n(J),$=n("../../../../node_modules/lodash/debounce.js"),H=n.n($),V=n("../../../../node_modules/lodash/isEqual.js"),X=n.n(V),Q=n("../../../../node_modules/lodash/pick.js"),ee=n.n(Q),te=n("./app/components/links/externalLink.tsx"),ne=n("./app/components/panels/panelTable.tsx"),ae=n("./app/components/questionTooltip.tsx"),re=n("./app/components/searchBar.tsx"),ie=n("./app/utils.tsx"),oe=n("./app/components/events/interfaces/debugMeta-v2/filter/index.tsx"),se=n("../../../../node_modules/@sentry/minimal/esm/index.js"),le=n("../../../../node_modules/@sentry/types/esm/severity.js"),ue=n("./app/components/tag.tsx");const de=function(e){switch(e.status){case M.il.OK:return(0,_.tZ)(ue.Z,{type:"success"},(0,L.t)("Ok"));case M.il.ERROR:case M.il.MALFORMED:return(0,_.tZ)(ue.Z,{type:"error"},(0,L.t)("Failed"));case M.il.NOT_FOUND:return(0,_.tZ)(ue.Z,null,(0,L.t)("Not Found"));case M.il.NO_PERMISSION:return(0,_.tZ)(ue.Z,{type:"highlight"},(0,L.t)("Permissions"));case M.il.DELETED:return(0,_.tZ)(ue.Z,{type:"success"},(0,L.t)("Deleted"));case M.il.UNAPPLIED:return(0,_.tZ)(ue.Z,{type:"warning"},(0,L.t)("Unapplied"));default:return se.$e((function(e){e.setLevel(le.z.Warning),se.Tb(new Error("Unknown image candidate download status"))})),(0,_.tZ)(ue.Z,null,(0,L.t)("Unknown"))}};var ce="sentry:project",pe="sentry://project_debug_file/",me=n("./app/components/tooltip.tsx");function fe(e){var t=e.candidate,n=e.hasReprocessWarning,a=t.download,r=function(e,t){var n=e.download,a=e.location,r=e.source;switch(n.status){case M.il.OK:return{label:(0,L.t)("Download Details"),description:a,disabled:!a||r===ce};case M.il.ERROR:case M.il.MALFORMED:var i=n.details;return{label:(0,L.t)("Download Details"),description:i,disabled:!i};case M.il.NOT_FOUND:return{};case M.il.NO_PERMISSION:var o=n.details;return{label:(0,L.t)("Permission Error"),description:o,disabled:!o};case M.il.DELETED:return{label:(0,L.t)("This file was deleted after the issue was processed.")};case M.il.UNAPPLIED:return{label:t?(0,L.t)("This issue was processed before this debug information file was available. To apply new debug information, reprocess this issue."):(0,L.t)("This issue was processed before this debug information file was available")};default:return se.$e((function(e){e.setLevel(le.z.Warning),se.Tb(new Error("Unknown image candidate download status"))})),{}}}(t,n),i=r.label,o=r.description,s=r.disabled;return(0,_.tZ)(me.Z,{title:i&&(0,_.tZ)(be,null,(0,_.tZ)(he,null,i),o&&(0,_.tZ)("div",null,o)),disabled:s},(0,_.tZ)(de,{status:a.status}))}fe.displayName="StatusTooltip";const ge=fe;var be=(0,j.Z)("div",{target:"e1g1lrmi0",label:"Title"})({name:"13brihr",styles:"text-align:left;"}),he=(0,j.Z)("div",{target:"e1g1lrmi1",label:"Label"})("display:inline-block;margin-bottom:",(0,U.Z)(.25),";"),ye=n("./app/components/acl/access.tsx"),Ze=n("./app/components/acl/role.tsx"),ve=n("./app/components/actions/button.tsx"),we=n("./app/components/actions/menuItemActionLink.tsx"),Se=n("./app/components/confirm.tsx"),xe=n("./app/components/dropdownLink.tsx"),ke=n("./app/icons/index.tsx"),De=(0,L.t)("You do not have permission to download debug files"),Oe=(0,L.t)("You do not have permission to delete debug files"),je=(0,L.t)("Are you sure you wish to delete this file?");function Ce(e){var t=e.candidate,n=e.organization,a=e.isInternalSource,r=e.baseUrl,i=e.projectId,o=e.onDelete,s=t.download,l=t.location,u=s.status;if(!l||!a)return null;var d=u===M.il.DELETED,c="".concat(r,"/projects/").concat(n.slug,"/").concat(i,"/files/dsyms/?id=").concat(l),p=(0,_.tZ)(Ze.Z,{role:n.debugFilesRole,organization:n},(function(e){var t=e.hasRole;return(0,_.tZ)(ye.Z,{access:["project:write"],organization:n},(function(e){var n=e.hasAccess;return(0,_.tZ)(C.Fragment,null,(0,_.tZ)(Ee,{caret:!1,customTitle:(0,_.tZ)(ve.Z,{label:(0,L.t)("Actions"),disabled:d,icon:(0,_.tZ)(ke.YR,{size:"sm"})}),anchorRight:!0},(0,_.tZ)(me.Z,{disabled:t,title:De},(0,_.tZ)(we.Z,{shouldConfirm:!1,icon:(0,_.tZ)(ke.Dj,{size:"xs"}),title:(0,L.t)("Download"),href:c,onClick:function(e){d&&e.preventDefault()},disabled:!t||d},(0,L.t)("Download"))),(0,_.tZ)(me.Z,{disabled:n,title:Oe},(0,_.tZ)(we.Z,{onAction:function(){return o(l)},message:je,title:(0,L.t)("Delete"),disabled:!n||d,shouldConfirm:!0},(0,L.t)("Delete")))),(0,_.tZ)(Fe,{gap:1},(0,_.tZ)(me.Z,{disabled:t,title:De},(0,_.tZ)(z.ZP,{size:"xsmall",icon:(0,_.tZ)(ke.Dj,{size:"xs"}),href:c,disabled:!t},(0,L.t)("Download"))),(0,_.tZ)(me.Z,{disabled:n,title:Oe},(0,_.tZ)(Se.Z,{confirmText:(0,L.t)("Delete"),message:je,onConfirm:function(){return o(l)},disabled:!n},(0,_.tZ)(z.ZP,{priority:"danger",icon:(0,_.tZ)(ke.Fz,{size:"xs"}),size:"xsmall",disabled:!n})))))}))}));return d?(0,_.tZ)(me.Z,{title:(0,L.t)("Actions not available because this debug file was deleted")},p):p}Ce.displayName="Actions";const _e=Ce;var Ee=(0,j.Z)(xe.Z,{target:"e2rq6i80",label:"StyledDropdownLink"})("display:none;@media (min-width:",(function(e){return e.theme.breakpoints[2]}),"){display:flex;align-items:center;transition:none;}"),Fe=(0,j.Z)(N.Z,{target:"e2rq6i81",label:"StyledButtonBar"})("@media (min-width:",(function(e){return e.theme.breakpoints[2]}),"){display:none;}"),Te=n("../../../../node_modules/lodash/capitalize.js"),Re=n.n(Te),Be=n("../../../../node_modules/moment-timezone/index.js"),Pe=n.n(Be),Ie=n("./app/components/dateTime.tsx"),ze=n("./app/components/fileSize.tsx"),Ne=n("./app/components/timeSince.tsx"),Le=n("./app/components/events/interfaces/debugMeta-v2/processing/item.tsx"),Ue=n("./app/components/events/interfaces/debugMeta-v2/processing/list.tsx");function Ae(){return(0,_.tZ)(We,null,"|")}Ae.displayName="Divider";const Me=Ae;var We=(0,j.Z)("div",{target:"ez9bz8v0",label:"Wrapper"})("color:",(function(e){return e.theme.gray200}),";");function qe(e){var t=e.download,n=[];return t.status!==M.il.OK&&t.status!==M.il.DELETED&&t.status!==M.il.UNAPPLIED||(n=Object.keys(t.features).filter((function(e){return t.features[e]}))),(0,_.tZ)(C.Fragment,null,Object.keys(M.xe).map((function(e){var t=function(e){switch(e){case M.xe.has_debug_info:return{label:(0,L.t)("debug"),description:(0,L.t)("Debug information provides function names and resolves inlined frames during symbolication")};case M.xe.has_sources:return{label:(0,L.t)("sources"),description:(0,L.t)("Source code information allows Sentry to display source code context for stack frames")};case M.xe.has_symbols:return{label:(0,L.t)("symtab"),description:(0,L.t)("Symbol tables are used as a fallback when full debug information is not available")};case M.xe.has_unwind_info:return{label:(0,L.t)("unwind"),description:(0,L.t)("Stack unwinding information improves the quality of stack traces extracted from minidumps")};default:return se.$e((function(e){e.setLevel(le.z.Warning),se.Tb(new Error("Unknown image candidate feature"))})),{}}}(e),a=t.label,r=t.description,i=!n.includes(e);return(0,_.tZ)(Ge,{key:a,disabled:i,tooltipText:i?void 0:r},a)})))}qe.displayName="Features";const Ke=qe;var Ge=(0,j.Z)(ue.Z,{target:"enq8a980",label:"StyledTag"})("opacity:",(function(e){return e.disabled?"0.35":1}),";");const Je=function(e){var t=e.processingInfo;switch(t.status){case M.kJ.OK:return(0,_.tZ)(ke.DL,{color:"green300",size:"xs"});case M.kJ.ERROR:var n=t.details;return(0,_.tZ)(me.Z,{title:n,disabled:!n},(0,_.tZ)(ke.bM,{color:"red300",size:"xs"}));case M.kJ.MALFORMED:var a=t.details;return(0,_.tZ)(me.Z,{title:a,disabled:!a},(0,_.tZ)(ke.FC,{color:"yellow300",size:"xs"}));default:return se.$e((function(e){e.setLevel(le.z.Warning),se.Tb(new Error("Unknown image candidate ProcessingIcon status"))})),null}};function Ye(e){var t=e.candidate,n=e.isInternalSource,a=e.hasReprocessWarning,r=e.eventDateReceived,i=t.source_name,o=t.source,s=t.location,l=t.download;function u(e){var n=(0,_.tZ)(Ie.Z,{date:e});return t.download.status===M.il.OK?n:Pe()(e).isBefore(r)?a?(0,_.tZ)(C.Fragment,null,(0,L._N)("This debug file was uploaded [when] before this event. It takes up to 1 hour for new files to propagate. To apply new debug information, reprocess this issue.",{when:Pe()(r).from(e,!0)}),(0,_.tZ)(et,null,n)):(0,_.tZ)(C.Fragment,null,(0,L._N)("This debug file was uploaded [when] before this event. It takes up to 1 hour for new files to propagate.",{when:Pe()(r).from(e,!0)}),(0,_.tZ)(et,null,n)):(a&&(0,_.tZ)(C.Fragment,null,(0,L._N)("This debug file was uploaded [when] after this event. To apply new debug information, reprocess this issue.",{when:Pe()(e).from(r,!0)}),(0,_.tZ)(et,null,n)),(0,_.tZ)(C.Fragment,null,(0,L._N)("This debug file was uploaded [when] after this event.",{when:Pe()(r).from(e,!0)}),(0,_.tZ)(et,null,n)))}var d=function(){if(t.download.status===M.il.UNAPPLIED||t.download.status===M.il.OK&&n){var e=t,a=e.symbolType,r=e.filename;return a===M.Ko.PROGUARD&&"proguard-mapping"===r?null:r}return s&&!n?s:null}();return(0,_.tZ)(He,null,(0,_.tZ)("div",null,(0,_.tZ)("strong",{"data-test-id":"source_name"},i?Re()(i):(0,L.t)("Unknown")),d&&(0,_.tZ)(Ve,null,d)),(0,_.tZ)(Xe,null,function(){if(t.download.status!==M.il.UNAPPLIED&&t.download.status!==M.il.OK||o!==ce)return null;var e=t,n=e.symbolType,a=e.fileType,r=e.cpuName,i=e.size,s=e.dateCreated;return(0,_.tZ)(C.Fragment,null,(0,_.tZ)(me.Z,{title:u(s)},(0,_.tZ)(Qe,null,t.download.status===M.il.UNAPPLIED&&(0,_.tZ)(ke.FC,{color:"red300",size:"xs"}),(0,L._N)("Uploaded [timesince]",{timesince:(0,_.tZ)(Ne.Z,{disabledAbsoluteTooltip:!0,date:s})}))),(0,_.tZ)(Me,null),(0,_.tZ)(ze.Z,{bytes:i}),(0,_.tZ)(Me,null),(0,_.tZ)("span",null,n===M.Ko.PROGUARD&&"any"===r?(0,L.t)("proguard mapping"):"".concat(n).concat(a?" ".concat(a):"")),(0,_.tZ)(Me,null))}(),function(){if(t.download.status!==M.il.OK&&t.download.status!==M.il.DELETED)return null;var e=[],n=t,a=n.debug,r=n.unwind;return a&&e.push((0,_.tZ)(Le.Z,{key:"symbolication",type:"symbolication",icon:(0,_.tZ)(Je,{processingInfo:a})})),r&&e.push((0,_.tZ)(Le.Z,{key:"stack_unwinding",type:"stack_unwinding",icon:(0,_.tZ)(Je,{processingInfo:r})})),e.length?(0,_.tZ)(C.Fragment,null,(0,_.tZ)(tt,{items:e}),(0,_.tZ)(Me,null)):null}(),(0,_.tZ)(Ke,{download:l})))}Ye.displayName="Information";const $e=Ye;var He=(0,j.Z)("div",{target:"ejjrh2l0",label:"Wrapper"})({name:"lh0gox",styles:"white-space:pre-wrap;word-break:break-all;max-width:100%;"}),Ve=(0,j.Z)("span",{target:"ejjrh2l1",label:"FilenameOrLocation"})("padding-left:",(0,U.Z)(1),";font-size:",(function(e){return e.theme.fontSizeSmall}),";"),Xe=(0,j.Z)("div",{target:"ejjrh2l2",label:"Details"})("display:grid;grid-auto-flow:column;grid-auto-columns:max-content;grid-gap:",(0,U.Z)(1),";color:",(function(e){return e.theme.gray400}),";font-size:",(function(e){return e.theme.fontSizeSmall}),";"),Qe=(0,j.Z)("div",{target:"ejjrh2l3",label:"TimeSinceWrapper"})("display:grid;grid-template-columns:max-content 1fr;align-items:center;grid-gap:",(0,U.Z)(.5),";"),et=(0,j.Z)("div",{target:"ejjrh2l4",label:"DateTimeWrapper"})("padding-top:",(0,U.Z)(1),";"),tt=(0,j.Z)(Ue.Z,{target:"ejjrh2l5",label:"StyledProcessingList"})("display:grid;grid-auto-flow:column;grid-auto-columns:max-content;grid-gap:",(0,U.Z)(1),";");function nt(e){var t=e.candidate,n=e.builtinSymbolSources,a=e.organization,r=e.projectId,i=e.baseUrl,o=e.haveCandidatesAtLeastOneAction,s=e.hasReprocessWarning,l=e.onDelete,u=e.eventDateReceived,d=t.source===ce;return(0,_.tZ)(C.Fragment,null,(0,_.tZ)(rt,null,(0,_.tZ)(ge,{candidate:t,hasReprocessWarning:s})),(0,_.tZ)(it,null,(0,_.tZ)($e,{candidate:t,builtinSymbolSources:n,isInternalSource:d,eventDateReceived:u,hasReprocessWarning:s})),o&&(0,_.tZ)(ot,null,(0,_.tZ)(_e,{onDelete:l,baseUrl:i,projectId:r,organization:a,candidate:t,isInternalSource:d})))}nt.displayName="Candidate";const at=nt;var rt=(0,j.Z)("div",{target:"e4pyuur0",label:"Column"})({name:"70qvj9",styles:"display:flex;align-items:center;"}),it=(0,j.Z)(rt,{target:"e4pyuur1",label:"InformationColumn"})({name:"103surx",styles:"flex-direction:column;align-items:flex-start;"}),ot=(0,j.Z)(rt,{target:"e4pyuur2",label:"ActionsColumn"})({name:"1a9getn",styles:"justify-content:flex-end;"});function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ut=(0,L.t)("Status"),dt=(0,L.t)("Source"),ct=function(e){S()(r,e);var t,n,a=(t=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=O()(t);if(n){var r=O()(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return k()(this,e)});function r(){var e;b()(this,r);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=a.call.apply(a,[this].concat(n))).state={searchTerm:"",filterOptions:{},filteredCandidatesBySearch:[],filteredCandidatesByFilter:[]},e.doSearch=H()(e.filterCandidatesBySearch,300),e.handleChangeSearchTerm=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e.setState({searchTerm:t})},e.handleChangeFilter=function(t){var n=e.state.filteredCandidatesBySearch,a=e.getFilteredCandidatedByFilter(n,t);e.setState({filterOptions:t,filteredCandidatesByFilter:a})},e.handleResetFilter=function(){var t=e.state.filterOptions;e.setState({filterOptions:Object.keys(t).reduce((function(e,n){return e[n]=t[n].map((function(e){return lt(lt({},e),{},{isChecked:!1})})),e}),{})},e.filterCandidatesBySearch)},e.handleResetSearchBar=function(){var t=e.props.candidates;e.setState({searchTerm:"",filteredCandidatesByFilter:t,filteredCandidatesBySearch:t})},e}return y()(r,[{key:"componentDidMount",value:function(){this.getFilters()}},{key:"componentDidUpdate",value:function(e,t){X()(e.candidates,this.props.candidates)?t.searchTerm!==this.state.searchTerm&&this.doSearch():this.getFilters()}},{key:"filterCandidatesBySearch",value:function(){var e=this.state,t=e.searchTerm,n=e.filterOptions,a=this.props.candidates;if(t.trim()){var r=JSON.stringify(t).replace(/((^")|("$))/g,"").toLocaleLowerCase(),i=a.filter((function(e){return Object.keys(ee()(e,["source_name","location"])).some((function(t){var n=e[t];return("location"!==t||"number"!=typeof Number(n))&&!(!(0,ie.ri)(n)||!String(n).trim())&&JSON.stringify(n).replace(/((^")|("$))/g,"").toLocaleLowerCase().trim().includes(r)}))})),o=this.getFilteredCandidatedByFilter(i,n);this.setState({filteredCandidatesBySearch:i,filteredCandidatesByFilter:o})}else{var s=this.getFilteredCandidatedByFilter(a,n);this.setState({filteredCandidatesBySearch:a,filteredCandidatesByFilter:s})}}},{key:"getFilters",value:function(){var e=o()(this.props.candidates),t=this.getFilterOptions(e);this.setState({filterOptions:t,filteredCandidatesBySearch:e,filteredCandidatesByFilter:this.getFilteredCandidatedByFilter(e,t)})}},{key:"getFilterOptions",value:function(e){var t=this.props.imageStatus,n={},a=o()(new Set(e.map((function(e){return e.download.status}))));a.length>1&&(n[ut]=a.map((function(e){return{id:e,symbol:(0,_.tZ)(de,{status:e}),isChecked:e!==M.il.NOT_FOUND||t===M.zu.MISSING}})));var r=o()(new Set(e.map((function(e){var t;return null!==(t=e.source_name)&&void 0!==t?t:(0,L.t)("Unknown")}))));return r.length>1&&(n[dt]=r.map((function(e){return{id:e,symbol:e,isChecked:!1}}))),n}},{key:"getFilteredCandidatedByFilter",value:function(e,t){var n,a,r=new Set(null===(n=t[ut])||void 0===n?void 0:n.filter((function(e){return e.isChecked})).map((function(e){return e.id}))),i=new Set(null===(a=t[dt])||void 0===a?void 0:a.filter((function(e){return e.isChecked})).map((function(e){return e.id})));if(0===r.size&&0===i.size)return e;if(r.size>0){var o=e.filter((function(e){return r.has(e.download.status)}));return 0===i.size?o:o.filter((function(e){var t;return i.has(null!==(t=null==e?void 0:e.source_name)&&void 0!==t?t:"")}))}return e.filter((function(e){var t;return i.has(null!==(t=null==e?void 0:e.source_name)&&void 0!==t?t:"")}))}},{key:"getEmptyMessage",value:function(){var e=this.state,t=e.searchTerm,n=e.filteredCandidatesByFilter,a=e.filterOptions;if(n.length)return{};var r=Object.values(a).flatMap((function(e){return e})).find((function(e){return e.isChecked}));return t||r?{emptyMessage:(0,L.t)("Sorry, no debug files match your search query"),emptyAction:r?(0,_.tZ)(z.ZP,{onClick:this.handleResetFilter,priority:"primary"},(0,L.t)("Reset filter")):(0,_.tZ)(z.ZP,{onClick:this.handleResetSearchBar,priority:"primary"},(0,L.t)("Clear search bar"))}:{emptyMessage:(0,L.t)("There are no debug files to be displayed")}}},{key:"render",value:function(){var e=this,t=this.props,n=t.organization,a=t.projectId,r=t.baseUrl,i=t.builtinSymbolSources,o=t.onDelete,s=t.isLoading,l=t.candidates,u=t.eventDateReceived,d=t.hasReprocessWarning,c=this.state,p=c.searchTerm,m=c.filterOptions,f=c.filteredCandidatesByFilter,g=l.some((function(e){return e.download.status===M.il.OK&&e.source===ce||e.download.status===M.il.DELETED}))||d;return(0,_.tZ)(mt,null,(0,_.tZ)(ft,null,(0,_.tZ)(gt,null,(0,L.t)("Debug File Candidates"),(0,_.tZ)(ae.Z,{title:(0,L._N)("These are the Debug Information Files (DIFs) corresponding to this image which have been looked up on [docLink:symbol servers] during the processing of the stacktrace.",{docLink:(0,_.tZ)(te.Z,{href:"https://docs.sentry.io/platforms/native/data-management/debug-files/symbol-servers/"})}),size:"xs",position:"top",isHoverable:!0})),!!l.length&&(0,_.tZ)(bt,null,(0,_.tZ)(ht,{options:m,onFilter:this.handleChangeFilter}),(0,_.tZ)(yt,{query:p,onChange:function(t){return e.handleChangeSearchTerm(t)},placeholder:(0,L.t)("Search debug file candidates")}))),(0,_.tZ)(Zt,Y()({headers:g?[(0,L.t)("Status"),(0,L.t)("Information"),""]:[(0,L.t)("Status"),(0,L.t)("Information")],isEmpty:!f.length,isLoading:s},this.getEmptyMessage()),f.map((function(e,t){return(0,_.tZ)(at,{key:t,candidate:e,builtinSymbolSources:i,organization:n,baseUrl:r,projectId:a,eventDateReceived:u,hasReprocessWarning:d,haveCandidatesAtLeastOneAction:g,onDelete:o})}))))}}]),r}(C.Component);ct.displayName="Candidates";const pt=ct;var mt=(0,j.Z)("div",{target:"e1y13pek0",label:"Wrapper"})({name:"lgj0h8",styles:"display:grid;"}),ft=(0,j.Z)("div",{target:"e1y13pek1",label:"Header"})("display:flex;flex-direction:column;@media (min-width:",(function(e){return e.theme.breakpoints[0]}),"){flex-wrap:wrap;flex-direction:row;}"),gt=(0,j.Z)("div",{target:"e1y13pek2",label:"Title"})("padding-right:",(0,U.Z)(4),";display:grid;grid-gap:",(0,U.Z)(.5),";grid-template-columns:repeat(2,max-content);align-items:center;font-weight:600;color:",(function(e){return e.theme.gray400}),";margin-bottom:",(0,U.Z)(2),";"),bt=(0,j.Z)("div",{target:"e1y13pek3",label:"Search"})("flex-grow:1;display:flex;flex-direction:column;justify-content:flex-start;.drop-down-filter-menu{border-top-right-radius:",(function(e){return e.theme.borderRadius}),";}@media (min-width:",(function(e){return e.theme.breakpoints[0]}),"){flex-direction:row;justify-content:flex-end;}"),ht=(0,j.Z)(oe.Z,{target:"e1y13pek4",label:"StyledFilter"})("margin-bottom:",(0,U.Z)(2),";"),yt=(0,j.Z)(re.Z,{target:"e1y13pek5",label:"StyledSearchBar"})("width:100%;margin-bottom:",(0,U.Z)(2),";position:relative;.search-input{height:32px;}.search-clear-form,.search-input-icon{height:32px;display:flex;align-items:center;}@media (min-width:",(function(e){return e.theme.breakpoints[0]}),"){max-width:600px;.search-input,.search-input:focus{border-top-left-radius:0;border-bottom-left-radius:0;}}"),Zt=(0,j.Z)(ne.Z,{target:"e1y13pek6",label:"StyledPanelTable"})("grid-template-columns:",(function(e){return 3===e.headers.length?"max-content 1fr max-content":"max-content 1fr"}),";height:100%;@media (min-width:",(function(e){return e.theme.breakpoints[2]}),"){overflow:visible;}"),vt=n("./app/components/notAvailable.tsx"),wt=n("./app/components/events/interfaces/debugMeta-v2/debugImage/processings.tsx");function St(e){var t=e.image,n=null!=t?t:{},a=n.debug_id,r=n.debug_file,i=n.code_id,o=n.code_file,s=n.arch,l=n.unwind_status,u=n.debug_status,d=t?(0,G.a$)(t):void 0;return(0,_.tZ)(kt,null,(0,_.tZ)(Dt,{coloredBg:!0},(0,L.t)("Address Range")),(0,_.tZ)(Ot,{coloredBg:!0},null!=d?d:(0,_.tZ)(vt.Z,null)),(0,_.tZ)(Dt,null,(0,L.t)("Debug ID")),(0,_.tZ)(Ot,null,null!=a?a:(0,_.tZ)(vt.Z,null)),(0,_.tZ)(Dt,{coloredBg:!0},(0,L.t)("Debug File")),(0,_.tZ)(Ot,{coloredBg:!0},null!=r?r:(0,_.tZ)(vt.Z,null)),(0,_.tZ)(Dt,null,(0,L.t)("Code ID")),(0,_.tZ)(Ot,null,null!=i?i:(0,_.tZ)(vt.Z,null)),(0,_.tZ)(Dt,{coloredBg:!0},(0,L.t)("Code File")),(0,_.tZ)(Ot,{coloredBg:!0},null!=o?o:(0,_.tZ)(vt.Z,null)),(0,_.tZ)(Dt,null,(0,L.t)("Architecture")),(0,_.tZ)(Ot,null,null!=s?s:(0,_.tZ)(vt.Z,null)),(0,_.tZ)(Dt,{coloredBg:!0},(0,L.t)("Processing")),(0,_.tZ)(Ot,{coloredBg:!0},l||u?(0,_.tZ)(wt.Z,{unwind_status:l,debug_status:u}):(0,_.tZ)(vt.Z,null)))}St.displayName="GeneralInfo";const xt=St;var kt=(0,j.Z)("div",{target:"eb28prp0",label:"Wrapper"})({name:"1drfnak",styles:"display:grid;grid-template-columns:max-content 1fr;"}),Dt=(0,j.Z)("div",{target:"eb28prp1",label:"Label"})("color:",(function(e){return e.theme.textColor}),";padding:",(0,U.Z)(1)," ",(0,U.Z)(1.5)," ",(0,U.Z)(1)," ",(0,U.Z)(1),";",(function(e){return e.coloredBg&&"background-color: ".concat(e.theme.backgroundSecondary,";")})),Ot=(0,j.Z)(Dt,{target:"eb28prp2",label:"Value"})("white-space:pre-wrap;word-break:break-all;color:",(function(e){return e.theme.subText}),";padding:",(0,U.Z)(1),";font-family:",(function(e){return e.theme.text.familyMono}),";",(function(e){return e.coloredBg&&"background-color: ".concat(e.theme.backgroundSecondary,";")}));function jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jt(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const _t=function(e){S()(i,e);var t,n,a=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=O()(t);if(n){var r=O()(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return k()(this,e)});function i(){var e;b()(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=a.call.apply(a,[this].concat(n))).handleDelete=function(){var t=f()(p().mark((function t(n){var a,r,i;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props,r=a.organization,i=a.projectId,e.setState({loading:!0}),t.prev=2,t.next=5,e.api.requestPromise("/projects/".concat(r.slug,"/").concat(i,"/files/dsyms/?id=").concat(n),{method:"DELETE"});case 5:e.fetchData(),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(2),(0,B.Iw)((0,L.t)("An error occurred while deleting the debug file.")),e.setState({loading:!1});case 12:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e){return t.apply(this,arguments)}}(),e}return y()(i,[{key:"getDefaultState",value:function(){return Ct(Ct({},v()(O()(i.prototype),"getDefaultState",this).call(this)),{},{debugFiles:[],builtinSymbolSources:[]})}},{key:"componentDidUpdate",value:function(e,t){!e.image&&this.props.image&&this.remountComponent(),v()(O()(i.prototype),"componentDidUpdate",this).call(this,e,t)}},{key:"getUplodedDebugFiles",value:function(e){return e.find((function(e){return e.source===ce}))}},{key:"getEndpoints",value:function(){var e=this.props,t=e.organization,n=e.projectId,a=e.image;if(!a)return[];var r,i=a.debug_id,o=a.candidates,s=void 0===o?[]:o,l=(this.state||{}).builtinSymbolSources,u=[];return this.getUplodedDebugFiles(s)&&u.push(["debugFiles","/projects/".concat(t.slug,"/").concat(n,"/files/dsyms/?debug_id=").concat(i),{query:{file_formats:null!==(r=t.features)&&void 0!==r&&r.includes("android-mappings")?["breakpad","macho","elf","pe","pdb","sourcebundle"]:void 0}}]),null!=l&&l.length||!t.features.includes("symbol-sources")||u.push(["builtinSymbolSources","/builtin-symbol-sources/",{}]),u}},{key:"sortCandidates",value:function(e,t){var n=F()(e,(function(e){return e.download.status===M.il.NO_PERMISSION})),a=l()(n,2),r=a[0],i=a[1],s=F()(i,(function(e){return e.download.status===M.il.MALFORMED})),u=l()(s,2),d=u[0],c=u[1],p=F()(c,(function(e){return e.download.status===M.il.ERROR})),m=l()(p,2),f=m[0],g=m[1],b=F()(g,(function(e){return e.download.status===M.il.OK})),h=l()(b,2),y=h[0],Z=h[1],v=F()(Z,(function(e){return e.download.status===M.il.DELETED})),w=l()(v,2),S=w[0],x=w[1];return[].concat(o()(R()(r,["source_name","location"])),o()(R()(d,["source_name","location"])),o()(R()(f,["source_name","location"])),o()(R()(y,["source_name","location"])),o()(R()(S,["source_name","location"])),o()(R()(t,["source_name","location"])),o()(R()(x,["source_name","location"])))}},{key:"getCandidates",value:function(){var e=this.state,t=e.debugFiles,n=e.loading,a=this.props.image,i=(null!=a?a:{}).candidates,s=void 0===i?[]:i;if(!t||n)return s;var u=s.map((function(e){var t=e.location;return Ct(Ct({},r()(e,["location"])),{},{location:null!=t&&t.includes(pe)?t.split(pe)[1]:t})})),d=new Set(u.map((function(e){return e.location})).filter((function(e){return!!e}))),c=F()(t,(function(e){return!d.has(e.id)})),p=l()(c,2),m=p[0],f=p[1],g=m.map((function(e){var t,n=e.data,a=e.symbolType,r=e.objectName,i=e.id,o=e.size,s=e.dateCreated,l=e.cpuName,u=null!==(t=null==n?void 0:n.features)&&void 0!==t?t:[];return{download:{status:M.il.UNAPPLIED,features:{has_sources:u.includes(A.W.SOURCES),has_debug_info:u.includes(A.W.DEBUG),has_unwind_info:u.includes(A.W.UNWIND),has_symbols:u.includes(A.W.SYMTAB)}},cpuName:l,location:i,filename:r,size:o,dateCreated:s,symbolType:a,fileType:(0,K.J)(e),source:ce,source_name:(0,L.t)("Sentry")}})),b=F()(u,(function(e){return e.download.status===M.il.OK&&e.source===ce})),h=l()(b,2),y=h[0],Z=h[1],v=y.map((function(e){var t=f.find((function(t){return t.id===e.location}));if(!t)return Ct(Ct({},e),{},{download:Ct(Ct({},e.download),{},{status:M.il.DELETED})});var n=t.symbolType,a=t.objectName,r=t.id,i=t.size,o=t.dateCreated,s=t.cpuName;return Ct(Ct({},e),{},{cpuName:s,location:r,filename:a,size:i,dateCreated:o,symbolType:n,fileType:(0,K.J)(t)})}));return this.sortCandidates([].concat(o()(v),o()(Z)),g)}},{key:"getDebugFilesSettingsLink",value:function(){var e=this.props,t=e.organization,n=e.projectId,a=e.image,r=t.slug,i=null==a?void 0:a.debug_id;if(r&&n&&i)return"/settings/".concat(r,"/projects/").concat(n,"/debug-symbols/?query=").concat(i)}},{key:"renderBody",value:function(){var e=this.props,t=e.Header,n=e.Body,a=e.Footer,r=e.image,i=e.organization,o=e.projectId,s=e.onReprocessEvent,l=e.event,u=this.state,d=u.loading,c=u.builtinSymbolSources,p=null!=r?r:{},m=p.code_file,f=p.status,g=this.getDebugFilesSettingsLink(),b=this.getCandidates(),h=this.api.baseUrl,y=(0,G.UO)(m),Z=b.some((function(e){return e.download.status===M.il.UNAPPLIED}))&&(0,W.B)(i.features,l)&&!!s;return(0,_.tZ)(C.Fragment,null,(0,_.tZ)(t,{closeButton:!0},(0,_.tZ)(Ft,null,(0,L.t)("Image"),(0,_.tZ)(Tt,null,null!=y?y:(0,L.t)("Unknown")))),(0,_.tZ)(n,null,(0,_.tZ)(Et,null,Z&&(0,_.tZ)(P.Z,{priority:"warning",size:"small",onClick:s,withoutMarginBottom:!0},(0,L.t)("You’ve uploaded new debug files. Reprocess events in this issue to view a better stack trace")),(0,_.tZ)(xt,{image:r}),(0,_.tZ)(pt,{imageStatus:f,candidates:b,organization:i,projectId:o,baseUrl:h,isLoading:d,eventDateReceived:l.dateReceived,builtinSymbolSources:c,onDelete:this.handleDelete,hasReprocessWarning:Z}))),(0,_.tZ)(a,null,(0,_.tZ)(Rt,{gap:1},(0,_.tZ)(z.ZP,{href:"https://docs.sentry.io/platforms/native/data-management/debug-files/",external:!0},(0,L.t)("Read the docs")),g&&(0,_.tZ)(z.ZP,{title:(0,L.t)("Search for this debug file in all images for the %s project",o),to:g},(0,L.t)("Open in Settings")))))}}]),i}(I.Z);var Et=(0,j.Z)("div",{target:"e8zvoec0",label:"Content"})("display:grid;grid-gap:",(0,U.Z)(3),";font-size:",(function(e){return e.theme.fontSizeMedium}),";"),Ft=(0,j.Z)("div",{target:"e8zvoec1",label:"Title"})("display:grid;grid-template-columns:max-content 1fr;grid-gap:",(0,U.Z)(1),";align-items:center;font-size:",(function(e){return e.theme.fontSizeExtraLarge}),";max-width:calc(100% - 40px);word-break:break-all;"),Tt=(0,j.Z)("span",{target:"e8zvoec2",label:"FileName"})("font-family:",(function(e){return e.theme.text.familyMono}),";"),Rt=(0,j.Z)(N.Z,{target:"e8zvoec3",label:"StyledButtonBar"})({name:"epvm6",styles:"white-space:nowrap;"}),Bt=(0,_.iv)(".modal-content{overflow:initial;}@media (min-width:",q.ZP.breakpoints[0],"){.modal-dialog{width:90%;margin-left:-45%;}}@media (min-width:",q.ZP.breakpoints[3],"){.modal-dialog{width:70%;margin-left:-35%;}}@media (min-width:",q.ZP.breakpoints[4],"){.modal-dialog{width:50%;margin-left:-25%;}};label:modalCss;")},"./app/types/debugFiles.tsx":(e,t,n)=>{"use strict";var a,r;n.d(t,{B:()=>a,W:()=>r}),function(e){e.EXE="exe",e.DBG="dbg",e.LIB="lib"}(a||(a={})),function(e){e.SYMTAB="symtab",e.DEBUG="debug",e.UNWIND="unwind",e.SOURCES="sources"}(r||(r={}))},"./app/views/settings/projectDebugFiles/utils.tsx":(e,t,n)=>{"use strict";n.d(t,{J:()=>i,V:()=>o});var a=n("./app/locale.tsx"),r=n("./app/types/debugFiles.tsx");function i(e){var t;switch(null===(t=e.data)||void 0===t?void 0:t.type){case r.B.EXE:return(0,a.t)("executable");case r.B.DBG:return(0,a.t)("debug companion");case r.B.LIB:return(0,a.t)("dynamic library");default:return null}}function o(e){switch(e){case r.W.SYMTAB:return(0,a.t)("Symbol tables are used as a fallback when full debug information is not available");case r.W.DEBUG:return(0,a.t)("Debug information provides function names and resolves inlined frames during symbolication");case r.W.UNWIND:return(0,a.t)("Stack unwinding information improves the quality of stack traces extracted from minidumps");case r.W.SOURCES:return(0,a.t)("Source code information allows Sentry to display source code context for stack frames");default:return null}}}}]);
//# sourceMappingURL=DebugImageDetails.js.map