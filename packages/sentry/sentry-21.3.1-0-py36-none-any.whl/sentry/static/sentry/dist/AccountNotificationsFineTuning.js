(self.webpackChunk=self.webpackChunk||[]).push([["AccountNotificationsFineTuning"],{"./app/data/forms/accountNotificationSettings.tsx":(e,t,n)=>{"use strict";n.r(t),n.d(t,{route:()=>o,fields:()=>s,default:()=>r});var i=n("./app/locale.tsx"),o="/settings/account/notifications/",s={subscribeByDefault:{name:"subscribeByDefault",type:"boolean",label:(0,i.t)("Send Me Alerts"),help:(0,i.t)("Enable this to receive notifications for Alerts sent to your teams. You will always receive alerts configured to be sent directly to you.")},workflowNotifications:{name:"workflowNotifications",type:"radio",label:(0,i.t)("Send Me Workflow Notifications"),choices:[[0,(0,i.t)("Always")],[1,(0,i.t)("Only On Issues I Subscribe To")],[2,(0,i.t)("Never")]],help:(0,i.t)("E.g. changes in issue assignment, resolution status, and comments.")},weeklyReports:{name:"weeklyReports",type:"boolean",label:(0,i.t)("Send Me Weekly Reports"),help:(0,i.t)("Reports contain a summary of what's happened within your organization."),disabled:!0},deployNotifications:{name:"deployNotifications",type:"radio",label:(0,i.t)("Send Me Deploy Notifications"),choices:[[2,(0,i.t)("Always")],[3,(0,i.t)("Only On Deploys With My Commits")],[4,(0,i.t)("Never")]],help:(0,i.t)("Deploy emails include release, environment and commit overviews.")},personalActivityNotifications:{name:"personalActivityNotifications",type:"boolean",label:(0,i.t)("Notify Me About My Own Activity"),help:(0,i.t)("Enable this to receive notifications about your own actions on Sentry.")},selfAssignOnResolve:{name:"selfAssignOnResolve",type:"boolean",label:(0,i.t)("Claim Unassigned Issues I've Resolved"),help:(0,i.t)("You'll receive notifications about any changes that happen afterwards.")}};const r=[{title:(0,i.t)("Alerts"),fields:[s.subscribeByDefault]},{title:(0,i.t)("Workflow Notifications"),fields:[s.workflowNotifications]},{title:(0,i.t)("Email Routing"),fields:[]},{title:(0,i.t)("Weekly Reports"),fields:[]},{title:(0,i.t)("Deploy Notifications"),fields:[s.deployNotifications]},{title:(0,i.t)("My Activity"),fields:[s.personalActivityNotifications,s.selfAssignOnResolve]}]},"./app/views/asyncView.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n("../../../../node_modules/@babel/runtime/helpers/classCallCheck.js"),o=n.n(i),s=n("../../../../node_modules/@babel/runtime/helpers/createClass.js"),r=n.n(s),a=n("../../../../node_modules/@babel/runtime/helpers/inherits.js"),l=n.n(a),c=n("../../../../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),u=n.n(c),p=n("../../../../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),d=n.n(p),f=(n("../../../../node_modules/react/index.js"),n("../../../../node_modules/react-document-title/index.js")),m=n.n(f),y=n("./app/components/asyncComponent.tsx"),b=n("../../../../node_modules/@emotion/core/dist/core.browser.esm.js");var h=function(e){l()(s,e);var t,n,i=(t=s,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=d()(t);if(n){var o=d()(this).constructor;e=Reflect.construct(i,arguments,o)}else e=i.apply(this,arguments);return u()(this,e)});function s(){return o()(this,s),i.apply(this,arguments)}return r()(s,[{key:"getTitle",value:function(){return""}},{key:"render",value:function(){var e=this.getTitle();return(0,b.tZ)(m(),{title:"".concat(e?"".concat(e," - "):"","Sentry")},this.renderComponent())}}]),s}(y.Z);h.displayName="AsyncView"},"./app/views/settings/account/accountNotificationFineTuning.tsx":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>q});var i=n("../../../../node_modules/@babel/runtime/helpers/extends.js"),o=n.n(i),s=n("../../../../node_modules/@babel/runtime/helpers/slicedToArray.js"),r=n.n(s),a=n("../../../../node_modules/@babel/runtime/helpers/classCallCheck.js"),l=n.n(a),c=n("../../../../node_modules/@babel/runtime/helpers/createClass.js"),u=n.n(c),p=n("../../../../node_modules/@babel/runtime/helpers/inherits.js"),d=n.n(p),f=n("../../../../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),m=n.n(f),y=n("../../../../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),b=n.n(y),h=n("../../../../node_modules/@babel/runtime/helpers/defineProperty.js"),v=n.n(h),g=n("../../../../node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),w=n.n(g),Z=n("../../../../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),j=n("../../../../node_modules/react/index.js"),N=n("./app/components/pagination.tsx"),O=n("./app/components/panels/index.tsx"),x=n("./app/data/forms/accountNotificationSettings.tsx"),k=n("./app/locale.tsx"),P=n("./app/utils/withOrganizations.tsx"),R=n("./app/views/asyncView.tsx"),_={alerts:{title:"Project Alerts",description:(0,k.t)("Control alerts that you receive per project."),type:"select",choices:[["-1",(0,k.t)("Default")],["1",(0,k.t)("On")],["0",(0,k.t)("Off")]],defaultValue:"-1",defaultFieldName:"subscribeByDefault"},workflow:{title:"Workflow Notifications",description:(0,k.t)("Control workflow notifications, e.g. changes in issue assignment, resolution status, and comments."),type:"select",choices:[["-1",(0,k.t)("Default")],["0",(0,k.t)("Always")],["1",(0,k.t)("Only on issues I subscribe to")],["2",(0,k.t)("Never")]],defaultValue:"-1",defaultFieldName:"workflowNotifications"},deploy:{title:(0,k.t)("Deploy Notifications"),description:(0,k.t)("Control deploy notifications that include release, environment, and commit overviews."),type:"select",choices:[["-1",(0,k.t)("Default")],["2",(0,k.t)("Always")],["3",(0,k.t)("Only on deploys with my commits")],["4",(0,k.t)("Never")]],defaultValue:"-1",defaultFieldName:"deployNotifications"},reports:{title:(0,k.t)("Weekly Reports"),description:(0,k.t)("Reports contain a summary of what's happened within the organization."),type:"select",defaultValue:"1",choices:[["1",(0,k.t)("On")],["0",(0,k.t)("Off")]],defaultFieldName:"weeklyReports"},email:{title:(0,k.t)("Email Routing"),description:(0,k.t)("On a per project basis, route emails to an alternative email address."),type:"select"}},A=n("./app/views/settings/components/emptyMessage.tsx"),C=n("./app/views/settings/components/forms/form.tsx"),D=n("./app/views/settings/components/forms/jsonForm.tsx"),T=n("./app/views/settings/components/forms/selectField.tsx"),B=n("./app/views/settings/components/settingsPageHeader.tsx"),S=n("./app/views/settings/components/text/textBlock.tsx"),z=n("../../../../node_modules/@emotion/core/dist/core.browser.esm.js");function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var W=(0,Z.Z)(O.N,{target:"ev1ws1e0",label:"PanelBodyLineItem"})("font-size:1.4rem;&:not(:last-child){border-bottom:1px solid ",(function(e){return e.theme.innerBorder}),";}"),E=function(e){return["alerts","workflow","email"].indexOf(e)>-1},M=function(e){var t=e.projects,n=e.field,i=function(e){return e.reduce((function(e,t){var n=t.organization.slug;return e.hasOwnProperty(n)?e[n].projects.push(t):e[n]={organization:t.organization,projects:[t]},e}),{})}(t),o=(n.title,n.description,w()(n,["title","description"])),s=Object.values(i).map((function(e){return{name:e.organization.name,projects:e.projects.map((function(e){return F(F({},o),{},{name:e.id,label:e.slug})}))}}));return(0,z.tZ)(j.Fragment,null,s.map((function(e){var t=e.name,n=e.projects;return(0,z.tZ)("div",{key:t},(0,z.tZ)(O.V9,null,t),n.map((function(e){return(0,z.tZ)(W,{key:e.name},(0,z.tZ)(T.Z,{defaultValue:e.defaultValue,name:e.name,choices:e.choices,label:e.label}))})))})))};M.displayName="AccountNotificationsByProject";var I=function(e){var t=e.organizations,n=e.field,i=(n.title,n.description,w()(n,["title","description"])),o=t.map((function(e){return F(F({},i),{},{name:e.id,label:e.slug})}));return(0,z.tZ)(j.Fragment,null,o.map((function(e){return(0,z.tZ)(W,{key:e.name},(0,z.tZ)(T.Z,{defaultValue:e.defaultValue,name:e.name,choices:e.choices,label:e.label}))})))};I.displayName="AccountNotificationsByOrganization";var H=(0,P.Z)(I),q=function(e){d()(s,e);var t,n,i=(t=s,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=b()(t);if(n){var o=b()(this).constructor;e=Reflect.construct(i,arguments,o)}else e=i.apply(this,arguments);return m()(this,e)});function s(){return l()(this,s),i.apply(this,arguments)}return u()(s,[{key:"getEndpoints",value:function(){var e=this.props.params.fineTuneType,t=[["notifications","/users/me/notifications/"],["fineTuneData","/users/me/notifications/".concat(e,"/")]];return E(e)&&t.push(["projects","/projects/"]),t.push(["emails","/users/me/emails/"]),"email"===e&&t.push(["emails","/users/me/emails/"]),t}},{key:"emailChoices",get:function(){var e,t,n;return null!==(e=null===(t=this.state.emails)||void 0===t||null===(n=t.filter((function(e){return e.isVerified})))||void 0===n?void 0:n.sort((function(e,t){return e.isPrimary?-1:t.isPrimary?1:e.email<t.email?-1:1})))&&void 0!==e?e:[]}},{key:"renderBody",value:function(){var e=this.props.params.fineTuneType,t=this.state,n=t.notifications,i=t.projects,s=t.fineTuneData,a=t.projectsPageLinks,l=E(e),c=_[e],u=c.title,p=c.description,d=l?this.getEndpoints()[2]:[],f=r()(d,2),m=f[0],y=f[1],b=!(null==i||!i.length);return"email"===e&&(c.choices=this.emailChoices.map((function(e){var t=e.email;return[t,t]}))),n&&s?(0,z.tZ)("div",null,(0,z.tZ)(B.Z,{title:u}),p&&(0,z.tZ)(S.Z,null,p),c&&c.defaultFieldName&&"weeklyReports"!==c.defaultFieldName&&(0,z.tZ)(C.Z,{saveOnBlur:!0,apiMethod:"PUT",apiEndpoint:"/users/me/notifications/",initialData:n},(0,z.tZ)(D.Z,{title:"Default ".concat(u),fields:[x.fields[c.defaultFieldName]]})),(0,z.tZ)(O.s_,null,(0,z.tZ)(O.N,null,(0,z.tZ)(O.V9,{hasButtons:l},(0,z.tZ)(L,null,l?(0,k.t)("Projects"):(0,k.t)("Organizations")),(0,z.tZ)("div",null,l&&this.renderSearchInput({placeholder:(0,k.t)("Search Projects"),url:y,stateKey:m}))),(0,z.tZ)(C.Z,{saveOnBlur:!0,apiMethod:"PUT",apiEndpoint:"/users/me/notifications/".concat(e,"/"),initialData:s},l&&b&&(0,z.tZ)(M,{projects:i,field:c}),l&&!b&&(0,z.tZ)(A.Z,null,(0,k.t)("No projects found")),!l&&(0,z.tZ)(H,{field:c})))),i&&(0,z.tZ)(N.Z,o()({pageLinks:a},this.props))):null}}]),s}(R.Z),L=(0,Z.Z)("div",{target:"ev1ws1e1",label:"Heading"})({name:"1rr4qq7",styles:"flex:1;"})},"./app/views/settings/components/settingsPageHeader.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>A});var i=n("../../../../node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),o=n.n(i),s=n("../../../../node_modules/@babel/runtime/helpers/classCallCheck.js"),r=n.n(s),a=n("../../../../node_modules/@babel/runtime/helpers/createClass.js"),l=n.n(a),c=n("../../../../node_modules/@babel/runtime/helpers/inherits.js"),u=n.n(c),p=n("../../../../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),d=n.n(p),f=n("../../../../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),m=n.n(f),y=n("../../../../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),b=n("../../../../node_modules/react/index.js"),h=n("./app/styles/organization.tsx"),v=n("./app/styles/space.tsx"),g=n("../../../../node_modules/@emotion/core/dist/core.browser.esm.js");var w=function(e){u()(s,e);var t,n,i=(t=s,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=m()(t);if(n){var o=m()(this).constructor;e=Reflect.construct(i,arguments,o)}else e=i.apply(this,arguments);return d()(this,e)});function s(){return r()(this,s),i.apply(this,arguments)}return l()(s,[{key:"render",value:function(){var e=this.props,t=e.icon,n=e.title,i=e.subtitle,s=e.action,r=e.tabs,a=e.noTitleStyles,l=e.body,c=o()(e,["icon","title","subtitle","action","tabs","noTitleStyles","body"]),u=!i;return(0,g.tZ)("div",c,(0,g.tZ)(Z,{isNarrow:u},(0,g.tZ)(j,null,t&&(0,g.tZ)(x,null,t),n&&(0,g.tZ)(N,{tabs:r,styled:a},(0,g.tZ)(h.Gh,null,n),i&&(0,g.tZ)(O,null,i))),s&&(0,g.tZ)(k,{isNarrow:u},s)),l&&(0,g.tZ)(R,null,l),r&&(0,g.tZ)(_,null,r))}}]),s}(b.Component);w.displayName="UnstyledSettingsPageHeader",w.defaultProps={noTitleStyles:!1};var Z=(0,y.Z)("div",{target:"e1uay4fd0",label:"TitleAndActions"})("display:flex;align-items:",(function(e){return e.isNarrow?"center":"flex-start"}),";"),j=(0,y.Z)("div",{target:"e1uay4fd1",label:"TitleWrapper"})({name:"1rr4qq7",styles:"flex:1;"}),N=(0,y.Z)("div",{target:"e1uay4fd2",label:"Title"})((function(e){return!e.styled&&"font-size: 20px; font-weight: 600;"}),";margin:",(0,v.Z)(4)," ",(0,v.Z)(2)," ",(0,v.Z)(3)," 0;"),O=(0,y.Z)("div",{target:"e1uay4fd3",label:"Subtitle"})("color:",(function(e){return e.theme.gray400}),";font-weight:400;font-size:",(function(e){return e.theme.fontSizeLarge}),";padding:",(0,v.Z)(1.5)," 0 0;"),x=(0,y.Z)("div",{target:"e1uay4fd4",label:"Icon"})("margin-right:",(0,v.Z)(1),";"),k=(0,y.Z)("div",{target:"e1uay4fd5",label:"Action"})("margin-top:",(function(e){return e.isNarrow?"0":(0,v.Z)(4)}),";"),P=(0,y.Z)(w,{target:"e1uay4fd6",label:"SettingsPageHeader"})("font-size:14px;margin-top:-",(0,v.Z)(4),";"),R=(0,y.Z)("div",{target:"e1uay4fd7",label:"BodyWrapper"})("flex:1;margin:0 0 ",(0,v.Z)(3),";"),_=(0,y.Z)("div",{target:"e1uay4fd8",label:"TabsWrapper"})({name:"8k0ai7",styles:"flex:1;margin:0;"});const A=P}}]);
//# sourceMappingURL=AccountNotificationsFineTuning.js.map