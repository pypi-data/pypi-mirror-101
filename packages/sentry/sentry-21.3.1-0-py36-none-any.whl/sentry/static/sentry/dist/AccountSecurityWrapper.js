(self.webpackChunk=self.webpackChunk||[]).push([["AccountSecurityWrapper"],{"./app/views/settings/account/accountSecurity/accountSecurityWrapper.tsx":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>w});var r=n("../../../../node_modules/@babel/runtime/regenerator/index.js"),a=n.n(r),o=n("../../../../node_modules/@babel/runtime/helpers/asyncToGenerator.js"),s=n.n(o),c=n("../../../../node_modules/@babel/runtime/helpers/classCallCheck.js"),u=n.n(c),i=n("../../../../node_modules/@babel/runtime/helpers/createClass.js"),l=n.n(i),p=n("../../../../node_modules/@babel/runtime/helpers/inherits.js"),d=n.n(p),h=n("../../../../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),f=n.n(h),m=n("../../../../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),b=n.n(m),g=n("../../../../node_modules/react/index.js"),v=n("./app/actionCreators/indicator.tsx"),y=n("./app/components/asyncComponent.tsx"),k=n("./app/locale.tsx"),x=n("./app/utils.tsx");var C="/users/me/authenticators/";const w=function(e){d()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=b()(t);if(n){var a=b()(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return f()(this,e)});function o(){var e;u()(this,o);for(var t=arguments.length,n=new Array(t),c=0;c<t;c++)n[c]=arguments[c];return(e=r.call.apply(r,[this].concat(n))).handleDisable=function(){var t=s()(a().mark((function t(n){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n&&n.authId){t.next=2;break}return t.abrupt("return");case 2:return e.setState({loading:!0}),t.prev=3,t.next=6,e.api.requestPromise("".concat(C).concat(n.authId,"/"),{method:"DELETE"});case 6:e.remountComponent(),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(3),e.setState({loading:!1}),(0,v.Iw)((0,k.t)("Error disabling %s",n.name));case 13:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(e){return t.apply(this,arguments)}}(),e.handleRegenerateBackupCodes=s()(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0}),t.prev=1,t.next=4,e.api.requestPromise("".concat(C).concat(e.props.params.authId,"/"),{method:"PUT"});case 4:e.remountComponent(),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),e.setState({loading:!1}),(0,v.Iw)((0,k.t)("Error regenerating backup codes"));case 11:case"end":return t.stop()}}),t,null,[[1,7]])}))),e}return l()(o,[{key:"getEndpoints",value:function(){return[["authenticators",C],["organizations","/organizations/"]]}},{key:"renderBody",value:function(){var e=this.props.children,t=this.state,n=t.authenticators,r=t.organizations,a=((null==n?void 0:n.filter((function(e){return e.isEnrolled&&!e.isBackupInterface})))||[]).length,o=(null==r?void 0:r.filter((function(e){return e.require2FA})))||[],s=o.length>0&&1===a;return(0,x.ri)(e)?g.cloneElement(this.props.children,{onDisable:this.handleDisable,onRegenerateBackupCodes:this.handleRegenerateBackupCodes,authenticators:n,deleteDisabled:s,orgsRequire2fa:o,countEnrolled:a}):null}}]),o}(y.Z)}}]);
//# sourceMappingURL=AccountSecurityWrapper.js.map