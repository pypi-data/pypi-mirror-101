{"version":3,"sources":["webpack:///./app/views/organizationIntegrations/integrationRequest/RequestIntegrationModal.tsx","webpack:///./app/views/organizationIntegrations/integrationRequest/RequestIntegrationButton.tsx","webpack:///./app/views/organizationIntegrations/abstractIntegrationDetailedView.tsx"],"names":["RequestIntegrationModal","state","getDefaultState","isSending","message","sendRequest","props","organization","slug","type","trackIntegrationEvent","integration_type","integration","endpoint","api","request","method","data","providerSlug","providerType","success","handleSubmitSuccess","error","handleSubmitError","closeModal","onSuccess","addSuccessMessage","t","setState","addErrorMessage","this","Header","Body","Footer","name","buttonText","inline","flexibleControlStateSize","stacked","onChange","value","placeholder","onClick","AsyncComponent","RequestIntegrationButton","isOpen","isSent","openModal","renderProps","onClose","StyledRequestIntegrationButton","data-test-id","disabled","openRequestModal","priority","size","React","Button","space","AbstractIntegrationDetailedView","tabs","onTabChange","integration_tab","tab","eventKey","options","params","view","integrationSlug","integrationType","already_installed","installationStatus","location","query","Error","title","_disabledFromFeatures","_userHasAccess","description","action","renderAddInstallButton","features","featureData","map","f","featureGate","FeatureListItem","dangerouslySetInnerHTML","__html","singleLineRenderer","getCategories","integrationName","hideButtonIfDisabled","getIntegrationFeatureGate","IntegrationDirectoryFeatures","featureProps","disabledReason","DisableWrapper","access","hasAccess","renderTopButton","DisabledNotice","reason","tags","cleanTags","Flex","pluginId","NameContainer","Name","StatusWrapper","status","feature","StyledTag","key","startCase","className","style","paddingTop","tabName","CapitalizedLink","getTabDisplay","IntegrationDirectoryFeatureList","FlexContainer","Description","marked","provider","renderPermissions","alerts","alert","i","icon","text","Metadata","author","AuthorInfo","CreatedContainer","resourceLinks","url","ExternalLinkContainer","getIcon","href","renderTopSection","renderTabs","renderInformationCard","renderConfigurations","Tag","IconCloseCircle","IconClose","p","theme","red300","display","alignItems","isCircled","gray300"],"mappings":"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","file":"app_views_organizationIntegrations_abstractIntegrationDetailedView_tsx.js","sourcesContent":["import React from 'react';\n\nimport {addErrorMessage, addSuccessMessage} from 'app/actionCreators/indicator';\nimport {ModalRenderProps} from 'app/actionCreators/modal';\nimport AsyncComponent from 'app/components/asyncComponent';\nimport Button from 'app/components/button';\nimport {t} from 'app/locale';\nimport {trackIntegrationEvent} from 'app/utils/integrationUtil';\nimport TextareaField from 'app/views/settings/components/forms/textareaField';\nimport TextBlock from 'app/views/settings/components/text/textBlock';\n\nimport RequestIntegrationButton from './RequestIntegrationButton';\n\ntype Props = {\n  onSuccess: () => void;\n} & RequestIntegrationButton['props'] &\n  ModalRenderProps &\n  AsyncComponent['props'];\ntype State = {\n  isSending: boolean;\n  message: string;\n} & AsyncComponent['state'];\n\n/**\n * This modal serves as a non-owner's confirmation step before sending\n * organization owners an email requesting a new organization integration. It\n * lets the user attach an optional message to be included in the email.\n */\nexport default class RequestIntegrationModal extends AsyncComponent<Props, State> {\n  state = {\n    ...this.getDefaultState(),\n    isSending: false,\n    message: '',\n  };\n\n  sendRequest = () => {\n    const {organization, slug, type} = this.props;\n    const {message} = this.state;\n\n    trackIntegrationEvent(\n      'integrations.request_install',\n      {\n        integration_type: type,\n        integration: slug,\n      },\n      organization\n    );\n\n    const endpoint = `/organizations/${organization.slug}/integration-requests/`;\n    this.api.request(endpoint, {\n      method: 'POST',\n      data: {\n        providerSlug: slug,\n        providerType: type,\n        message,\n      },\n      success: this.handleSubmitSuccess,\n      error: this.handleSubmitError,\n    });\n  };\n\n  handleSubmitSuccess = () => {\n    const {closeModal, onSuccess} = this.props;\n\n    addSuccessMessage(t('Request successfully sent.'));\n    this.setState({isSending: false});\n    onSuccess();\n    closeModal();\n  };\n\n  handleSubmitError = () => {\n    addErrorMessage('Error sending the request');\n    this.setState({isSending: false});\n  };\n\n  render() {\n    const {Header, Body, Footer, name} = this.props;\n\n    const buttonText = this.state.isSending ? t('Sending Request') : t('Send Request');\n\n    return (\n      <React.Fragment>\n        <Header>\n          <h4>{t('Request %s Installation', name)}</h4>\n        </Header>\n        <Body>\n          <TextBlock>\n            {t(\n              'Looks like your organization owner, manager, or admin needs to install %s. Want to send them a request?',\n              name\n            )}\n          </TextBlock>\n          <TextBlock>\n            {t(\n              '(Optional) You’ve got good reasons for installing the %s Integration. Share them with your organization owner.',\n              name\n            )}\n          </TextBlock>\n          <TextareaField\n            inline={false}\n            flexibleControlStateSize\n            stacked\n            name=\"message\"\n            type=\"string\"\n            onChange={value => this.setState({message: value})}\n            placeholder={t('Optional message…')}\n          />\n          <TextBlock>\n            {t(\n              'When you click “Send Request”, we’ll email your request to your organization’s owners. So just keep that in mind.'\n            )}\n          </TextBlock>\n        </Body>\n        <Footer>\n          <Button onClick={this.sendRequest}>{buttonText}</Button>\n        </Footer>\n      </React.Fragment>\n    );\n  }\n}\n","import React from 'react';\nimport styled from '@emotion/styled';\n\nimport {openModal} from 'app/actionCreators/modal';\nimport Button from 'app/components/button';\nimport {t} from 'app/locale';\nimport space from 'app/styles/space';\nimport {IntegrationType, Organization} from 'app/types';\n\nimport RequestIntegrationModal from './RequestIntegrationModal';\n\ntype Props = {\n  organization: Organization;\n  name: string;\n  slug: string;\n  type: IntegrationType;\n};\ntype State = {\n  isOpen: boolean;\n  isSent: boolean;\n};\n\nexport default class RequestIntegrationButton extends React.Component<Props, State> {\n  state = {\n    isOpen: false,\n    isSent: false,\n  };\n\n  openRequestModal() {\n    this.setState({isOpen: true});\n    openModal(\n      renderProps => (\n        <RequestIntegrationModal\n          {...this.props}\n          {...renderProps}\n          onSuccess={() => this.setState({isSent: true})}\n        />\n      ),\n      {\n        onClose: () => this.setState({isOpen: false}),\n      }\n    );\n  }\n\n  render() {\n    const {isOpen, isSent} = this.state;\n\n    let buttonText;\n    if (isOpen) {\n      buttonText = t('Requesting Installation');\n    } else if (isSent) {\n      buttonText = t('Installation Requested');\n    } else {\n      buttonText = t('Request Installation');\n    }\n\n    return (\n      <StyledRequestIntegrationButton\n        data-test-id=\"request-integration-button\"\n        disabled={isOpen || isSent}\n        onClick={() => this.openRequestModal()}\n        priority=\"primary\"\n        size=\"small\"\n      >\n        {buttonText}\n      </StyledRequestIntegrationButton>\n    );\n  }\n}\n\nconst StyledRequestIntegrationButton = styled(Button)`\n  margin-left: ${space(1)};\n`;\n","import React from 'react';\nimport {RouteComponentProps} from 'react-router';\nimport styled from '@emotion/styled';\nimport startCase from 'lodash/startCase';\n\nimport Access from 'app/components/acl/access';\nimport Alert from 'app/components/alert';\nimport AsyncComponent from 'app/components/asyncComponent';\nimport ExternalLink from 'app/components/links/externalLink';\nimport {Panel} from 'app/components/panels';\nimport Tag from 'app/components/tag';\nimport Tooltip from 'app/components/tooltip';\nimport {IconClose, IconDocs, IconGeneric, IconGithub, IconProject} from 'app/icons';\nimport {t} from 'app/locale';\nimport PluginIcon from 'app/plugins/components/pluginIcon';\nimport space from 'app/styles/space';\nimport {\n  IntegrationFeature,\n  IntegrationInstallationStatus,\n  IntegrationType,\n  Organization,\n} from 'app/types';\nimport {\n  IntegrationAnalyticsKey,\n  IntegrationEventParameters,\n} from 'app/utils/integrationEvents';\nimport {\n  getCategories,\n  getIntegrationFeatureGate,\n  trackIntegrationEvent,\n} from 'app/utils/integrationUtil';\nimport marked, {singleLineRenderer} from 'app/utils/marked';\nimport EmptyMessage from 'app/views/settings/components/emptyMessage';\n\nimport RequestIntegrationButton from './integrationRequest/RequestIntegrationButton';\nimport IntegrationStatus from './integrationStatus';\n\ntype Tab = 'overview' | 'configurations';\n\ntype AlertType = React.ComponentProps<typeof Alert> & {\n  text: string;\n};\n\ntype State = {\n  tab: Tab;\n} & AsyncComponent['state'];\n\ntype Props = {\n  organization: Organization;\n} & RouteComponentProps<{orgId: string; integrationSlug: string}, {}> &\n  AsyncComponent['props'];\n\nclass AbstractIntegrationDetailedView<\n  P extends Props = Props,\n  S extends State = State\n> extends AsyncComponent<P, S> {\n  tabs: Tab[] = ['overview', 'configurations'];\n\n  componentDidMount() {\n    const {location} = this.props;\n    const value = location.query.tab === 'configurations' ? 'configurations' : 'overview';\n    // eslint-disable-next-line react/no-did-mount-set-state\n    this.setState({tab: value});\n  }\n\n  onLoadAllEndpointsSuccess() {\n    this.trackIntegrationEvent('integrations.integration_viewed', {\n      integration_tab: this.state.tab,\n    });\n  }\n\n  /***\n   * Abstract methods defined below\n   */\n\n  //The analytics type used in analytics which is snake case\n  get integrationType(): IntegrationType {\n    // Allow children to implement this\n    throw new Error('Not implemented');\n  }\n\n  get description(): string {\n    // Allow children to implement this\n    throw new Error('Not implemented');\n  }\n\n  get author(): string | undefined {\n    // Allow children to implement this\n    throw new Error('Not implemented');\n  }\n\n  get alerts(): AlertType[] {\n    //default is no alerts\n    return [];\n  }\n\n  //Returns a list of the resources displayed at the bottom of the overview card\n  get resourceLinks(): Array<{title: string; url: string}> {\n    // Allow children to implement this\n    throw new Error('Not implemented');\n  }\n\n  get installationStatus(): IntegrationInstallationStatus | null {\n    // Allow children to implement this\n    throw new Error('Not implemented');\n  }\n\n  get integrationName(): string {\n    // Allow children to implement this\n    throw new Error('Not implemented');\n  }\n\n  // Returns an array of RawIntegrationFeatures which is used in feature gating\n  // and displaying what the integration does\n  get featureData(): IntegrationFeature[] {\n    // Allow children to implement this\n    throw new Error('Not implemented');\n  }\n\n  getIcon(title: string) {\n    switch (title) {\n      case 'View Source':\n        return <IconProject />;\n      case 'Report Issue':\n        return <IconGithub />;\n      case 'Documentation':\n      case 'Splunk Setup Instructions':\n      case 'Trello Setup Instructions':\n        return <IconDocs />;\n      default:\n        return <IconGeneric />;\n    }\n  }\n\n  onTabChange = (value: Tab) => {\n    this.trackIntegrationEvent('integrations.integration_tab_clicked', {\n      integration_tab: value,\n    });\n    this.setState({tab: value});\n  };\n\n  //Returns the string that is shown as the title of a tab\n  getTabDisplay(tab: Tab): string {\n    //default is return the tab\n    return tab;\n  }\n\n  //Render the button at the top which is usually just an installation button\n  renderTopButton(\n    _disabledFromFeatures: boolean, //from the feature gate\n    _userHasAccess: boolean //from user permissions\n  ): React.ReactElement {\n    // Allow children to implement this\n    throw new Error('Not implemented');\n  }\n\n  //Returns the permission descriptions, only use by Sentry Apps\n  renderPermissions(): React.ReactElement | null {\n    //default is don't render permissions\n    return null;\n  }\n\n  renderEmptyConfigurations() {\n    return (\n      <Panel>\n        <EmptyMessage\n          title={t(\"You haven't set anything up yet\")}\n          description={t(\n            'But that doesn’t have to be the case for long! Add an installation to get started.'\n          )}\n          action={this.renderAddInstallButton(true)}\n        />\n      </Panel>\n    );\n  }\n\n  //Returns the list of configurations for the integration\n  renderConfigurations() {\n    // Allow children to implement this\n    throw new Error('Not implemented');\n  }\n\n  /***\n   * Actually implemented methods below\n   */\n\n  get integrationSlug() {\n    return this.props.params.integrationSlug;\n  }\n\n  //Wrapper around trackIntegrationEvent that automatically provides many fields and the org\n  trackIntegrationEvent = <T extends IntegrationAnalyticsKey>(\n    eventKey: IntegrationAnalyticsKey,\n    options?: Partial<IntegrationEventParameters[T]>\n  ) => {\n    options = options || {};\n    //If we use this intermediate type we get type checking on the things we care about\n    const params = {\n      view: 'integrations_directory_integration_detail',\n      integration: this.integrationSlug,\n      integration_type: this.integrationType,\n      already_installed: this.installationStatus !== 'Not Installed', //pending counts as installed here\n      ...options,\n    };\n    trackIntegrationEvent(eventKey, params, this.props.organization);\n  };\n\n  //Returns the props as needed by the hooks integrations:feature-gates\n  get featureProps() {\n    const {organization} = this.props;\n    const featureData = this.featureData;\n\n    // Prepare the features list\n    const features = featureData.map(f => ({\n      featureGate: f.featureGate,\n      description: (\n        <FeatureListItem\n          dangerouslySetInnerHTML={{__html: singleLineRenderer(f.description)}}\n        />\n      ),\n    }));\n\n    return {organization, features};\n  }\n\n  cleanTags() {\n    return getCategories(this.featureData);\n  }\n\n  renderRequestIntegrationButton() {\n    return (\n      <RequestIntegrationButton\n        organization={this.props.organization}\n        name={this.integrationName}\n        slug={this.integrationSlug}\n        type={this.integrationType}\n      />\n    );\n  }\n\n  renderAddInstallButton(hideButtonIfDisabled = false) {\n    const {organization} = this.props;\n    const {IntegrationDirectoryFeatures} = getIntegrationFeatureGate();\n\n    return (\n      <IntegrationDirectoryFeatures {...this.featureProps}>\n        {({disabled, disabledReason}) => (\n          <DisableWrapper>\n            <Access organization={organization} access={['org:integrations']}>\n              {({hasAccess}) => (\n                <Tooltip\n                  title={t(\n                    'You must be an organization owner, manager or admin to install this.'\n                  )}\n                  disabled={hasAccess}\n                >\n                  {!hideButtonIfDisabled && disabled ? (\n                    <div />\n                  ) : (\n                    this.renderTopButton(disabled, hasAccess)\n                  )}\n                </Tooltip>\n              )}\n            </Access>\n            {disabled && <DisabledNotice reason={disabledReason} />}\n          </DisableWrapper>\n        )}\n      </IntegrationDirectoryFeatures>\n    );\n  }\n\n  //Returns the content shown in the top section of the integration detail\n  renderTopSection() {\n    const tags = this.cleanTags();\n\n    return (\n      <Flex>\n        <PluginIcon pluginId={this.integrationSlug} size={50} />\n        <NameContainer>\n          <Flex>\n            <Name>{this.integrationName}</Name>\n            <StatusWrapper>\n              {this.installationStatus && (\n                <IntegrationStatus status={this.installationStatus} />\n              )}\n            </StatusWrapper>\n          </Flex>\n          <Flex>\n            {tags.map(feature => (\n              <StyledTag key={feature}>{startCase(feature)}</StyledTag>\n            ))}\n          </Flex>\n        </NameContainer>\n        {this.renderAddInstallButton()}\n      </Flex>\n    );\n  }\n\n  //Returns the tabs divider with the clickable tabs\n  renderTabs() {\n    //TODO: Convert to styled component\n    return (\n      <ul className=\"nav nav-tabs border-bottom\" style={{paddingTop: '30px'}}>\n        {this.tabs.map(tabName => (\n          <li\n            key={tabName}\n            className={this.state.tab === tabName ? 'active' : ''}\n            onClick={() => this.onTabChange(tabName)}\n          >\n            <CapitalizedLink>{t(this.getTabDisplay(tabName))}</CapitalizedLink>\n          </li>\n        ))}\n      </ul>\n    );\n  }\n\n  //Returns the information about the integration description and features\n  renderInformationCard() {\n    const {IntegrationDirectoryFeatureList} = getIntegrationFeatureGate();\n\n    return (\n      <React.Fragment>\n        <Flex>\n          <FlexContainer>\n            <Description dangerouslySetInnerHTML={{__html: marked(this.description)}} />\n            <IntegrationDirectoryFeatureList\n              {...this.featureProps}\n              provider={{key: this.props.params.integrationSlug}}\n            />\n            {this.renderPermissions()}\n            {this.alerts.map((alert, i) => (\n              <Alert key={i} type={alert.type} icon={alert.icon}>\n                <span\n                  dangerouslySetInnerHTML={{__html: singleLineRenderer(alert.text)}}\n                />\n              </Alert>\n            ))}\n          </FlexContainer>\n          <Metadata>\n            {!!this.author && (\n              <AuthorInfo>\n                <CreatedContainer>{t('Created By')}</CreatedContainer>\n                <div>{this.author}</div>\n              </AuthorInfo>\n            )}\n            {this.resourceLinks.map(({title, url}) => (\n              <ExternalLinkContainer key={url}>\n                {this.getIcon(title)}\n                <ExternalLink href={url}>{t(title)}</ExternalLink>\n              </ExternalLinkContainer>\n            ))}\n          </Metadata>\n        </Flex>\n      </React.Fragment>\n    );\n  }\n\n  renderBody() {\n    return (\n      <React.Fragment>\n        {this.renderTopSection()}\n        {this.renderTabs()}\n        {this.state.tab === 'overview'\n          ? this.renderInformationCard()\n          : this.renderConfigurations()}\n      </React.Fragment>\n    );\n  }\n}\n\nconst Flex = styled('div')`\n  display: flex;\n`;\n\nconst FlexContainer = styled('div')`\n  flex: 1;\n`;\n\nconst CapitalizedLink = styled('a')`\n  text-transform: capitalize;\n`;\n\nconst StyledTag = styled(Tag)`\n  text-transform: none;\n  &:not(:first-child) {\n    margin-left: ${space(0.5)};\n  }\n`;\n\nconst NameContainer = styled('div')`\n  display: flex;\n  align-items: flex-start;\n  flex-direction: column;\n  justify-content: center;\n  padding-left: ${space(2)};\n`;\n\nconst Name = styled('div')`\n  font-weight: bold;\n  font-size: 1.4em;\n  margin-bottom: ${space(1)};\n`;\n\nconst IconCloseCircle = styled(IconClose)`\n  color: ${p => p.theme.red300};\n  margin-right: ${space(1)};\n`;\n\nconst DisabledNotice = styled(({reason, ...p}: {reason: React.ReactNode}) => (\n  <div\n    style={{\n      display: 'flex',\n      alignItems: 'center',\n    }}\n    {...p}\n  >\n    <IconCloseCircle isCircled />\n    <span>{reason}</span>\n  </div>\n))`\n  padding-top: ${space(0.5)};\n  font-size: 0.9em;\n`;\n\nconst FeatureListItem = styled('span')`\n  line-height: 24px;\n`;\n\nconst Description = styled('div')`\n  font-size: 1.5rem;\n  line-height: 2.1rem;\n  margin-bottom: ${space(2)};\n\n  li {\n    margin-bottom: 6px;\n  }\n`;\n\nconst Metadata = styled(Flex)`\n  display: grid;\n  grid-auto-rows: max-content;\n  grid-auto-flow: row;\n  grid-gap: ${space(2)};\n  font-size: 0.9em;\n  margin-left: ${space(4)};\n  margin-right: 100px;\n`;\n\nconst AuthorInfo = styled('div')`\n  margin-bottom: ${space(3)};\n`;\n\nconst ExternalLinkContainer = styled('div')`\n  display: grid;\n  grid-template-columns: max-content 1fr;\n  grid-gap: ${space(1)};\n  align-items: center;\n`;\n\nconst StatusWrapper = styled('div')`\n  margin-bottom: ${space(1)};\n  padding-left: ${space(2)};\n  line-height: 1.5em;\n`;\n\nconst DisableWrapper = styled('div')`\n  margin-left: auto;\n  align-self: center;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst CreatedContainer = styled('div')`\n  text-transform: uppercase;\n  padding-bottom: ${space(1)};\n  color: ${p => p.theme.gray300};\n  font-weight: 600;\n  font-size: 12px;\n`;\n\nexport default AbstractIntegrationDetailedView;\n"],"sourceRoot":""}