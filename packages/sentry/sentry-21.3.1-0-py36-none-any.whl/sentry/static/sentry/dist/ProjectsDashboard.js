(self.webpackChunk=self.webpackChunk||[]).push([["ProjectsDashboard"],{"./app/components/sentryDocumentTitle.tsx":(e,t,r)=>{"use strict";r.d(t,{Z:()=>i}),r("../../../../node_modules/react/index.js");var n=r("../../../../node_modules/react-document-title/index.js"),o=r.n(n),a=r("../../../../node_modules/@emotion/core/dist/core.browser.esm.js");function s(e){var t=e.title,r=e.orgSlug,n=e.projectSlug,s=e.children,i=r||n?r&&n?"".concat(t," - ").concat(r," - ").concat(n):r?"".concat(t," - ").concat(r):"".concat(t," - ").concat(n):t;return(0,a.tZ)(o(),{title:"".concat(i," - Sentry")},s)}s.displayName="SentryDocumentTitle";const i=s},"./app/utils/discover/charts.tsx":(e,t,r)=>{"use strict";r.d(t,{CX:()=>s,gu:()=>i,b4:()=>c});var n=r("./app/locale.tsx"),o=r("./app/utils/discover/fields.tsx"),a=r("./app/utils/formatters.tsx");function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";switch((0,o.Px)(t)){case"integer":case"number":return e.toLocaleString();case"percentage":return(0,a.rl)(e,2);case"duration":return(0,a.g9)(e/1e3,2,!0);default:return e.toString()}}function i(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];switch((0,o.Px)(t)){case"integer":case"number":return r?(0,a.Du)(e):e.toLocaleString();case"percentage":return(0,a.rl)(e,0);case"duration":return c(e);default:return e.toString()}}function c(e){if(0===e)return"0";if(e>=a.ps){var t=(e/a.ps).toFixed(0);return(0,n.t)("%swk",t)}if(e>=a.x4){var r=(e/a.x4).toFixed(0);return(0,n.t)("%sd",r)}if(e>=a.kr){var o=(e/a.kr).toFixed(0);return(0,n.t)("%shr",o)}if(e>=a.EB){var s=(e/a.EB).toFixed(0);return(0,n.t)("%smin",s)}if(e>=a.sh){var i=(e/a.sh).toFixed(0);return(0,n.t)("%ss",i)}var c=e.toFixed(0);return(0,n.t)("%sms",c)}},"./app/views/projectsDashboard/index.tsx":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Dashboard:()=>ht,default:()=>Zt});var n=r("../../../../node_modules/@babel/runtime/helpers/classCallCheck.js"),o=r.n(n),a=r("../../../../node_modules/@babel/runtime/helpers/createClass.js"),s=r.n(a),i=r("../../../../node_modules/@babel/runtime/helpers/inherits.js"),c=r.n(i),l=r("../../../../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),u=r.n(l),p=r("../../../../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),d=r.n(p),m=r("../../../../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),f=r("../../../../node_modules/react/index.js"),g=r("../../../../node_modules/react-lazyload/lib/index.js"),h=r("../../../../node_modules/react-router/es/index.js"),y=r("../../../../node_modules/@sentry/react/esm/profiler.js"),v=r("../../../../node_modules/lodash/flatten.js"),b=r.n(v),x=r("../../../../node_modules/lodash/uniqBy.js"),Z=r.n(x),j=r("./app/components/button.tsx"),w=r("./app/components/idBadge/index.tsx"),k=r("./app/components/loadingError.tsx"),O=r("./app/components/loadingIndicator.tsx"),P=r("./app/components/noProjectMessage.tsx"),S=r("./app/components/pageHeading.tsx"),z=r("./app/components/sentryDocumentTitle.tsx"),D=r("./app/icons/index.tsx"),T=r("./app/locale.tsx"),C=r("./app/stores/projectsStatsStore.tsx"),R=r("./app/styles/space.tsx"),B=r("./app/utils.tsx"),_=r("./app/utils/withApi.tsx"),I=r("./app/utils/withOrganization.tsx"),E=r("../../../../node_modules/@babel/runtime/helpers/extends.js"),N=r.n(E),L=r("../../../../node_modules/@babel/runtime/helpers/defineProperty.js"),A=r.n(L),F=r("../../../../node_modules/@babel/runtime/regenerator/index.js"),M=r.n(F),U=r("../../../../node_modules/@babel/runtime/helpers/asyncToGenerator.js"),W=r.n(U),q=r("./app/stores/configStore.tsx"),H=r("./app/utils/getDisplayName.tsx"),G=r("./app/utils/analytics.tsx"),K=r("../../../../node_modules/@emotion/core/dist/core.browser.esm.js");function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function X(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach((function(t){A()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Y=r("./images/spot/breadcrumbs-generic.svg"),$=r.n(Y),J=r("./images/spot/code-arguments-tags-mirrored.svg"),Q=r.n(J),ee=r("./images/spot/releases.svg"),te=r.n(ee),re=r("./app/components/links/externalLink.tsx"),ne=r("./app/components/panels/index.tsx"),oe=function(e){var t=e.title,r=e.link,n=e.imgUrl;return(0,K.tZ)(se,{onClick:function(){return(0,G.co)("orgdash.resource_clicked",{link:r,title:t})}},(0,K.tZ)(ie,{href:r},(0,K.tZ)(ce,{src:n,alt:t}),(0,K.tZ)(le,null,t)))};oe.displayName="ResourceCard";const ae=oe;var se=(0,m.Z)(ne.s_,{target:"er3t4pk0",label:"ResourceCardWrapper"})("display:flex;flex:1;align-items:center;padding:",(0,R.Z)(3),";margin-bottom:0;"),ie=(0,m.Z)(re.Z,{target:"er3t4pk1",label:"StyledLink"})({name:"1rr4qq7",styles:"flex:1;"}),ce=(0,m.Z)("img",{target:"er3t4pk2",label:"StyledImg"})("display:block;margin:0 auto ",(0,R.Z)(3)," auto;height:160px;"),le=(0,m.Z)("div",{target:"er3t4pk3",label:"StyledTitle"})("color:",(function(e){return e.theme.textColor}),";font-size:",(function(e){return e.theme.fontSizeLarge}),";text-align:center;font-weight:bold;");var ue=function(e){c()(a,e);var t,r,n=(t=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=d()(t);if(r){var o=d()(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return u()(this,e)});function a(){return o()(this,a),n.apply(this,arguments)}return s()(a,[{key:"componentDidMount",value:function(){var e=this.props.organization;(0,G.ec)({eventKey:"orgdash.resources_shown",eventName:"Projects Dashboard: Resources Shown",organization:e.id})}},{key:"render",value:function(){return(0,K.tZ)(de,{"data-test-id":"resources"},(0,K.tZ)(S.Z,{withMargins:!0},(0,T.t)("Resources")),(0,K.tZ)(me,null,(0,K.tZ)(ae,{link:"https://blog.sentry.io/2018/03/06/the-sentry-workflow",imgUrl:te(),title:(0,T.t)("The Sentry Workflow")}),(0,K.tZ)(ae,{link:"https://sentry.io/vs/logging/",imgUrl:$(),title:(0,T.t)("Sentry vs Logging")}),(0,K.tZ)(ae,{link:"https://docs.sentry.io/",imgUrl:Q(),title:(0,T.t)("Docs")})))}}]),a}(f.Component);ue.displayName="Resources";const pe=ue;var de=(0,m.Z)("div",{target:"ej2nots0",label:"ResourcesWrapper"})("border-top:1px solid ",(function(e){return e.theme.border}),";padding:25px 30px 10px 30px;"),me=(0,m.Z)("div",{target:"ej2nots1",label:"ResourceCards"})("display:grid;grid-template-columns:minmax(100px,1fr);grid-gap:",(0,R.Z)(3),";@media (min-width:",(function(e){return e.theme.breakpoints[1]}),"){grid-template-columns:repeat(auto-fit,minmax(100px,1fr));}"),fe=r("../../../../node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),ge=r.n(fe),he=r("../../../../node_modules/@babel/runtime/helpers/slicedToArray.js"),ye=r.n(he),ve=r("./app/actionCreators/projects.tsx"),be=r("./app/components/links/link.tsx"),xe=r("./app/components/projects/bookmarkStar.tsx"),Ze=r("./app/components/questionTooltip.tsx"),je=r("./app/utils/callIfFunction.tsx"),we=r("./app/utils/formatters.tsx"),ke=r("../../../../node_modules/emotion-theming/dist/emotion-theming.browser.esm.js"),Oe=r("./app/components/charts/baseChart.tsx"),Pe=r("./app/utils/discover/charts.tsx"),Se=function(e){var t=e.seriesCount;return(0,K.tZ)(De,null,(0,K.tZ)(Te,{seriesCount:t},(0,T.t)("No activity yet.")))};Se.displayName="NoEvents";const ze=Se;var De=(0,m.Z)("div",{target:"e6c4csp0",label:"Container"})({name:"1ct1iq3",styles:"position:absolute;top:0;left:0;bottom:0;right:0;"}),Te=(0,m.Z)("div",{target:"e6c4csp1",label:"EmptyText"})("display:flex;align-items:center;justify-content:center;margin-left:4px;margin-right:4px;height:",(function(e){return e.seriesCount>1?"90px":"150px"}),";color:",(function(e){return e.theme.gray300}),";"),Ce=function(e){var t=e.theme,r=e.firstEvent,n=e.stats,o=e.transactionStats,a=[],s=void 0!==o;if(o){var i=o.map((function(e){var t=ye()(e,2);return[1e3*t[0],t[1]]}));a.push({cursor:"normal",name:(0,T.t)("Transactions"),type:"bar",data:i,barMinHeight:1,xAxisIndex:1,yAxisIndex:1,itemStyle:{color:t.gray200,opacity:.8,emphasis:{color:t.gray200,opacity:1}}})}n&&a.push({cursor:"normal",name:(0,T.t)("Errors"),type:"bar",data:n.map((function(e){var t=ye()(e,2);return[1e3*t[0],t[1]]})),barMinHeight:1,xAxisIndex:0,yAxisIndex:0,itemStyle:{color:t.purple300,opacity:.6,emphasis:{color:t.purple300,opacity:.8}}});var c={series:a,colors:[],height:150,isGroupedByDate:!0,showTimeInTooltip:!0,grid:s?[{top:10,bottom:60,left:2,right:2},{top:105,bottom:0,left:2,right:2}]:[{top:10,bottom:0,left:2,right:2}],tooltip:{trigger:"axis"},xAxes:Array.from(new Array(a.length)).map((function(e,t){return{gridIndex:t,boundaryGap:!0,axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1},axisPointer:{type:"line",label:{show:!1},lineStyle:{width:0}}}})),yAxes:Array.from(new Array(a.length)).map((function(e,r){return{gridIndex:r,interval:1/0,max:function(e){return Math.max(10,e.max)},axisLabel:{margin:2,showMaxLabel:!0,showMinLabel:!1,color:t.chartLabel,fontFamily:t.text.family,inside:!0,lineHeight:12,formatter:function(e){return(0,Pe.gu)(e,"count()",!0)},textBorderColor:t.backgroundSecondary,textBorderWidth:1},splitLine:{show:!1},zlevel:t.zIndex.header}})),axisPointer:{link:[{xAxisIndex:[0,1]}]},options:{animation:!1}};return(0,K.tZ)(f.Fragment,null,(0,K.tZ)(Oe.Z,c),!r&&(0,K.tZ)(ze,{seriesCount:a.length}))};Ce.displayName="Chart";const Re=(0,ke.Zz)(Ce);var Be=r("./app/components/textOverflow.tsx"),_e=r("./app/components/timeSince.tsx"),Ie=r("./app/components/version.tsx"),Ee=r("./app/utils/getDynamicText.tsx");function Ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Le=function(e){var t=e.project,r=(Object.entries(t.latestDeploys||{}).map((function(e){var t=ye()(e,2);return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(r),!0).forEach((function(t){A()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({environment:t[0]},t[1])}))||[]).sort((function(e,t){return new Date(t.dateFinished).getTime()-new Date(e.dateFinished).getTime()})).slice(0,2);return r.length?(0,K.tZ)(We,null,r.map((function(e){return(0,K.tZ)(Fe,{key:"".concat(e.environment,"-").concat(e.version),deploy:e,project:t})}))):(0,K.tZ)(Me,null)};Le.displayName="Deploys";const Ae=Le;var Fe=function(e){var t=e.deploy,r=e.project;return(0,K.tZ)(f.Fragment,null,(0,K.tZ)(D.Or,{size:"sm"}),(0,K.tZ)(Be.Z,null,(0,K.tZ)(qe,null,t.environment),(0,K.tZ)(Ie.Z,{version:t.version,projectId:r.id,tooltipRawVersion:!0,truncate:!0})),(0,K.tZ)(He,null,(0,Ee.Z)({fixed:"3 hours ago",value:(0,K.tZ)(_e.Z,{date:t.dateFinished})})))};Fe.displayName="Deploy";var Me=function(){return(0,K.tZ)(Ge,null,(0,K.tZ)(j.ZP,{size:"small",href:"https://docs.sentry.io/product/releases/",external:!0},(0,T.t)("Track deploys")))};Me.displayName="NoDeploys";var Ue=(0,m.Z)("div",{target:"eucdbp90",label:"DeployContainer"})("padding:",(0,R.Z)(2),";height:115px;"),We=(0,m.Z)(Ue,{target:"eucdbp91",label:"DeployRows"})("display:grid;grid-template-columns:30px 1fr 1fr;grid-template-rows:auto;grid-column-gap:",(0,R.Z)(1),";grid-row-gap:",(0,R.Z)(1),";font-size:",(function(e){return e.theme.fontSizeMedium}),";line-height:1.2;"),qe=(0,m.Z)("div",{target:"eucdbp92",label:"Environment"})("color:",(function(e){return e.theme.textColor}),";margin:0;"),He=(0,m.Z)("div",{target:"eucdbp93",label:"DeployTime"})("color:",(function(e){return e.theme.gray300}),";overflow:hidden;text-align:right;text-overflow:ellipsis;"),Ge=(0,m.Z)(Ue,{target:"eucdbp94",label:"GetStarted"})({name:"gmuwbf",styles:"display:flex;align-items:center;justify-content:center;"});function Ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ve(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(r),!0).forEach((function(t){A()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ke(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Xe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d()(e);if(t){var o=d()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u()(this,r)}}var Ye=function(e){c()(r,e);var t=Xe(r);function r(){return o()(this,r),t.apply(this,arguments)}return s()(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.organization,r=e.project,n=e.api;(0,ve.$P)(n,r.id,{orgId:t.slug,projectId:r.id,query:{transactionStats:this.hasPerformance?"1":void 0}})}},{key:"hasPerformance",get:function(){return this.props.organization.features.includes("performance-view")}},{key:"render",value:function(){var e=this.props,t=e.organization,r=e.project,n=e.hasProjectAccess,o=r.id,a=r.stats,s=r.slug,i=r.transactionStats,c=void 0!==a?(0,we.Du)(a.reduce((function(e,t){var r=ye()(t,2);return r[0],e+r[1]}),0)):"0",l=void 0!==i?(0,we.Du)(i.reduce((function(e,t){var r=ye()(t,2);return r[0],e+r[1]}),0)):"0",u="0"===l,p=Boolean(r.firstEvent||r.firstTransactionEvent),d=t.features.includes("project-detail")?"/organizations/".concat(t.slug,"/projects/").concat(s,"/?project=").concat(o):"/organizations/".concat(t.slug,"/issues/?project=").concat(o);return(0,K.tZ)("div",{"data-test-id":s},a?(0,K.tZ)(tt,null,(0,K.tZ)(Qe,null,(0,K.tZ)(et,null,(0,K.tZ)(nt,{project:r,avatarSize:18,hideOverflow:!0,displayName:n?(0,K.tZ)(be.Z,{to:d},(0,K.tZ)("strong",null,s)):(0,K.tZ)("span",null,s)}),(0,K.tZ)(xe.Z,{organization:t,project:r})),(0,K.tZ)(ot,null,(0,K.tZ)(be.Z,{"data-test-id":"project-errors",to:"/organizations/".concat(t.slug,"/issues/?project=").concat(r.id)},(0,T.tn)("%s error","%s errors",c)),this.hasPerformance&&(0,K.tZ)(f.Fragment,null,(0,K.tZ)("em",null,"|"),(0,K.tZ)(at,{"data-test-id":"project-transactions",to:"/organizations/".concat(t.slug,"/performance/?project=").concat(r.id)},(0,T.tn)("%s transaction","%s transactions",l),u&&(0,K.tZ)(Ze.Z,{title:(0,T.t)("Click here to learn more about performance monitoring"),position:"top",size:"xs"}))))),(0,K.tZ)(Je,null,(0,K.tZ)(Re,{firstEvent:p,stats:a,transactionStats:i})),(0,K.tZ)(Ae,{project:r})):(0,K.tZ)(rt,null))}}]),r}(f.Component);Ye.displayName="ProjectCard";var $e=function(e){c()(r,e);var t=Xe(r);function r(){var e;o()(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state=e.getInitialState(),e.listeners=[C.Z.listen((function(t){e.onProjectStoreUpdate(t)}),void 0)],e}return s()(r,[{key:"getInitialState",value:function(){var e=this.props.project;return{projectDetails:(C.Z.getInitialState()||{})[e.slug]||null}}},{key:"componentWillUnmount",value:function(){this.listeners.forEach(je.g)}},{key:"onProjectStoreUpdate",value:function(e){var t=this.props.project;e[t.slug]&&e[t.slug]!==this.state.projectDetails&&this.setState({projectDetails:e[t.slug]})}},{key:"render",value:function(){var e=this.props,t=e.project,r=ge()(e,["project"]),n=this.state.projectDetails;return(0,K.tZ)(Ye,N()({},r,{project:Ve(Ve({},t),n||{})}))}}]),r}(f.Component);$e.displayName="ProjectCardContainer";var Je=(0,m.Z)("div",{target:"ef2xevr0",label:"ChartContainer"})("position:relative;background:",(function(e){return e.theme.backgroundSecondary}),";"),Qe=(0,m.Z)("div",{target:"ef2xevr1",label:"CardHeader"})("margin:",(0,R.Z)(1.5)," ",(0,R.Z)(2),";"),et=(0,m.Z)("div",{target:"ef2xevr2",label:"HeaderRow"})({name:"18wprr4",styles:"display:grid;grid-template-columns:1fr auto;justify-content:space-between;align-items:center;"}),tt=(0,m.Z)("div",{target:"ef2xevr3",label:"StyledProjectCard"})("background-color:",(function(e){return e.theme.background}),";border:1px solid ",(function(e){return e.theme.border}),";border-radius:",(function(e){return e.theme.borderRadius}),";box-shadow:",(function(e){return e.theme.dropShadowLight}),";"),rt=(0,m.Z)("div",{target:"ef2xevr4",label:"LoadingCard"})("border:1px solid transparent;background-color:",(function(e){return e.theme.backgroundSecondary}),";height:334px;"),nt=(0,m.Z)(w.Z,{target:"ef2xevr5",label:"StyledIdBadge"})({name:"1eenmh3",styles:"overflow:hidden;white-space:nowrap;flex-shrink:1;"}),ot=(0,m.Z)("div",{target:"ef2xevr6",label:"SummaryLinks"})("display:flex;align-items:center;color:",(function(e){return e.theme.subText}),";font-size:",(function(e){return e.theme.fontSizeMedium}),";margin-left:26px;a{color:",(function(e){return e.theme.formText}),";:hover{color:",(function(e){return e.theme.subText}),";}}em{font-style:normal;margin:0 ",(0,R.Z)(.5),";}"),at=(0,m.Z)(be.Z,{target:"ef2xevr7",label:"TransactionsLink"})("display:flex;align-items:center;justify-content:space-between;> span{margin-left:",(0,R.Z)(.5),";}");const st=(0,I.Z)((0,_.Z)($e));var it=r("./app/components/asyncComponent.tsx"),ct=r("./app/components/avatar/avatarList.tsx");const lt=function(e){c()(a,e);var t,r,n=(t=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=d()(t);if(r){var o=d()(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return u()(this,e)});function a(){return o()(this,a),n.apply(this,arguments)}return s()(a,[{key:"getEndpoints",value:function(){var e=this.props,t=e.orgId,r=e.teamId;return[["members","/teams/".concat(t,"/").concat(r,"/members/")]]}},{key:"renderLoading",value:function(){return this.renderBody()}},{key:"renderBody",value:function(){var e=this.state.members;if(!e)return null;var t=e.filter((function(e){return!!e.user})).map((function(e){return e.user}));return(0,K.tZ)(ct.Z,{users:t})}}]),a}(it.Z);var ut=function(e){var t=e.team,r=e.projects,n=e.title,o=e.showBorder,a=e.orgId,s=e.access,i=s.has("team:read"),c=s.has("project:read");return(0,K.tZ)(dt,{"data-test-id":"team",showBorder:o},(0,K.tZ)(mt,null,(0,K.tZ)(ft,null,n),i&&t&&(0,K.tZ)(lt,{teamId:t.slug,orgId:a})),(0,K.tZ)(pt,null,r.map((function(e){return(0,K.tZ)(st,{"data-test-id":e.slug,key:e.slug,project:e,hasProjectAccess:c})}))))};ut.displayName="TeamSection";var pt=(0,m.Z)("div",{target:"e1uujtkm0",label:"ProjectCards"})("display:grid;grid-template-columns:minmax(100px,1fr);grid-gap:",(0,R.Z)(3),";@media (min-width:",(function(e){return e.theme.breakpoints[0]}),"){grid-template-columns:repeat(2,minmax(100px,1fr));}@media (min-width:",(function(e){return e.theme.breakpoints[2]}),"){grid-template-columns:repeat(3,minmax(100px,1fr));}@media (min-width:",(function(e){return e.theme.breakpoints[3]}),"){grid-template-columns:repeat(4,minmax(100px,1fr));}"),dt=(0,m.Z)("div",{target:"e1uujtkm1",label:"TeamSectionWrapper"})("border-bottom:",(function(e){return e.showBorder?"1px solid "+e.theme.border:0}),";padding:0 ",(0,R.Z)(4)," ",(0,R.Z)(4),";"),mt=(0,m.Z)("div",{target:"e1uujtkm2",label:"TeamTitleBar"})("display:flex;align-items:center;justify-content:space-between;padding:",(0,R.Z)(3)," 0 ",(0,R.Z)(2),";"),ft=(0,m.Z)(S.Z,{target:"e1uujtkm3",label:"TeamName"})({name:"1toivzt",styles:"font-size:20px;line-height:24px;"});const gt=ut;var ht=function(e){c()(a,e);var t,r,n=(t=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=d()(t);if(r){var o=d()(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return u()(this,e)});function a(){return o()(this,a),n.apply(this,arguments)}return s()(a,[{key:"componentWillUnmount",value:function(){C.Z.reset()}},{key:"render",value:function(){var e=this.props,t=e.teams,r=e.params,n=e.organization,o=e.loadingTeams,a=e.error;if(o)return(0,K.tZ)(O.Z,null);if(a)return(0,K.tZ)(k.Z,{message:"An error occurred while fetching your projects"});var s=t.filter((function(e){return e.projects.length}));s.sort((function(e,t){return e.slug.localeCompare(t.slug)}));var i=Z()(b()(t.map((function(e){return e.projects}))),"id"),c=i.filter((function(e){return e.isBookmarked})),l=new Set(n.access),u=l.has("project:admin"),p=l.has("team:admin"),d=0===i.length&&0===c.length,m=1===i.length&&!i[0].firstEvent;return d?(0,K.tZ)(P.Z,{organization:n,projects:i,superuserNeedsToBeProjectMember:!0},null):(0,K.tZ)(f.Fragment,null,(0,K.tZ)(z.Z,{title:(0,T.t)("Projects Dashboard"),orgSlug:n.slug}),i.length>0&&(0,K.tZ)(bt,null,(0,K.tZ)(S.Z,null,"Projects"),(0,K.tZ)(j.ZP,{size:"small",disabled:!u,title:u?void 0:(0,T.t)("You do not have permission to create projects"),to:"/organizations/".concat(n.slug,"/projects/new/"),icon:(0,K.tZ)(D.N_,{size:"xs",isCircled:!0}),"data-test-id":"create-project"},(0,T.t)("Create Project"))),s.map((function(e,o){var a=o!==t.length-1;return(0,K.tZ)(g.ZP,{key:e.slug,once:!0,debounce:50,height:300,offset:300},(0,K.tZ)(gt,{orgId:r.orgId,team:e,showBorder:a,title:p?(0,K.tZ)(vt,{to:"/settings/".concat(n.slug,"/teams/").concat(e.slug,"/")},(0,K.tZ)(w.Z,{team:e,avatarSize:22})):(0,K.tZ)(w.Z,{team:e,avatarSize:22}),projects:(0,B.Mx)(e.projects),access:l}))})),m&&(0,K.tZ)(pe,{organization:n}))}}]),a}(f.Component);ht.displayName="Dashboard";var yt=function(e){return(0,K.tZ)(xt,null,(0,K.tZ)(ht,e))};yt.displayName="OrganizationDashboard";var vt=(0,m.Z)(h.Link,{target:"eynogzt0",label:"TeamLink"})({name:"70qvj9",styles:"display:flex;align-items:center;"}),bt=(0,m.Z)("div",{target:"eynogzt1",label:"ProjectsHeader"})("padding:",(0,R.Z)(3)," ",(0,R.Z)(4)," 0 ",(0,R.Z)(4),";display:flex;align-items:center;justify-content:space-between;"),xt=(0,m.Z)("div",{target:"eynogzt2",label:"OrganizationDashboardWrapper"})({name:"1kdy0wu",styles:"display:flex;flex:1;flex-direction:column;"});const Zt=(0,_.Z)((0,I.Z)((jt=(0,y.zH)(yt),kt=wt=function(e){c()(i,e);var t,r,n,a=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d()(r);if(n){var o=d()(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return u()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=a.call.apply(a,[this].concat(r))).state={teams:[],loadingTeams:!0,error:null},e}return s()(i,[{key:"componentDidMount",value:function(){this.fetchTeams()}},{key:"fetchTeams",value:(t=W()(M().mark((function e(){var t,r=this;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loadingTeams:!0}),e.prev=1,G.oF.mark({name:"user-teams-fetch-start"}),e.next=5,this.props.api.requestPromise(this.getUsersTeamsEndpoint());case 5:t=e.sent,this.setState({teams:t,loadingTeams:!1},(function(){G.oF.measure({name:"app.component.perf",start:"user-teams-fetch-start",data:{name:"user-teams",route:"/organizations/:orgid/user-teams",organization_id:parseInt(r.props.organization.id,10)}})})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),this.setState({error:e.t0,loadingTeams:!1});case 12:case"end":return e.stop()}}),e,this,[[1,9]])}))),function(){return t.apply(this,arguments)})},{key:"populateTeamsWithProjects",value:function(e,t){var r=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n={},o=[],a=new Set(e.filter((function(e){return e.isMember})).map((function(e){return e.slug})));return 0===a.size&&r&&(a=new Set(e.map((function(e){return e.slug})))),t.forEach((function(e){!e.teams.length&&e.isMember?o.push(e):e.teams.forEach((function(t){a.has(t.slug)&&(n.hasOwnProperty(t.slug)||(n[t.slug]=[]),n[t.slug].push(e))}))})),{projectsByTeam:n,teamlessProjects:o}}(e,t,q.Z.get("user").isSuperuser).projectsByTeam,n=e.map((function(e){var t=r[e.slug]||[];return X(X({},e),{},{projects:t})}));this.setState({teams:n,loadingTeams:!1})}},{key:"getUsersTeamsEndpoint",value:function(){return"/organizations/".concat(this.props.organization.slug,"/user-teams/")}},{key:"render",value:function(){return(0,K.tZ)(jt,N()({},this.props,this.state))}}]),i}(f.Component),wt.displayName="withUsersTeams(".concat((0,H.Z)(jt),")"),kt)));var jt,wt,kt},"./images/spot/breadcrumbs-generic.svg":(e,t,r)=>{e.exports=r.p+"spot/breadcrumbs-generic.d27a0c.svg"},"./images/spot/code-arguments-tags-mirrored.svg":(e,t,r)=>{e.exports=r.p+"spot/code-arguments-tags-mirrored.ad554f.svg"},"./images/spot/releases.svg":(e,t,r)=>{e.exports=r.p+"spot/releases.70c2a2.svg"}}]);
//# sourceMappingURL=ProjectsDashboard.js.map