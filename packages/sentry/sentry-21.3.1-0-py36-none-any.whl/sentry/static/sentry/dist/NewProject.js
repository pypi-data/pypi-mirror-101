(self.webpackChunk=self.webpackChunk||[]).push([["NewProject"],{"./app/components/platformPicker.tsx":(t,e,n)=>{"use strict";n.d(e,{Z:()=>X});var r,o,a,s,i=n("../../../../node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),l=n.n(i),c=n("../../../../node_modules/@babel/runtime/helpers/extends.js"),u=n.n(c),p=n("../../../../node_modules/@babel/runtime/helpers/classCallCheck.js"),d=n.n(p),m=n("../../../../node_modules/@babel/runtime/helpers/createClass.js"),f=n.n(m),h=n("../../../../node_modules/@babel/runtime/helpers/inherits.js"),g=n.n(h),v=n("../../../../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),y=n.n(v),b=n("../../../../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),x=n.n(b),Z=n("../../../../node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js"),S=n.n(Z),j=n("../../../../node_modules/@babel/runtime/helpers/toConsumableArray.js"),C=n.n(j),_=n("../../../../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),E=n("../../../../node_modules/react/index.js"),P=n("../../../../node_modules/react-keydown/es/index.js"),R=n("../../../../node_modules/lodash/debounce.js"),w=n.n(R),O=n("../../../../node_modules/platformicons/build/index.js"),k=n("./app/components/button.tsx"),A=n("./app/components/links/externalLink.tsx"),T=n("./app/components/links/listLink.tsx"),I=n("./app/components/navTabs.tsx"),L=n("./app/data/platformCategories.tsx"),q=n("./app/data/platforms.tsx"),N=n("./app/icons/index.tsx"),D=n("./app/locale.tsx"),U=n("./app/styles/input.tsx"),z=n("./app/styles/space.tsx"),F=n("./app/utils/analytics.tsx"),M=n("./app/views/settings/components/emptyMessage.tsx"),B=n("../../../../node_modules/@emotion/core/dist/core.browser.esm.js");var W=[].concat(C()(L.ZP),[{id:"all",name:(0,D.t)("All")}]),G=(r=(0,P.ZP)("/"),s=a=function(t){g()(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=x()(e);if(n){var o=x()(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return y()(this,t)});function o(){var t,e;d()(this,o);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=r.call.apply(r,[this].concat(a))).state={category:null!==(t=e.props.defaultCategory)&&void 0!==t?t:W[0].id,filter:e.props.noAutoFilter?"":(e.props.platform||"").split("-")[0]},e.logSearch=w()((function(){e.state.filter&&(0,F.co)("platformpicker.search",{query:e.state.filter.toLowerCase(),num_results:e.platformList.length})}),300),e.searchInput=E.createRef(),e}return f()(o,[{key:"platformList",get:function(){var t=this.state.category,e=L.ZP.find((function(e){return e.id===t})),n=this.state.filter.toLowerCase(),r=q.Z.filter(this.state.filter?function(t){return t.id.includes(n)||t.name.toLowerCase().includes(n)}:function(n){var r;return"all"===t||(null==e||null===(r=e.platforms)||void 0===r?void 0:r.includes(n.id))}).sort((function(t,e){return t.id.localeCompare(e.id)}));return this.props.showOther?r:r.filter((function(t){return"other"!==t.id}))}},{key:"focusSearch",value:function(t){var e,n;t.target!==this.searchInput.current&&(null===(e=this.searchInput)||void 0===e||null===(n=e.current)||void 0===n||n.focus(),t.preventDefault())}},{key:"render",value:function(){var t=this,e=this.platformList,n=this.props,r=n.setPlatform,o=n.listProps,a=n.listClassName,s=this.state,i=s.filter,l=s.category;return(0,B.tZ)(E.Fragment,null,(0,B.tZ)(H,null,(0,B.tZ)(Y,null,W.map((function(e){var n=e.id,r=e.name;return(0,B.tZ)(T.Z,{key:n,onClick:function(e){(0,F.co)("platformpicker.select_tab",{category:n}),t.setState({category:n,filter:""}),e.preventDefault()},to:"",isActive:function(){return n===(i?"all":l)}},r)}))),(0,B.tZ)(V,null,(0,B.tZ)(N.jV,{size:"xs"}),(0,B.tZ)("input",{type:"text",ref:this.searchInput,value:i,placeholder:(0,D.t)("Filter Platforms"),onChange:function(e){return t.setState({filter:e.target.value},t.logSearch)}}))),(0,B.tZ)(K,u()({className:a},o),e.map((function(e){return(0,B.tZ)(Q,{"data-test-id":"platform-".concat(e.id),key:e.id,platform:e,selected:t.props.platform===e.id,onClear:function(t){r(null),t.stopPropagation()},onClick:function(){(0,F.co)("platformpicker.select_platform",{platform:e.id}),r(e.id)}})}))),0===e.length&&(0,B.tZ)(M.Z,{icon:(0,B.tZ)(N.FI,{size:"xl"}),title:(0,D.t)("We don't have an SDK for that yet!")},(0,D._N)("Not finding your platform? You can still create your project,\n              but looks like we don't have an official SDK for your platform\n              yet. However, there's a rich ecosystem of community supported\n              SDKs (including Perl, CFML, Clojure, and ActionScript). Try\n              [search:searching for Sentry clients] or contacting support.",{search:(0,B.tZ)(A.Z,{href:"https://github.com/search?q=-org%3Agetsentry+topic%3Asentry&type=Repositories"})})))}}]),o}(E.Component),a.defaultProps={showOther:!0},o=s,S()(o.prototype,"focusSearch",[r],Object.getOwnPropertyDescriptor(o.prototype,"focusSearch"),o.prototype),o),H=(0,_.Z)("div",{target:"egtinxr0",label:"NavContainer"})("margin-bottom:",(0,z.Z)(2),";display:grid;grid-gap:",(0,z.Z)(2),";grid-template-columns:1fr minmax(0,300px);align-items:start;border-bottom:1px solid ",(function(t){return t.theme.border}),";"),V=(0,_.Z)("div",{target:"egtinxr1",label:"SearchBar"})((function(t){return(0,U.T)(t)}),";padding:0 8px;color:",(function(t){return t.theme.subText}),";display:flex;align-items:center;font-size:15px;margin-top:-",(0,z.Z)(.75),";input{border:none;background:none;padding:2px 4px;width:100%;line-height:24px;&:focus{outline:none;}}"),Y=(0,_.Z)(I.Z,{target:"egtinxr2",label:"CategoryNav"})({name:"besr82",styles:"margin:0;margin-top:4px;white-space:nowrap;> li{float:none;display:inline-block;}"}),K=(0,_.Z)("div",{target:"egtinxr3",label:"PlatformList"})("display:grid;grid-gap:",(0,z.Z)(1),";grid-template-columns:repeat(auto-fill,112px);margin-bottom:",(0,z.Z)(2),";"),$=(0,_.Z)(O.v,{target:"egtinxr4",label:"StyledPlatformIcon"})("margin:",(0,z.Z)(2),";"),J=(0,_.Z)(k.ZP,{target:"egtinxr5",label:"ClearButton"})("position:absolute;top:-6px;right:-6px;height:22px;width:22px;display:flex;align-items:center;justify-content:center;border-radius:50%;background:",(function(t){return t.theme.background}),";color:",(function(t){return t.theme.textColor}),";");J.defaultProps={icon:(0,B.tZ)(N.bM,{isCircled:!0,size:"xs"}),borderless:!0,size:"xsmall"};var Q=(0,_.Z)((function(t){var e=t.platform,n=t.selected,r=t.onClear,o=l()(t,["platform","selected","onClear"]);return(0,B.tZ)("div",o,(0,B.tZ)($,{platform:e.id,size:56,radius:5,withLanguageIcon:!0,format:"lg"}),(0,B.tZ)("h3",null,e.name),n&&(0,B.tZ)(J,{onClick:r}))}),{target:"egtinxr6",label:"PlatformCard"})("position:relative;display:flex;flex-direction:column;align-items:center;padding:0 0 14px;border-radius:4px;cursor:pointer;background:",(function(t){return t.selected&&"#ecf5fd"}),";&:hover{background:#ebebef;}h3{flex-grow:1;display:flex;align-items:center;justify-content:center;width:100%;color:",(function(t){return t.theme.subText}),";text-align:center;font-size:",(function(t){return t.theme.fontSizeExtraSmall}),";text-transform:uppercase;margin:0;padding:0 ",(0,z.Z)(.5),";line-height:1.2;}");const X=G},"./app/utils/slugify.tsx":(t,e,n)=>{"use strict";function r(t){return"string"==typeof t?t.toLowerCase().replace(" ","-"):""}n.d(e,{Z:()=>r})},"./app/utils/withTeams.tsx":(t,e,n)=>{"use strict";n.d(e,{Z:()=>d});var r=n("../../../../node_modules/@babel/runtime/helpers/extends.js"),o=n.n(r),a=(n("../../../../node_modules/react/index.js"),n("../../../../node_modules/create-react-class/index.js")),s=n.n(a),i=n("../../../../node_modules/reflux/src/index.js"),l=n.n(i),c=n("./app/stores/teamStore.tsx"),u=n("./app/utils/getDisplayName.tsx"),p=n("../../../../node_modules/@emotion/core/dist/core.browser.esm.js");const d=function(t){return s()({displayName:"withTeams(".concat((0,u.Z)(t),")"),mixins:[l().listenTo(c.Z,"onTeamUpdate")],getInitialState:function(){return{teams:c.Z.getAll()}},onTeamUpdate:function(){this.setState({teams:c.Z.getAll()})},render:function(){return(0,p.tZ)(t,o()({},this.props,{teams:this.state.teams}))}})}},"./app/views/projectInstall/newProject.tsx":(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>It});var r,o,a,s=n("../../../../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),i=n("../../../../node_modules/react/index.js"),l=n("../../../../node_modules/react-document-title/index.js"),c=n.n(l),u=n("./app/styles/space.tsx"),p=n("../../../../node_modules/@babel/runtime/helpers/defineProperty.js"),d=n.n(p),m=n("../../../../node_modules/@babel/runtime/regenerator/index.js"),f=n.n(m),h=n("../../../../node_modules/@babel/runtime/helpers/asyncToGenerator.js"),g=n.n(h),v=n("../../../../node_modules/@babel/runtime/helpers/classCallCheck.js"),y=n.n(v),b=n("../../../../node_modules/@babel/runtime/helpers/createClass.js"),x=n.n(b),Z=n("../../../../node_modules/@babel/runtime/helpers/inherits.js"),S=n.n(Z),j=n("../../../../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),C=n.n(j),_=n("../../../../node_modules/@babel/runtime/helpers/getPrototypeOf.js"),E=n.n(_),P=n("../../../../node_modules/react-router/es/index.js"),R=n("../../../../node_modules/@sentry/minimal/esm/index.js"),w=n("../../../../node_modules/emotion-theming/dist/emotion-theming.browser.esm.js"),O=n("../../../../node_modules/platformicons/build/index.js"),k=n("../../../../node_modules/prop-types/index.js"),A=n.n(k),T=n("./app/actionCreators/modal.tsx"),I=n("./app/actions/projectActions.tsx"),L=n("./app/components/alert.tsx"),q=n("./app/components/button.tsx"),N=n("./app/components/forms/selectControl.tsx"),D=n("./app/components/pageHeading.tsx"),U=n("./app/components/platformPicker.tsx"),z=n("./app/components/tooltip.tsx"),F=n("./app/data/platformCategories.tsx"),M=n("./app/icons/index.tsx"),B=n("./app/locale.tsx"),W=n("./app/styles/input.tsx"),G=n("./app/utils/analytics.tsx"),H=n("./app/utils/getPlatformName.tsx"),V=n("./app/utils/slugify.tsx"),Y=n("./app/utils/withApi.tsx"),K=n("./app/utils/withOrganization.tsx"),$=n("./app/utils/withTeams.tsx"),J=n("../../../../node_modules/@babel/runtime/helpers/slicedToArray.js"),Q=n.n(J),X=n("../../../../node_modules/@babel/runtime/helpers/get.js"),tt=n.n(X),et=n("../../../../node_modules/lodash/isEqual.js"),nt=n.n(et),rt=n("./app/components/asyncComponent.tsx"),ot=n("./app/views/settings/components/forms/controls/input.tsx"),at=n("./app/views/settings/components/forms/controls/radioGroup.tsx"),st=n("../../../../node_modules/@emotion/core/dist/core.browser.esm.js");function it(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function lt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?it(Object(n),!0).forEach((function(e){d()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}!function(t){t[t.ERRORS=0]="ERRORS",t[t.USERS=1]="USERS"}(o||(o={})),function(t){t[t.ALERT_ON_EVERY_ISSUE=0]="ALERT_ON_EVERY_ISSUE",t[t.CUSTOMIZED_ALERTS=1]="CUSTOMIZED_ALERTS",t[t.CREATE_ALERT_LATER=2]="CREATE_ALERT_LATER"}(a||(a={}));var ct="sentry.rules.conditions.event_frequency.EventUniqueUserFrequencyCondition",ut="sentry.rules.conditions.event_frequency.EventFrequencyCondition",pt=(r={},d()(r,o.ERRORS,ut),d()(r,o.USERS,ct),r);function dt(t,e,n){var r;switch(e){case o.ERRORS:r=ut;break;case o.USERS:r=ct;break;default:throw new RangeError("Supplied metric value is not handled")}return{interval:t,id:r,value:n}}var mt=function(t){S()(s,t);var e,n,r=(e=s,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=E()(e);if(n){var o=E()(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return C()(this,t)});function s(){return y()(this,s),r.apply(this,arguments)}return x()(s,[{key:"getDefaultState",value:function(){return lt(lt({},tt()(E()(s.prototype),"getDefaultState",this).call(this)),{},{conditions:[],intervalChoices:[],alertSetting:a.CREATE_ALERT_LATER.toString(),metric:o.ERRORS,interval:"",threshold:""})}},{key:"getAvailableMetricChoices",value:function(){var t=this;return[[o.ERRORS,(0,B.t)("occurrences of")],[o.USERS,(0,B.t)("users affected by")]].filter((function(e){var n,r,o=Q()(e,1)[0];return null===(n=t.state.conditions)||void 0===n||null===(r=n.some)||void 0===r?void 0:r.call(n,(function(t){return(null==t?void 0:t.id)===pt[o]}))}))}},{key:"getIssueAlertsChoices",value:function(t){var e=this,n=[[a.CREATE_ALERT_LATER.toString(),(0,B.t)("I'll create my own alerts later")],[a.ALERT_ON_EVERY_ISSUE.toString(),(0,B.t)("Alert me on every new issue")]];return t&&n.push([a.CUSTOMIZED_ALERTS.toString(),(0,st.tZ)(ht,{key:a.CUSTOMIZED_ALERTS,onClick:function(t){t.preventDefault();var n=a.CUSTOMIZED_ALERTS.toString();e.setStateAndUpdateParents({alertSetting:n})}},(0,B.t)("When there are more than"),(0,st.tZ)(gt,{type:"number",min:"0",name:"",placeholder:"10",value:this.state.threshold,onChange:function(t){return e.setStateAndUpdateParents({threshold:t.target.value})},"data-test-id":"range-input"}),(0,st.tZ)(vt,{value:this.state.metric,choices:this.getAvailableMetricChoices(),onChange:function(t){return e.setStateAndUpdateParents({metric:t.value})},"data-test-id":"metric-select-control"}),(0,B.t)("a unique error in"),(0,st.tZ)(vt,{value:this.state.interval,choices:this.state.intervalChoices,onChange:function(t){return e.setStateAndUpdateParents({interval:t.value})},"data-test-id":"interval-select-control"}))]),n.map((function(t){var e=Q()(t,2),n=e[0],r=e[1];return[n,(0,st.tZ)(xt,{key:n},r)]}))}},{key:"getUpdatedData",value:function(){var t,e;switch(parseInt(this.state.alertSetting,10)){case a.ALERT_ON_EVERY_ISSUE:t=!0,e=!1;break;case a.CREATE_ALERT_LATER:t=!1,e=!1;break;case a.CUSTOMIZED_ALERTS:t=!1,e=!0;break;default:throw new RangeError("Supplied alert creation action is not handled")}return{defaultRules:t,shouldCreateCustomRule:e,name:"Send a notification for new issues",conditions:this.state.interval.length>0&&this.state.threshold.length>0?[dt(this.state.interval,this.state.metric,this.state.threshold)]:void 0,actions:[{id:"sentry.rules.actions.notify_event.NotifyEventAction"}],actionMatch:"all",frequency:5}}},{key:"setStateAndUpdateParents",value:function(t,e){var n=this;this.setState(t,(function(){null==e||e(),n.props.onChange(n.getUpdatedData())}))}},{key:"getEndpoints",value:function(){return[["conditions","/projects/".concat(this.props.organization.slug,"/rule-conditions/")]]}},{key:"onLoadAllEndpointsSuccess",value:function(){var t,e,n=this,r=null===(t=this.state.conditions)||void 0===t||null===(e=t.filter)||void 0===e?void 0:e.call(t,(function(t){return Object.values(pt).includes(null==t?void 0:t.id)}));if(r&&0!==r.length){var o=function(t){var e,n=t.map((function(t){var e,n;return null===(e=t.formFields)||void 0===e||null===(n=e.interval)||void 0===n?void 0:n.choices})).reduce((function(t,e){return t&&e&&nt()(t,e)?t:null}));return{intervalChoices:n,interval:null==n||null===(e=n[0])||void 0===e?void 0:e[0]}}(r),a=o.intervalChoices,s=o.interval;if(!a||!s)return R.$e((function(t){t.setExtra("props",n.props),t.setExtra("state",n.state),R.Tb(new Error("Interval choices or sent from API endpoint is inconsistent or empty"))})),void this.setStateAndUpdateParents({conditions:void 0});this.setStateAndUpdateParents({conditions:r,intervalChoices:a,interval:s})}else this.setStateAndUpdateParents({conditions:void 0})}},{key:"renderBody",value:function(){var t,e=this,n=this.getIssueAlertsChoices((null===(t=this.state.conditions)||void 0===t?void 0:t.length)>0);return(0,st.tZ)(i.Fragment,null,(0,st.tZ)(bt,{withMargins:!0},(0,B.t)("Set your default alert settings")),(0,st.tZ)(yt,{choices:n,label:(0,B.t)("Options for creating an alert"),onChange:function(t){return e.setStateAndUpdateParents({alertSetting:t})},value:this.state.alertSetting}))}}]),s}(rt.Z);const ft=(0,K.Z)(mt);var ht=(0,s.Z)("div",{target:"e1qe7eqq0",label:"CustomizeAlertsGrid"})("display:grid;grid-template-columns:repeat(5,max-content);grid-gap:",(0,u.Z)(1),";align-items:center;"),gt=(0,s.Z)(ot.Z,{target:"e1qe7eqq1",label:"InlineInput"})({name:"1jgxixz",styles:"width:80px;"}),vt=(0,s.Z)(N.Z,{target:"e1qe7eqq2",label:"InlineSelectControl"})({name:"u4ybgy",styles:"width:160px;"}),yt=(0,s.Z)(at.Z,{target:"e1qe7eqq3",label:"RadioGroupWithPadding"})("padding:",(0,u.Z)(3)," 0;margin-bottom:50px;box-shadow:0 -1px 0 rgba(0,0,0,0.1);"),bt=(0,s.Z)(D.Z,{target:"e1qe7eqq4",label:"PageHeadingWithTopMargins"})({name:"ds07z6",styles:"margin-top:65px;"}),xt=(0,s.Z)("div",{target:"e1qe7eqq5",label:"RadioItemWrapper"})({name:"48pngw",styles:"min-height:35px;display:flex;flex-direction:column;justify-content:center;"});function Zt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function St(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Zt(Object(n),!0).forEach((function(e){d()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var jt=function(t){S()(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=E()(e);if(n){var o=E()(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return C()(this,t)});function o(t){var e;y()(this,o);for(var n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];(e=r.call.apply(r,[this,t].concat(a))).createProject=function(){var t=g()(f().mark((function t(n){var r,o,a,s,i,l,c,u,p,d,m,h,g,v,y,b,x,Z,S,j,C,_;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),r=e.props,o=r.organization,a=r.api,s=e.state,i=s.projectName,l=s.platform,c=s.team,u=s.dataFragment,p=o.slug,m=(d=u||{}).shouldCreateCustomRule,h=d.name,g=d.conditions,v=d.actions,y=d.actionMatch,b=d.frequency,x=d.defaultRules,e.setState({inFlight:!0}),i||R.$e((function(t){t.setExtra("props",e.props),t.setExtra("state",e.state),R.uT("No project name")})),t.prev=7,t.next=10,a.requestPromise("/teams/".concat(p,"/").concat(c,"/projects/"),{method:"POST",data:{name:i,platform:l,default_rules:null==x||x}});case 10:if(Z=t.sent,!m){t.next=16;break}return t.next=14,a.requestPromise("/projects/".concat(o.slug,"/").concat(Z.slug,"/rules/"),{method:"POST",data:{name:h,conditions:g,actions:v,actionMatch:y,frequency:b}});case 14:j=t.sent,S=j.id;case 16:e.trackIssueAlertOptionSelectedEvent(Z,x,m,S),I.Z.createSuccess(Z),C=l||"other",_="/".concat(o.slug,"/").concat(Z.slug,"/getting-started/").concat(C,"/"),P.browserHistory.push(_),t.next=27;break;case 23:t.prev=23,t.t0=t.catch(7),e.setState({inFlight:!1,error:t.t0.responseJSON.detail}),403!==t.t0.status&&409!==t.t0.status&&R.$e((function(n){n.setExtra("err",t.t0),n.setExtra("props",e.props),n.setExtra("state",e.state),R.uT("Project creation failed")}));case 27:case"end":return t.stop()}}),t,null,[[7,23]])})));return function(e){return t.apply(this,arguments)}}(),e.setPlatform=function(t){return e.setState((function(e){var n=e.projectName,r=e.platform;return{platform:t,projectName:!n||r&&(0,H.Z)(r)===n?(0,H.Z)(t)||"":n}}))};var i=e.context.location.query,l=t.organization.teams,c=l.filter((function(t){return t.hasAccess})),u=i.team||c.length&&c[0].slug,p=(0,H.Z)(i.platform)?i.platform:"";return e.state={error:!1,projectName:(0,H.Z)(p)||"",team:u,platform:p,inFlight:!1,dataFragment:void 0},e}return x()(o,[{key:"defaultCategory",get:function(){var t,e,n=this.context.location.query;return t=n.category,null===(e=F.ZP.find((function(e){return e.id===t})))||void 0===e?void 0:e.id}},{key:"renderProjectForm",value:function(){var t=this,e=this.props,n=e.theme,r=e.organization,o=this.state,a=o.projectName,s=o.platform,l=o.team,c=this.props.teams.filter((function(t){return t.hasAccess})),u=(0,st.tZ)(_t,{onSubmit:this.createProject},(0,st.tZ)("div",null,(0,st.tZ)(Et,null,(0,B.t)("Project name")),(0,st.tZ)(Rt,{theme:n},(0,st.tZ)(Pt,{platform:null!=s?s:""}),(0,st.tZ)("input",{type:"text",name:"name",placeholder:(0,B.t)("Project name"),autoComplete:"off",value:a,onChange:function(e){return t.setState({projectName:(0,V.Z)(e.target.value)})}}))),(0,st.tZ)("div",null,(0,st.tZ)(Et,null,(0,B.t)("Team")),(0,st.tZ)(wt,null,(0,st.tZ)(N.Z,{name:"select-team",clearable:!1,value:l,placeholder:(0,B.t)("Select a Team"),onChange:function(e){return t.setState({team:e.value})},options:c.map((function(t){var e=t.slug;return{label:"#".concat(e),value:e}}))}),(0,st.tZ)(z.Z,{title:(0,B.t)("Create a team")},(0,st.tZ)(q.ZP,{borderless:!0,"data-test-id":"create-team",type:"button",icon:(0,st.tZ)(M.N_,{isCircled:!0}),onClick:function(){return(0,T.openCreateTeamModal)({organization:r,onClose:function(e){var n=e.slug;return t.setState({team:n})}})}})))),(0,st.tZ)("div",null,(0,st.tZ)(q.ZP,{"data-test-id":"create-project",priority:"primary",disabled:!this.canSubmitForm},(0,B.t)("Create Project"))));return(0,st.tZ)(i.Fragment,null,(0,st.tZ)(D.Z,{withMargins:!0},(0,B.t)("Give your project a name")),u)}},{key:"canSubmitForm",get:function(){var t,e=this.state,n=e.projectName,r=e.team,o=e.inFlight,a=this.state.dataFragment||{},s=a.shouldCreateCustomRule,i=a.conditions;return!o&&r&&""!==n&&(!s||(null==i||null===(t=i.every)||void 0===t?void 0:t.call(i,(function(t){return t.value}))))}},{key:"trackIssueAlertOptionSelectedEvent",value:function(t,e,n,r){var o={eventKey:"new_project.alert_rule_selected",eventName:"New Project Alert Rule Selected",organization_id:this.props.organization.id,project_id:t.id,rule_type:e?"Default":n?"Custom":"No Rule"};void 0!==r&&(o=St(St({},o),{},{custom_rule_id:r})),(0,G.ec)(o)}},{key:"render",value:function(){var t=this,e=this.state,n=e.platform,r=e.error;return(0,st.tZ)(i.Fragment,null,r&&(0,st.tZ)(L.Z,{type:"error"},r),(0,st.tZ)("div",{"data-test-id":"onboarding-info"},(0,st.tZ)(D.Z,{withMargins:!0},(0,B.t)("Create a new Project")),(0,st.tZ)(Ot,null,(0,B.t)("Projects allow you to scope error and transaction events to a specific\n               application in your organization. For example, you might have separate\n               projects for your API server and frontend client.")),(0,st.tZ)(D.Z,{withMargins:!0},(0,B.t)("Choose a platform")),(0,st.tZ)(U.Z,{platform:n,defaultCategory:this.defaultCategory,setPlatform:this.setPlatform,showOther:!0}),(0,st.tZ)(ft,{onChange:function(e){t.setState({dataFragment:e})}}),this.renderProjectForm()))}}]),o}(i.Component);jt.displayName="CreateProject",jt.contextTypes={location:A().object};const Ct=(0,Y.Z)((0,K.Z)((0,$.Z)((0,w.Zz)(jt))));var _t=(0,s.Z)("form",{target:"e1dbvzcu0",label:"CreateProjectForm"})("display:grid;grid-template-columns:300px 250px max-content;grid-gap:",(0,u.Z)(2),";align-items:end;padding:",(0,u.Z)(3)," 0;box-shadow:0 -1px 0 rgba(0,0,0,0.1);background:",(function(t){return t.theme.background}),";"),Et=(0,s.Z)("div",{target:"e1dbvzcu1",label:"FormLabel"})("font-size:",(function(t){return t.theme.fontSizeExtraLarge}),";margin-bottom:",(0,u.Z)(1),";"),Pt=(0,s.Z)(O.v,{target:"e1dbvzcu2",label:"StyledPlatformIcon"})("margin-right:",(0,u.Z)(1),";"),Rt=(0,s.Z)("div",{target:"e1dbvzcu3",label:"ProjectNameInput"})(W.T,";padding:5px 10px;display:flex;align-items:center;input{border:0;outline:0;flex:1;}"),wt=(0,s.Z)("div",{target:"e1dbvzcu4",label:"TeamSelectInput"})({name:"1ds0se9",styles:"display:grid;grid-template-columns:1fr min-content;align-items:center;"}),Ot=(0,s.Z)("p",{target:"e1dbvzcu5",label:"HelpText"})("color:",(function(t){return t.theme.subText}),";max-width:760px;"),kt=function(){return(0,st.tZ)(At,null,(0,st.tZ)("div",{className:"container"},(0,st.tZ)(Tt,null,(0,st.tZ)(c(),{title:"Sentry"}),(0,st.tZ)(Ct,null))))};kt.displayName="NewProject";var At=(0,s.Z)("div",{target:"etxg2nh0",label:"Container"})("flex:1;background:",(function(t){return t.theme.background}),";margin-bottom:-",(0,u.Z)(3),";"),Tt=(0,s.Z)("div",{target:"etxg2nh1",label:"Content"})("margin-top:",(0,u.Z)(3),";");const It=kt}}]);
//# sourceMappingURL=NewProject.js.map