(self.webpackChunksn_jupyterlab_grading=self.webpackChunksn_jupyterlab_grading||[]).push([[568],{568:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ButtonExtension:()=>n,default:()=>r});var o=a(129),s=a(441);class n{createNew(e,t){const a=new URLSearchParams(window.location.search),n=new URLSearchParams(window.location.search).get("d"),r="https://"+n+"/lti/results",l=a.get("t");let c=()=>{if(confirm('By clicking on "OK" I certify that I have successfully completed this lab exercise'))try{let e=new XMLHttpRequest;e.open("PUT",r,!0),e.setRequestHeader("Authorization","Bearer "+l),e.setRequestHeader("Content-Type","application/json"),e.onload=function(){let t=JSON.parse(e.responseText);200==e.status?(console.log(t),alert("Lab Completed")):alert("An error occured")},e.send("{}")}catch(e){console.log(e),alert("An error occured")}else console.log("Canceled")};if(l&&n){let t=new s.ToolbarButton({className:"myButton",label:"Mark this Lab as Complete",onClick:c,tooltip:"Mark this Lab as Complete"});return e.toolbar.insertItem(9,"runAll",t),new o.DisposableDelegate((()=>{t.dispose()}))}}}const r={id:"jupyterlab-grading",autoStart:!0,activate:e=>{e.docRegistry.addWidgetExtension("Notebook",new n)}}}}]);