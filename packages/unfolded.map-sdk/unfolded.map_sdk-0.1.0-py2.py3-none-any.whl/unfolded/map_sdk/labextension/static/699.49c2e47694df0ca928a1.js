(self.webpackChunk_unfolded_jupyter_map_sdk=self.webpackChunk_unfolded_jupyter_map_sdk||[]).push([[699],{385:(e,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.IframeClientTransport=void 0;n.IframeClientTransport=class{constructor(e){const n=e.url,t=e.id||"unfolded_iframe",i=e.appendToDocument,s=e.appendToId||"",a=e.width||400,I=e.height||250,T=e.embed||!1,r=e.onLoad,o=e.onTimelineIntervalChange,d=e.onLayerTimelineTimeChange;window.addEventListener("message",(e=>{!function(e,n,t,i,s,a,I){const T=JSON.parse(e.data);if("unfolded-sdk-server"===T.source){const e=T.type,r=T.data;switch(e){case"map-sdk-initialized-response":s&&s();break;case"map-sdk-timeline-interval-changed-response":a&&a(r);break;case"map-sdk-layer-animation-time-changed-response":I&&I(r);break;case"".concat(n,"-response"):t(r);break;case"".concat(n,"-error"):i(new Error(r.message));break;default:i(new Error(r.message))}}}(e,this.type,this.resolve,this.reject,r,o,d)})),this.iframe=document.createElement("iframe"),function(e,n,t,i,s,a,I,T){if(t&&(n+="/embed"),e.setAttribute("src",n),e.setAttribute("id",i),I&&(e.style.width="".concat(I,"px")),T&&(e.style.height="".concat(T,"px")),s)if(a&&document.getElementById(a)){const n=document.getElementById(a);n&&n.appendChild(e)}else document.body.appendChild(e)}(this.iframe,n,T,t,i,s,a,I)}sendMessage(e,n){const t=this.iframe;return new Promise(((i,s)=>{const a=function(e){const n=new Set;return JSON.stringify(e,(function(e,t){if("object"==typeof t&&null!==t){if(n.has(t))try{return JSON.parse(JSON.stringify(t))}catch(e){return}n.add(t)}return t}))}({type:e,source:"unfolded-sdk-client",data:n});t.contentWindow.postMessage(a,"*"),this.type=e,this.resolve=i,this.reject=s}))}}},699:(e,n,t)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getMapUrl=O,n.createMap=function({mapUUID:e,mapUrl:n,width:t,height:s,id:a,appendToDocument:I,appendToId:T,embed:r,onLoad:o,onTimelineIntervalChange:d,onLayerTimelineTimeChange:_}){return e&&(n=O(e)),new i.IframeClientTransport({url:n,width:t,height:s,id:a,appendToDocument:I,appendToId:T,embed:r,onLoad:o,onTimelineIntervalChange:d,onLayerTimelineTimeChange:_})},n.setViewState=function(e,n){return e.sendMessage(s,{viewState:n})},n.getLayers=function(e){return e.sendMessage(a,{})},n.setLayerVisibility=function(e,n,t){return e.sendMessage(I,{layerId:n,isVisible:t})},n.setTheme=function(e,n){return e.sendMessage(T,{theme:n})},n.getTimelineInfo=function(e,n){return e.sendMessage(r,{idx:n})},n.toggleTimelineAnimation=function(e,n){return e.sendMessage(o,{idx:n})},n.toggleTimelineVisibility=function(e,n){return e.sendMessage(d,{idx:n})},n.setTimelineInterval=function(e,n,t,i){return e.sendMessage(_,{idx:n,startTime:t,endTime:i})},n.setTimelineAnimationSpeed=function(e,n,t){return e.sendMessage(E,{idx:n,speed:t})},n.setTimelineConfig=function(e,n){return e.sendMessage(c,{config:n})},n.refreshMapData=function(e){return e.sendMessage(m,{})},n.getLayerTimelineInfo=function(e){return e.sendMessage(l,{})},n.setLayerTimelineConfig=function(e,n){return e.sendMessage(p,{config:n})},n.setMapControlVisibility=function(e,n){return e.sendMessage(u,{config:n})},n._addTileset=function(e,n){return e.sendMessage(S,{tileset:n})},n.STUDIO_ADD_TILESET_TO_MAP=n.STUDIO_SET_MAP_CONTROL_VISIBILITY=n.STUDIO_SET_LAYER_TIMELINE_CONFIG=n.STUDIO_LAYER_ANIMATION_TIME_CHANGED=n.STUDIO_GET_LAYER_TIMELINE_INFO=n.STUDIO_REFRESH_MAP_DATA=n.STUDIO_SET_TIMELINE_CONFIG=n.STUDIO_SET_TIMELINE_SPEED=n.STUDIO_TIMELINE_INTERVAL_CHANGED=n.STUDIO_SET_TIMELINE_INTERVAL=n.STUDIO_TOGGLE_TIMELINE_VISIBILITY=n.STUDIO_TOGGLE_TIMELINE_ANIMATION=n.STUDIO_GET_TIMELINE_INFO=n.STUDIO_MAP_INITIALIZED=n.STUDIO_SET_THEME=n.STUDIO_SET_LAYER_VISIBILITY=n.STUDIO_GET_LAYERS=n.STUDIO_SET_VIEW_STATE=void 0;var i=t(385);const s="map-sdk-set-view-state";n.STUDIO_SET_VIEW_STATE=s;const a="map-sdk-get-layers";n.STUDIO_GET_LAYERS=a;const I="map-sdk-set-layer-visibility";n.STUDIO_SET_LAYER_VISIBILITY=I;const T="map-sdk-set-theme";n.STUDIO_SET_THEME=T,n.STUDIO_MAP_INITIALIZED="map-sdk-initialized";const r="map-sdk-get-timeline-info";n.STUDIO_GET_TIMELINE_INFO=r;const o="map-sdk-toggle-timeline-animation";n.STUDIO_TOGGLE_TIMELINE_ANIMATION=o;const d="map-sdk-toggle-timeline-visibility";n.STUDIO_TOGGLE_TIMELINE_VISIBILITY=d;const _="map-sdk-set-timeline-interval";n.STUDIO_SET_TIMELINE_INTERVAL=_,n.STUDIO_TIMELINE_INTERVAL_CHANGED="map-sdk-timeline-interval-changed";const E="map-sdk-set-timeline-speed";n.STUDIO_SET_TIMELINE_SPEED=E;const c="map-sdk-set-timeline-config";n.STUDIO_SET_TIMELINE_CONFIG=c;const m="map-sdk-reload-map-data";n.STUDIO_REFRESH_MAP_DATA=m;const l="map-sdk-get-layer-timeline-info";n.STUDIO_GET_LAYER_TIMELINE_INFO=l,n.STUDIO_LAYER_ANIMATION_TIME_CHANGED="map-sdk-layer-animation-time-changed";const p="map-sdk-set-layer-timeline-config";n.STUDIO_SET_LAYER_TIMELINE_CONFIG=p;const u="map-sdk-set-map-control-visibility";n.STUDIO_SET_MAP_CONTROL_VISIBILITY=u;const S="map-sdk-add-tileset-top-map";function O(e){return"https://studio.unfolded.ai/public/".concat(e)}n.STUDIO_ADD_TILESET_TO_MAP=S}}]);