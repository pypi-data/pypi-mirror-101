[2021-04-01T11:05:28+0800] [WARNING] [root] [pid:51517] [middleware.py:81] Traceback (most recent call last):
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/core/handlers/base.py", line 113, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/ldap_account/views/access_domain.py", line 60, in save
    return super().save(request)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/framework/views.py", line 466, in save
    serializer, msg = self.save_instance(request)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/framework/views.py", line 455, in save_instance
    serializer.save(**kwargs)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/framework/serializer.py", line 220, in save
    super(BaseModelSerializer, self).save(**kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/serializers.py", line 200, in save
    self.instance = self.update(self.instance, validated_data)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/serializers.py", line 983, in update
    instance.save()
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/ldap_account/models.py", line 73, in save
    self.create_ldap_access_user()
AttributeError: 'AccessDomain' object has no attribute 'create_ldap_access_user'

[2021-04-01T11:05:28+0800] [ERROR] [django.request] [pid:51517] [log.py:228] Internal Server Error: /ldap_account/access_domain/save
[2021-04-01T11:05:52+0800] [WARNING] [root] [pid:51584] [middleware.py:81] Traceback (most recent call last):
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/core/handlers/base.py", line 113, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/ldap_account/views/access_domain.py", line 60, in save
    return super().save(request)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/framework/views.py", line 466, in save
    serializer, msg = self.save_instance(request)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/framework/views.py", line 455, in save_instance
    serializer.save(**kwargs)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/framework/serializer.py", line 220, in save
    super(BaseModelSerializer, self).save(**kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/serializers.py", line 200, in save
    self.instance = self.update(self.instance, validated_data)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/serializers.py", line 983, in update
    instance.save()
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/ldap_account/models.py", line 73, in save
    self.create_ldap_access_people()
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/ldap_account/models.py", line 87, in create_ldap_access_people
    self.create_people(self.get_ldap_access_people())
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/ldap_account/models.py", line 120, in create_people
    ldap_cn_str = cn_tpl.format(cn=user.username, sn=user.alias[0], uid=user.username, alias=user.alias,
IndexError: string index out of range

[2021-04-01T11:05:52+0800] [ERROR] [django.request] [pid:51584] [log.py:228] Internal Server Error: /ldap_account/access_domain/save
[2021-04-01T11:07:06+0800] [WARNING] [root] [pid:51599] [middleware.py:81] Traceback (most recent call last):
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/core/handlers/base.py", line 113, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/myadmin/views/role.py", line 95, in save
    serializer, msg = self.save_instance(request, role)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/framework/views.py", line 455, in save_instance
    serializer.save(**kwargs)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/framework/serializer.py", line 220, in save
    super(BaseModelSerializer, self).save(**kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/serializers.py", line 200, in save
    self.instance = self.update(self.instance, validated_data)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/serializers.py", line 983, in update
    instance.save()
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/myadmin/models/role.py", line 110, in save
    super(Role, self).save(*args, **kwargs)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/framework/models.py", line 305, in save
    return super(BaseModel, self).save(*args, **kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/models/base.py", line 749, in save
    force_update=force_update, update_fields=update_fields)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/models/base.py", line 798, in save_base
    update_fields=update_fields, raw=raw, using=using,
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/dispatch/dispatcher.py", line 175, in send
    for receiver in self._live_receivers(sender)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/dispatch/dispatcher.py", line 175, in <listcomp>
    for receiver in self._live_receivers(sender)
TypeError: role_save_ldap() missing 1 required positional argument: 'role'

[2021-04-01T11:07:06+0800] [ERROR] [django.request] [pid:51599] [log.py:228] Internal Server Error: /myadmin/role/save
[2021-04-01T11:09:57+0800] [WARNING] [root] [pid:51643] [middleware.py:81] Traceback (most recent call last):
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/core/handlers/base.py", line 113, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/myadmin/views/role.py", line 95, in save
    serializer, msg = self.save_instance(request, role)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/framework/views.py", line 455, in save_instance
    serializer.save(**kwargs)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/framework/serializer.py", line 220, in save
    super(BaseModelSerializer, self).save(**kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/serializers.py", line 200, in save
    self.instance = self.update(self.instance, validated_data)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/serializers.py", line 983, in update
    instance.save()
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/myadmin/models/role.py", line 110, in save
    super(Role, self).save(*args, **kwargs)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/framework/models.py", line 305, in save
    return super(BaseModel, self).save(*args, **kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/models/base.py", line 749, in save
    force_update=force_update, update_fields=update_fields)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/models/base.py", line 798, in save_base
    update_fields=update_fields, raw=raw, using=using,
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/dispatch/dispatcher.py", line 175, in send
    for receiver in self._live_receivers(sender)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/dispatch/dispatcher.py", line 175, in <listcomp>
    for receiver in self._live_receivers(sender)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/ldap_account/models.py", line 183, in role_save_ldap
    access_domain_list: typing.List[AccessDomain] = role.get_resource('access_domain')
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/myadmin/models/role.py", line 31, in get_resource
    resource_ids = self.resource.get(name=name).members
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/models/manager.py", line 82, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/models/query.py", line 417, in get
    self.model._meta.object_name
myadmin.models.resource.Resource.DoesNotExist: Resource matching query does not exist.

[2021-04-01T11:09:57+0800] [ERROR] [django.request] [pid:51643] [log.py:228] Internal Server Error: /myadmin/role/save
[2021-04-01T11:10:03+0800] [WARNING] [root] [pid:51643] [middleware.py:81] Traceback (most recent call last):
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/core/handlers/base.py", line 113, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/myadmin/views/role.py", line 95, in save
    serializer, msg = self.save_instance(request, role)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/framework/views.py", line 455, in save_instance
    serializer.save(**kwargs)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/framework/serializer.py", line 220, in save
    super(BaseModelSerializer, self).save(**kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/serializers.py", line 200, in save
    self.instance = self.update(self.instance, validated_data)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/serializers.py", line 983, in update
    instance.save()
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/myadmin/models/role.py", line 110, in save
    super(Role, self).save(*args, **kwargs)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/framework/models.py", line 305, in save
    return super(BaseModel, self).save(*args, **kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/models/base.py", line 749, in save
    force_update=force_update, update_fields=update_fields)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/models/base.py", line 798, in save_base
    update_fields=update_fields, raw=raw, using=using,
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/dispatch/dispatcher.py", line 175, in send
    for receiver in self._live_receivers(sender)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/dispatch/dispatcher.py", line 175, in <listcomp>
    for receiver in self._live_receivers(sender)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/ldap_account/models.py", line 183, in role_save_ldap
    access_domain_list: typing.List[AccessDomain] = role.get_resource('access_domain')
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/myadmin/models/role.py", line 31, in get_resource
    resource_ids = self.resource.get(name=name).members
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/models/manager.py", line 82, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/models/query.py", line 417, in get
    self.model._meta.object_name
myadmin.models.resource.Resource.DoesNotExist: Resource matching query does not exist.

[2021-04-01T11:10:03+0800] [ERROR] [django.request] [pid:51643] [log.py:228] Internal Server Error: /myadmin/role/save
[2021-04-01T11:10:33+0800] [WARNING] [root] [pid:51643] [middleware.py:81] Traceback (most recent call last):
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/core/handlers/base.py", line 113, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/myadmin/views/role.py", line 95, in save
    serializer, msg = self.save_instance(request, role)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/framework/views.py", line 455, in save_instance
    serializer.save(**kwargs)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/framework/serializer.py", line 220, in save
    super(BaseModelSerializer, self).save(**kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/serializers.py", line 200, in save
    self.instance = self.update(self.instance, validated_data)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/serializers.py", line 983, in update
    instance.save()
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/myadmin/models/role.py", line 110, in save
    super(Role, self).save(*args, **kwargs)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/framework/models.py", line 305, in save
    return super(BaseModel, self).save(*args, **kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/models/base.py", line 749, in save
    force_update=force_update, update_fields=update_fields)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/models/base.py", line 798, in save_base
    update_fields=update_fields, raw=raw, using=using,
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/dispatch/dispatcher.py", line 175, in send
    for receiver in self._live_receivers(sender)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/dispatch/dispatcher.py", line 175, in <listcomp>
    for receiver in self._live_receivers(sender)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/ldap_account/models.py", line 183, in role_save_ldap
    access_domain_list: typing.List[AccessDomain] = role.get_resource('access_domain')
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/myadmin/models/role.py", line 31, in get_resource
    resource_ids = self.resource.get(name=name).members
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/models/manager.py", line 82, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/models/query.py", line 417, in get
    self.model._meta.object_name
myadmin.models.resource.Resource.DoesNotExist: Resource matching query does not exist.

[2021-04-01T11:10:33+0800] [ERROR] [django.request] [pid:51643] [log.py:228] Internal Server Error: /myadmin/role/save
[2021-04-01T11:18:20+0800] [WARNING] [root] [pid:51773] [middleware.py:81] Traceback (most recent call last):
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/core/handlers/base.py", line 113, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/myadmin/views/role.py", line 95, in save
    serializer, msg = self.save_instance(request, role)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/framework/views.py", line 455, in save_instance
    serializer.save(**kwargs)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/framework/serializer.py", line 220, in save
    super(BaseModelSerializer, self).save(**kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/serializers.py", line 200, in save
    self.instance = self.update(self.instance, validated_data)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/serializers.py", line 983, in update
    instance.save()
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/myadmin/models/role.py", line 114, in save
    super(Role, self).save(*args, **kwargs)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/framework/models.py", line 305, in save
    return super(BaseModel, self).save(*args, **kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/models/base.py", line 749, in save
    force_update=force_update, update_fields=update_fields)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/models/base.py", line 798, in save_base
    update_fields=update_fields, raw=raw, using=using,
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/dispatch/dispatcher.py", line 175, in send
    for receiver in self._live_receivers(sender)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/dispatch/dispatcher.py", line 175, in <listcomp>
    for receiver in self._live_receivers(sender)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/ldap_account/models.py", line 183, in role_save_ldap
    access_domain_list: typing.List[AccessDomain] = role.get_resource('access_domain')
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/myadmin/models/role.py", line 35, in get_resource
    resource_ids = self.get_resource_model().members
TypeError: get_resource_model() missing 1 required positional argument: 'name'

[2021-04-01T11:18:20+0800] [ERROR] [django.request] [pid:51773] [log.py:228] Internal Server Error: /myadmin/role/save
[2021-04-01T11:18:57+0800] [WARNING] [root] [pid:51794] [middleware.py:81] Traceback (most recent call last):
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/core/handlers/base.py", line 113, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/myadmin/views/role.py", line 95, in save
    serializer, msg = self.save_instance(request, role)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/framework/views.py", line 455, in save_instance
    serializer.save(**kwargs)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/framework/serializer.py", line 220, in save
    super(BaseModelSerializer, self).save(**kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/serializers.py", line 200, in save
    self.instance = self.update(self.instance, validated_data)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/serializers.py", line 983, in update
    instance.save()
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/myadmin/models/role.py", line 114, in save
    super(Role, self).save(*args, **kwargs)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/framework/models.py", line 305, in save
    return super(BaseModel, self).save(*args, **kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/models/base.py", line 749, in save
    force_update=force_update, update_fields=update_fields)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/models/base.py", line 798, in save_base
    update_fields=update_fields, raw=raw, using=using,
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/dispatch/dispatcher.py", line 175, in send
    for receiver in self._live_receivers(sender)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/dispatch/dispatcher.py", line 175, in <listcomp>
    for receiver in self._live_receivers(sender)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/ldap_account/models.py", line 183, in role_save_ldap
    access_domain_list: typing.List[AccessDomain] = role.get_resource('access_domain')
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/myadmin/models/role.py", line 35, in get_resource
    resource_ids = self.get_resource_model().members
TypeError: get_resource_model() missing 1 required positional argument: 'name'

[2021-04-01T11:18:57+0800] [ERROR] [django.request] [pid:51794] [log.py:228] Internal Server Error: /myadmin/role/save
[2021-04-01T11:34:47+0800] [WARNING] [root] [pid:52080] [middleware.py:81] Traceback (most recent call last):
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/backends/utils.py", line 86, in _execute
    return self.cursor.execute(sql, params)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/backends/mysql/base.py", line 74, in execute
    return self.cursor.execute(query, args)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/pymysql/cursors.py", line 148, in execute
    result = self._query(query)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/pymysql/cursors.py", line 310, in _query
    conn.query(q)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/pymysql/connections.py", line 548, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/pymysql/connections.py", line 775, in _read_query_result
    result.read()
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/pymysql/connections.py", line 1156, in read
    first_packet = self.connection._read_packet()
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/pymysql/connections.py", line 725, in _read_packet
    packet.raise_for_error()
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/pymysql/protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/pymysql/err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.OperationalError: (1054, "Unknown column 'ldap_account_accessdomain.status' in 'field list'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/core/handlers/base.py", line 113, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/myadmin/views/role.py", line 95, in save
    serializer, msg = self.save_instance(request, role)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/framework/views.py", line 455, in save_instance
    serializer.save(**kwargs)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/framework/serializer.py", line 220, in save
    super(BaseModelSerializer, self).save(**kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/serializers.py", line 200, in save
    self.instance = self.update(self.instance, validated_data)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/serializers.py", line 983, in update
    instance.save()
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/myadmin/models/role.py", line 114, in save
    super(Role, self).save(*args, **kwargs)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/framework/models.py", line 305, in save
    return super(BaseModel, self).save(*args, **kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/models/base.py", line 749, in save
    force_update=force_update, update_fields=update_fields)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/models/base.py", line 798, in save_base
    update_fields=update_fields, raw=raw, using=using,
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/dispatch/dispatcher.py", line 175, in send
    for receiver in self._live_receivers(sender)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/dispatch/dispatcher.py", line 175, in <listcomp>
    for receiver in self._live_receivers(sender)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/ldap_account/models.py", line 195, in role_save_ldap
    for access_domain in access_domain_list:
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/models/query.py", line 276, in __iter__
    self._fetch_all()
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/models/query.py", line 1261, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/models/query.py", line 57, in __iter__
    results = compiler.execute_sql(chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/models/sql/compiler.py", line 1154, in execute_sql
    cursor.execute(sql, params)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/backends/utils.py", line 100, in execute
    return super().execute(sql, params)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/backends/utils.py", line 68, in execute
    return self._execute_with_wrappers(sql, params, many=False, executor=self._execute)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/backends/utils.py", line 77, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/backends/utils.py", line 86, in _execute
    return self.cursor.execute(sql, params)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/utils.py", line 90, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/backends/utils.py", line 86, in _execute
    return self.cursor.execute(sql, params)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/backends/mysql/base.py", line 74, in execute
    return self.cursor.execute(query, args)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/pymysql/cursors.py", line 148, in execute
    result = self._query(query)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/pymysql/cursors.py", line 310, in _query
    conn.query(q)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/pymysql/connections.py", line 548, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/pymysql/connections.py", line 775, in _read_query_result
    result.read()
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/pymysql/connections.py", line 1156, in read
    first_packet = self.connection._read_packet()
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/pymysql/connections.py", line 725, in _read_packet
    packet.raise_for_error()
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/pymysql/protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/pymysql/err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
django.db.utils.OperationalError: (1054, "Unknown column 'ldap_account_accessdomain.status' in 'field list'")

[2021-04-01T11:34:47+0800] [ERROR] [django.request] [pid:52080] [log.py:228] Internal Server Error: /myadmin/role/save
[2021-04-01T12:53:29+0800] [WARNING] [root] [pid:53371] [middleware.py:81] Traceback (most recent call last):
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/core/handlers/base.py", line 113, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/myadmin/views/role.py", line 110, in save
    role.user_set.set(*params.members)
TypeError: set() takes 2 positional arguments but 3 were given

[2021-04-01T12:53:29+0800] [ERROR] [django.request] [pid:53371] [log.py:228] Internal Server Error: /myadmin/role/save
[2021-04-01T13:00:35+0800] [WARNING] [root] [pid:53504] [middleware.py:81] Traceback (most recent call last):
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/core/handlers/base.py", line 113, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/myadmin/views/role.py", line 110, in save
    role.user_set.set(params.members)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/models/fields/related_descriptors.py", line 986, in set
    objs = tuple(objs)
TypeError: 'NoneType' object is not iterable

[2021-04-01T13:00:35+0800] [ERROR] [django.request] [pid:53504] [log.py:228] Internal Server Error: /myadmin/role/save
[2021-04-01T13:07:35+0800] [WARNING] [root] [pid:53514] [middleware.py:81] Traceback (most recent call last):
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/core/handlers/base.py", line 113, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/myadmin/views/user.py", line 72, in save
    serializer, msg = self.save_instance(request, user_model)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/framework/views.py", line 455, in save_instance
    serializer.save(**kwargs)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/framework/serializer.py", line 220, in save
    super(BaseModelSerializer, self).save(**kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/serializers.py", line 200, in save
    self.instance = self.update(self.instance, validated_data)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/serializers.py", line 990, in update
    field.set(value)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/models/fields/related_descriptors.py", line 1008, in set
    self.add(*new_objs, through_defaults=through_defaults)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/models/fields/related_descriptors.py", line 946, in add
    through_defaults=through_defaults,
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/models/fields/related_descriptors.py", line 1156, in _add_items
    model=self.model, pk_set=missing_target_ids, using=db,
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/dispatch/dispatcher.py", line 175, in send
    for receiver in self._live_receivers(sender)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/dispatch/dispatcher.py", line 175, in <listcomp>
    for receiver in self._live_receivers(sender)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/ldap_account/models.py", line 233, in user_add_role_ldap
    role_save_ldap(sender, instance)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/ldap_account/models.py", line 197, in role_save_ldap
    if role.type == Role.RoleType.GROUP and access_domain.id in access_domain_list:
AttributeError: 'User' object has no attribute 'type'

[2021-04-01T13:07:35+0800] [ERROR] [django.request] [pid:53514] [log.py:228] Internal Server Error: /myadmin/user/save
[2021-04-01T13:19:31+0800] [WARNING] [root] [pid:53826] [middleware.py:81] Traceback (most recent call last):
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/asgiref/sync.py", line 208, in main_wrap
    raise exc_info[1]
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/models/query.py", line 559, in get_or_create
    return self.get(**kwargs), False
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/models/query.py", line 417, in get
    self.model._meta.object_name
myadmin.models.resource.Resource.DoesNotExist: Resource matching query does not exist.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/core/handlers/base.py", line 113, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/myadmin/views/role.py", line 102, in save
    role.create_resource(rsource_name, request.data.get(model_resource.id_field_lookup))
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/myadmin/models/role.py", line 48, in create_resource
    resource = self.get_resource_model(name)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/myadmin/models/role.py", line 21, in get_resource_model
    resource_model, created = Resource.objects.get_or_create(name=name, role_id=self.id)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/models/manager.py", line 82, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/models/query.py", line 562, in get_or_create
    return self._create_object_from_params(kwargs, params)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/models/query.py", line 596, in _create_object_from_params
    obj = self.create(**params)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/models/query.py", line 433, in create
    obj.save(force_insert=True, using=self.db)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/framework/models.py", line 305, in save
    return super(BaseModel, self).save(*args, **kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/models/base.py", line 749, in save
    force_update=force_update, update_fields=update_fields)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/models/base.py", line 798, in save_base
    update_fields=update_fields, raw=raw, using=using,
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/dispatch/dispatcher.py", line 175, in send
    for receiver in self._live_receivers(sender)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/dispatch/dispatcher.py", line 175, in <listcomp>
    for receiver in self._live_receivers(sender)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/ldap_account/models.py", line 227, in role_access_domain_resource_save
    role_save_ldap(sender, role)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/ldap_account/models.py", line 193, in role_save_ldap
    access_domain_list = role.get_resource('access_domain').values_list('id',flat=True)
AttributeError: 'NoneType' object has no attribute 'get_resource'

[2021-04-01T13:19:31+0800] [ERROR] [django.request] [pid:53826] [log.py:228] Internal Server Error: /myadmin/role/save
[2021-04-02T10:52:59+0800] [ERROR] [django.request] [pid:66096] [log.py:228] Internal Server Error: /myadmin/role/edit
Traceback (most recent call last):
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/core/handlers/exception.py", line 34, in inner
    response = get_response(request)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/core/handlers/base.py", line 106, in _get_response
    response = middleware_method(request, callback, callback_args, callback_kwargs)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/myadmin/middleware.py", line 80, in process_view
    user_menus = request.user.resource.menu.using('read')
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/myadmin/models/resource.py", line 310, in __getattr__
    return self.user_obj.get_resource(name)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/myadmin/models/user.py", line 128, in get_resource
    _r = self._get_resource(name)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/myadmin/models/user.py", line 133, in _get_resource
    return Resource.get_model_resource(name).get_resource_queryset(self)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/myadmin/models/resource.py", line 129, in get_resource_queryset
    return model_resource_class.objects.all()
AttributeError: 'NoneType' object has no attribute 'objects'
[2021-04-02T10:57:40+0800] [WARNING] [root] [pid:66217] [middleware.py:81] Traceback (most recent call last):
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/core/handlers/base.py", line 113, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/myadmin/views/role.py", line 82, in edit
    return render_to_response("myadmin/role/edit.html", self.response(serializer.data))
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/framework/serializer.py", line 115, in __getattribute__
    return super(ParamsSerializer, self).__getattribute__(key)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/framework/utils/cache.py", line 53, in __get__
    result = self.method(inst)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/framework/serializer.py", line 121, in data
    ret_data = super().data
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/serializers.py", line 548, in data
    ret = super().data
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/serializers.py", line 246, in data
    self._data = self.to_representation(self.instance)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/serializers.py", line 502, in to_representation
    attribute = field.get_attribute(instance)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/fields.py", line 457, in get_attribute
    return get_attribute(instance, self.source_attrs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/fields.py", line 97, in get_attribute
    instance = getattr(instance, attr)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/framework/utils/cache.py", line 53, in __get__
    result = self.method(inst)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/myadmin/models/role.py", line 105, in resource_ids
    resource_map[resource_name] = model_resource.get_role_resource([self])
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/myadmin/models/resource.py", line 152, in get_role_resource
    return model_resource_class.objects.filter(q).distinct()
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/models/manager.py", line 82, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/models/query.py", line 904, in filter
    return self._filter_or_exclude(False, *args, **kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/models/query.py", line 923, in _filter_or_exclude
    clone.query.add_q(Q(*args, **kwargs))
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/models/sql/query.py", line 1354, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/models/sql/query.py", line 1377, in _add_q
    check_filterable,
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/models/sql/query.py", line 1385, in _add_q
    check_filterable=check_filterable,
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/models/sql/query.py", line 1240, in build_filter
    raise FieldError("Cannot parse keyword query as dict")
django.core.exceptions.FieldError: Cannot parse keyword query as dict

[2021-04-02T10:57:41+0800] [ERROR] [django.request] [pid:66217] [log.py:228] Internal Server Error: /myadmin/role/edit
Traceback (most recent call last):
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/core/handlers/exception.py", line 34, in inner
    response = get_response(request)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/core/handlers/base.py", line 115, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/core/handlers/base.py", line 113, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/myadmin/views/role.py", line 82, in edit
    return render_to_response("myadmin/role/edit.html", self.response(serializer.data))
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/framework/serializer.py", line 115, in __getattribute__
    return super(ParamsSerializer, self).__getattribute__(key)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/framework/utils/cache.py", line 53, in __get__
    result = self.method(inst)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/framework/serializer.py", line 121, in data
    ret_data = super().data
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/serializers.py", line 548, in data
    ret = super().data
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/serializers.py", line 246, in data
    self._data = self.to_representation(self.instance)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/serializers.py", line 502, in to_representation
    attribute = field.get_attribute(instance)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/fields.py", line 457, in get_attribute
    return get_attribute(instance, self.source_attrs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/fields.py", line 97, in get_attribute
    instance = getattr(instance, attr)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/framework/utils/cache.py", line 53, in __get__
    result = self.method(inst)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/myadmin/models/role.py", line 105, in resource_ids
    resource_map[resource_name] = model_resource.get_role_resource([self])
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/myadmin/models/resource.py", line 152, in get_role_resource
    return model_resource_class.objects.filter(q).distinct()
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/models/manager.py", line 82, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/models/query.py", line 904, in filter
    return self._filter_or_exclude(False, *args, **kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/models/query.py", line 923, in _filter_or_exclude
    clone.query.add_q(Q(*args, **kwargs))
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/models/sql/query.py", line 1354, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/models/sql/query.py", line 1377, in _add_q
    check_filterable,
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/models/sql/query.py", line 1385, in _add_q
    check_filterable=check_filterable,
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/db/models/sql/query.py", line 1240, in build_filter
    raise FieldError("Cannot parse keyword query as dict")
django.core.exceptions.FieldError: Cannot parse keyword query as dict
[2021-04-02T10:58:53+0800] [WARNING] [root] [pid:66250] [middleware.py:81] Traceback (most recent call last):
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/core/handlers/base.py", line 113, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/myadmin/views/role.py", line 82, in edit
    return render_to_response("myadmin/role/edit.html", self.response(serializer.data))
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/framework/serializer.py", line 115, in __getattribute__
    return super(ParamsSerializer, self).__getattribute__(key)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/framework/utils/cache.py", line 53, in __get__
    result = self.method(inst)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/framework/serializer.py", line 121, in data
    ret_data = super().data
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/serializers.py", line 548, in data
    ret = super().data
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/serializers.py", line 246, in data
    self._data = self.to_representation(self.instance)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/serializers.py", line 502, in to_representation
    attribute = field.get_attribute(instance)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/fields.py", line 457, in get_attribute
    return get_attribute(instance, self.source_attrs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/fields.py", line 97, in get_attribute
    instance = getattr(instance, attr)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/framework/utils/cache.py", line 53, in __get__
    result = self.method(inst)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/myadmin/models/role.py", line 105, in resource_ids
    resource_map[resource_name] = model_resource.get_role_resource([self])
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/myadmin/models/resource.py", line 211, in get_role_resource
    return self.model_class.objects.filter(self.get_role_q(roles)).distinct()
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/myadmin/models/resource.py", line 195, in get_role_q
    return Q(**{'%s__in' % self.role_field_name, roles})
TypeError: unhashable type: 'list'

[2021-04-02T10:58:54+0800] [ERROR] [django.request] [pid:66250] [log.py:228] Internal Server Error: /myadmin/role/edit
Traceback (most recent call last):
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/core/handlers/exception.py", line 34, in inner
    response = get_response(request)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/core/handlers/base.py", line 115, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/core/handlers/base.py", line 113, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/myadmin/views/role.py", line 82, in edit
    return render_to_response("myadmin/role/edit.html", self.response(serializer.data))
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/framework/serializer.py", line 115, in __getattribute__
    return super(ParamsSerializer, self).__getattribute__(key)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/framework/utils/cache.py", line 53, in __get__
    result = self.method(inst)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/framework/serializer.py", line 121, in data
    ret_data = super().data
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/serializers.py", line 548, in data
    ret = super().data
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/serializers.py", line 246, in data
    self._data = self.to_representation(self.instance)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/serializers.py", line 502, in to_representation
    attribute = field.get_attribute(instance)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/fields.py", line 457, in get_attribute
    return get_attribute(instance, self.source_attrs)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/fields.py", line 97, in get_attribute
    instance = getattr(instance, attr)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/framework/utils/cache.py", line 53, in __get__
    result = self.method(inst)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/myadmin/models/role.py", line 105, in resource_ids
    resource_map[resource_name] = model_resource.get_role_resource([self])
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/myadmin/models/resource.py", line 211, in get_role_resource
    return self.model_class.objects.filter(self.get_role_q(roles)).distinct()
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/myadmin/models/resource.py", line 195, in get_role_q
    return Q(**{'%s__in' % self.role_field_name, roles})
TypeError: unhashable type: 'list'
[2021-04-02T11:32:40+0800] [ERROR] [django.request] [pid:66759] [log.py:228] Internal Server Error: /myadmin/role/edit
Traceback (most recent call last):
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/core/handlers/exception.py", line 34, in inner
    response = get_response(request)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/core/handlers/base.py", line 106, in _get_response
    response = middleware_method(request, callback, callback_args, callback_kwargs)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/apps/myadmin/middleware.py", line 80, in process_view
    user_menus = request.user.resource.menu.using('read')
AttributeError: 'User' object has no attribute 'resource'
[2021-04-02T12:25:52+0800] [WARNING] [root] [pid:67702] [middleware.py:81] Traceback (most recent call last):
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/core/handlers/base.py", line 143, in _get_response
    response = response.render()
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/template/response.py", line 105, in render
    self.content = self.rendered_content
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/framework/response.py", line 107, in rendered_content
    return super(Response, self).rendered_content
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/response.py", line 70, in rendered_content
    ret = renderer.render(self.data, accepted_media_type, context)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/framework/renderers.py", line 23, in render
    rsp = super().render(self, data, accepted_media_type=None, renderer_context=None)
TypeError: render() got multiple values for argument 'accepted_media_type'

[2021-04-02T12:25:52+0800] [ERROR] [django.request] [pid:67702] [log.py:228] Internal Server Error: /myadmin/role/edit
Traceback (most recent call last):
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/core/handlers/exception.py", line 34, in inner
    response = get_response(request)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/core/handlers/base.py", line 145, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/core/handlers/base.py", line 143, in _get_response
    response = response.render()
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/template/response.py", line 105, in render
    self.content = self.rendered_content
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/framework/response.py", line 107, in rendered_content
    return super(Response, self).rendered_content
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/response.py", line 70, in rendered_content
    ret = renderer.render(self.data, accepted_media_type, context)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/framework/renderers.py", line 23, in render
    rsp = super().render(self, data, accepted_media_type=None, renderer_context=None)
TypeError: render() got multiple values for argument 'accepted_media_type'
[2021-04-02T12:27:04+0800] [WARNING] [root] [pid:67737] [middleware.py:81] Traceback (most recent call last):
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/core/handlers/base.py", line 143, in _get_response
    response = response.render()
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/template/response.py", line 105, in render
    self.content = self.rendered_content
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/framework/response.py", line 107, in rendered_content
    return super(Response, self).rendered_content
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/response.py", line 70, in rendered_content
    ret = renderer.render(self.data, accepted_media_type, context)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/framework/renderers.py", line 24, in render
    rsp = super().render(self, *args, **kwargs)
TypeError: render() takes from 2 to 4 positional arguments but 5 were given

[2021-04-02T12:27:05+0800] [ERROR] [django.request] [pid:67737] [log.py:228] Internal Server Error: /myadmin/role/edit
Traceback (most recent call last):
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/core/handlers/exception.py", line 34, in inner
    response = get_response(request)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/core/handlers/base.py", line 145, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/core/handlers/base.py", line 143, in _get_response
    response = response.render()
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/template/response.py", line 105, in render
    self.content = self.rendered_content
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/framework/response.py", line 107, in rendered_content
    return super(Response, self).rendered_content
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/response.py", line 70, in rendered_content
    ret = renderer.render(self.data, accepted_media_type, context)
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/framework/renderers.py", line 24, in render
    rsp = super().render(self, *args, **kwargs)
TypeError: render() takes from 2 to 4 positional arguments but 5 were given
[2021-04-02T12:29:11+0800] [WARNING] [root] [pid:67769] [middleware.py:81] Traceback (most recent call last):
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/core/handlers/base.py", line 143, in _get_response
    response = response.render()
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/template/response.py", line 105, in render
    self.content = self.rendered_content
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/framework/response.py", line 107, in rendered_content
    return super(Response, self).rendered_content
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/response.py", line 73, in rendered_content
    'renderer returned unicode, and did not specify '
AssertionError: renderer returned unicode, and did not specify a charset value.

[2021-04-02T12:29:11+0800] [ERROR] [django.request] [pid:67769] [log.py:228] Internal Server Error: /myadmin/role/edit
Traceback (most recent call last):
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/core/handlers/exception.py", line 34, in inner
    response = get_response(request)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/core/handlers/base.py", line 145, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/core/handlers/base.py", line 143, in _get_response
    response = response.render()
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/django/template/response.py", line 105, in render
    self.content = self.rendered_content
  File "/Users/xzr/Desktop/pipy/djmyframework/djmyframework/framework/response.py", line 107, in rendered_content
    return super(Response, self).rendered_content
  File "/Users/xzr/.virtualenvs/djmyframework/lib/python3.7/site-packages/rest_framework/response.py", line 73, in rendered_content
    'renderer returned unicode, and did not specify '
AssertionError: renderer returned unicode, and did not specify a charset value.
